{"version":3,"sources":["Redux/test/testReducer.js","Redux/user/userReducer.js","Redux/cart/cartTypes.js","Redux/cart/cartUtils.js","Redux/cart/cartReducer.js","Redux/nav/navReducer.js","Redux/action-types.js","Redux/order/orderReducer.js","Redux/rootReducer.jsx","Redux/store.js","constants/api.js","Redux/user/userAction.js","Redux/nav/navAction.js","Redux/cart/cartAction.js","components/IndexMenuItem/indexMenuItem.js","components/IndexMenuSideBar/indexMenuSideBar.js","components/IndexRightSideBar/indexRightSideBar.js","components/SuccessAlert/successAlert.js","components/Nav/nav.js","components/FormInput/FormInput.jsx","components/IndexLogin/indexLogin.js","components/AccountRightBar/accountRightBar.js","Redux/cart/cartSelectors.js","components/CartIcon/cartIcon.jsx","components/CartItem/cartItem.jsx","components/CartDropdown/cartDropdown.jsx","components/Footer/footer.js","components/mainContent.js","components/LandingPage/landingPage.js","components/mainContainer.js","components/SavedItems/savedItems.js","components/ItemCard/itemCard.js","components/IndexNewProduct/indexNewProduct.js","components/IndexProductIntroL/indexProductIntroL.js","components/IndexProductIntroR/indexProductIntroR.js","components/IndexNewClass/indexNewClass.js","components/IndexSubscribe/indexSubscribe.js","pages/indexPage.js","components/ClassHead/classHead.js","components/ClassDetailContent/detailContent.js","components/ClassDetailFooter/detailFooter.js","pages/classDetail.js","components/ItemHead/itemHead.js","components/ItemBrandFilter/itemBrandFilter.js","components/ItemCategoryFilter/itemCategoryFilter.js","components/ItemOrderBy/itemOrderBy.js","pages/ItemList/itemList.js","components/MyBreadCrumb/myBreadCrumb.js","components/ItemImg/itemImg.js","components/ItemAddCart/itemAddCart.js","components/ItemInfo/itemInfo.js","components/ItemSuggest/itemSuggest.js","pages/ItemDetails/itemDetails.js","components/AccountSideBar/accountSideBar.js","components/SubmitButton/submitButton.jsx","components/WishListCard/wishListCard.js","components/WishList/wishList.js","pages/MyWishList/myWishList.js","components/OrderProductCard/orderProductCard.js","pages/OrderDetail/orderDetail.js","components/CancelReservation/cancelReservation.js","components/classItem.js","components/Classes/classes.js","pages/ClassPage/classPage.js","components/ClassCard/classCard.js","pages/ClassList/classList.js","components/Address/address.js","pages/Registration/registration.js","pages/PasswordForgot/passwordForgot.js","pages/PasswordForgotChange/passwordForgotChange.js","components/AccountModify/accountModify.js","pages/Modify/modify.js","components/InquiryAlert/inquiryAlert.js","components/CreditCardBlock/creditCardBlock.js","components/CreditCardNumber/creditCardNumber.js","components/CreditCardAssociation/creditCardAssociation.js","components/CreditCardExpiration/creditCardExpiration.js","components/CreditCardAdd/creditCardAdd.js","components/CreditCardInfo/creditCardInfo.js","pages/CreditCard/creditCard.js","pages/OrderPayMent/orderPayMent.js","components/AnimatedProgressProvider/animatedProgressProvider.js","components/ProgressBoard/progressBoard.js","components/LevelBoard/levelBoard.js","pages/AccountDashboard/accountDashboard.js","pages/OrderDelivery/orderDelivery.js","pages/ErrorPage/errorPage.jsx","Redux/order/orderAction.js","components/OrderHistoryCard/orderHistoryCard.js","pages/OrderHistory/orderHistory.js","pages/shop/shop.data.js","components/CollectionItem/collectionItem.jsx","components/CollectionPreview/collectionPreview.jsx","pages/shop/shop.component.jsx","components/FaqAccordionTitle/FaqAccordionTitle.js","components/FaqAccordionSubtitle/FaqAccordionSubtitle.js","components/FaqAccordionHead/FaqAccordionHead.js","pages/FaqAccordion/FaqAccordion.js","components/CheckoutItem/checkoutItem.jsx","pages/Checkout/chechout.js","components/MyCoupon/MyCoupon.js","App.js","serviceWorker.js","index.js"],"names":["INITIAL_STATE","currentTest","testReducer","state","action","type","payload","logInStatus","userReducer","userInfo","CartActionTypes","TOGGLE_CART_HIDDEN","TOGGLE_CART_SHOW","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM_FROM_CART","ADD_QUANTITY","CLEAR_CART","ADD_COUPONCODE","CLEAR_COUPONCODE","addItemToCart","cartItems","addItem","itemQuantity","existingCartItem","find","cartItem","itemId","map","quantity","removeItemFromCart","cartItemToRemove","filter","hidden","couponCode","cartReducer","navReducer","cancelOrderReducer","persistConfig","key","storage","rootReducer","combineReducers","user","cart","test","nav","cancelOrder","persistReducer","middlewares","logger","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","apiUri","userLogin","userLogInAsync","userEmail","userPassword","loginSuccess","loginFail","dispatch","a","data","request","Request","method","credentials","body","JSON","stringify","headers","Headers","Accept","fetch","response","json","obj","errorMessage","checkLogin","cbLogIn","console","log","userLogOut","userToggleFunc","closeSideBar","toggleCartHidden","toggleCartShow","item","addCouponCode","clearItemFromCart","withRouter","changeState","menuItem","to","pathUrl","className","onClick","data-name","name","itemName","IndexMenuSideBar","subMenu","index","IndexRightSideBar","btnClose","children","Transition","React","forwardRef","props","ref","Slide","direction","SuccessAlert","alertName","alertContext","openAlert","handleAlertClose","alertLinearProgress","alertAutoClose","alertDuration","useState","progress","setProgress","useEffect","timer","setInterval","oldProgress","clearInterval","setTimeout","diff","Math","min","Dialog","open","TransitionComponent","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","LinearProgress","variant","value","f","g","FormInput","handleChange","label","otherProps","onChange","length","connect","bindActionCreators","setUserEmail","setUserPassword","setOpenAlert","setAlertName","setAlertContext","setAlertLinearProgress","setAlertAutoClose","setAlertDuration","event","target","required","sha256","linearProgress","duration","handleAlertOpen","history","push","userFirstName","logOut","success","selectCart","selectUser","selectUserInfo","createSelector","selectUserLogin","selectCartItems","selectCartHidden","selectCouponCode","selectCartItemsCount","reduce","accumalatedQuantity","selectCartTotal","itemPrice","mapStateToProps","createStructuredSelector","itemCount","itemimg","src","alt","tabindex","userToggle","toggle","x","location","brandItem","bodyItem","selfItem","setSubMenu","burgerToggle","setBurgerToggle","subMenuToggle","setSubMenuToggle","searchToggle","setSearchToggle","scrollTop","setScrollTop","pathname","addEventListener","this","scrollY","leftSideBar","document","querySelector","cartDropdown","rightSideBar","clickFunction","e","offsetX","clientWidth","offsetLeft","screenX","removeEventListener","currentTarget","dataset","SideBar","style","opacity","cursor","pointerEvents","placeholder","role","Footer","MainContent","prevProps","scrollTo","Component","LandingPage","scrollDown","offsetHeight","defaultParameter","cosParameter","scrollCount","oldTimestamp","requestAnimationFrame","step","newTimestamp","PI","scrollDistance","cos","scrollingElement","scrollToTop2","MainContainer","otherClass","wish","savedStatus","setSavedStatus","toggleWishListAsync","res","changeSavedStatus","stopPropagation","responseWishList","message","listName","prevPath","preventDefault","href","IndexNewProduct","itemWishList","setitemWishList","info","IndexProductIntroL","imgBright","title","intro","subTitle","subContent","IndexProductIntroR","IndexNewClass","IndexSubscribe","email","setEmail","IndexPage","productInfo1","productInfo2","productInfo3","productInfo4","ClassHead","classImgDir","classImg","content","content2","DetailContent","storeInfo","shopName","shopAddress","shopPhone","classPrice","classContent","classContent1","classContent2","classContent3","classContent4","classTime","match","reservationPeople","setReservationPeople","reservationTime","setReservationTime","popUp","bookQty","bookTime","classId","params","classid","bookTotalPrice","Swal","fire","error","icon","html","showCloseButton","showConfirmButton","focusConfirm","customClass","container","popup","confirmButton","closeButton","close","defaultValue","disabled","querySelectorAll","forEach","i","selectedIndex","detail","setDetail","fetchClassDetailData","Fragment","ItemHead","Banner","Name","Discription","ItemBrandFilter","brandOrCategory","setFilterToggle","filterToggle","originalCardData","setItemCardData","byredoSelected","setByredohSelected","chanelSelected","setChanelSelected","diptyqueSelected","setDiptyqueSelected","jomaloneSelected","setJomaloneSelected","lelaboSelected","setLelaboSelected","floralSelected","setFloralSelected","freshSelected","setFreshSelected","warmSelected","setWarmSelected","woodySelected","setWoodySelected","filterSelect","getAttribute","filterBrandArray","filterFragranceArray","newCardData","brandId","findBrand","findIndex","el","toString","fragranceId","findFragrance","filterClear","ItemCategoryFilter","bodyWashSelected","setBodyWashSelected","lotionsOilsSelected","setLotionsOilsSelected","handsCareSelected","setHandsCareSelected","perfumeSelected","setPerfumeSelected","hairMistSelected","setHairMistSelected","homeScentsSelected","setHomeScentsSelected","filterCategoryArray","itemCategoryId","findCategory","ItemOrderBy","setOrderToggle","order","setOrder","orderChange","htmlFor","setOriginalCardData","itemCardData","itemHeadData","setItemHeadData","setItemWishList","useParams","orderToggle","fetchCardData","fetchWishList","dataWish","rawData","headData","cardData","originalArray","itemArray","sort","b","wishListData","wishList","brandBanner","itemCategoryBanner","brandName","itemCategoryName","brandDiscription","itemImg","eachWish","classes","makeStyles","theme","root","marginTop","spacing","useStyles","Breadcrumbs","separator","aria-label","Typography","ItemImg","pictureShown","setPictureShown","newPictureShow","picture","data-picture","itemimg1","itemimg2","total","userSelect","addQuantity","itemSize","setQuantity","quantityDisplay","itemDiscription","fragranceDiscription","ItemSuggest","itemImgData","setItemImgData","itemInfosData","setItemInfosData","itemWish","setItemWish","fetchItemData","newArray","itemImg2","wishData","discription","fragranceDetails","AccountSideBar","SubmitButton","inverted","deleteSuccess","setDeleteSuccess","deleteWish","myWishList","setMyWishList","fetchAllWishList","itemsWished","MyWishList","OrderProductCard","orderDetail","setOrderDetail","fetchOrderDetailData","orderid","orderId","deliveryData","orderItems","creditCardData","totalPrice","couponDiscount","color","userLastName","userPostCode","userCity","userDistrict","userAddress","userPhone","association","cdNumber","cdMonth","cdYear","cdHolder","billAddressPostCode","billAddressCity","billAddressDistrict","billAddressStreet","ResponsiveDialog","handleClose","confirmCancel","bookId","useTheme","fullScreen","useMediaQuery","breakpoints","down","autoFocus","ClassItem","setOpen","cancelBtn","classInfo","classCategoryName","bookStatus","Classes","myClassList","setMyClassList","allClassList","setAllClassList","myClassSelected","setMyClassSelected","allClassSelected","setAllClassSelected","setClasses","setCancelBtn","setChangeState","changeSelectHandler","select","fetchMyClassData","fetchAllClassDate","fetchCancelBook","classData","allClassData","data-select","ClassPage","remainingPeople","bookInfo","selectClassId","newClassArray","element","indexOf","setClassInfo","setBookInfo","fetchClassData","userId","formControl","margin","minWidth","selectEmpty","cities","setCities","address","setAddress","citiesSelected","setCitiesSelected","districtsSelected","setDistrictsSelected","addressChange","CityName","setDistricts","setPostCode","AreaList","AreaName","ZipCode","getCities","addressJSON","myCompleteAddress","myCity","myPostCode","myAddress","newCode","cityCode","districtCode","FormControl","InputLabel","Select","labelId","MenuItem","gender","setGender","firstName","setFirstName","lastName","setLastName","setEmailName","emailConfirmed","setEmailConfirmed","password","setPassword","passwordConfirmed","setPasswordConfirmed","districts","postCode","confirm","setConfirm","formatError","setFormatError","Date","selectedDate","setSelectedDate","genderChange","errorObj","registrationSent","Object","keys","userAccount","userGender","userBirthday","toLocaleDateString","split","join","utils","DateFnsUtils","Grid","disableToolbar","format","date","KeyboardButtonProps","maxLength","emailSent","setEmailSent","processing","setProcessing","handlePasswordForgot","responsePasswordForgot","noValidate","autoComplete","Input","CircularProgress","verification","setVerification","newPassword","setNewPassword","newPasswordConfirmed","setNewPasswordConfirmed","passwordChanged","setPasswordChanged","slice","handlePasswordForgotChange","responsePasswordForgotChange","mobile","setMobile","oldPassword","setOldPassword","modificationSent","userMobile","passwordSent","Modify","InquiryAlert","openInquiry","handleInquiryClose","inquiryTitle","inquiryContext","leftButton","rightButton","leftButtonFunc","rightButtonFunc","cdLastFourNumber","isDefault","setCreditCardList","inputOpen","setInputOpen","setOpenInquiry","setInquiryTitle","setInquiryContext","deleteSuccesful","setDeleteSuccesful","changeDefault","newCreditCardList","deletePayment","CreditCardNumber","cardNumberFirst","setCardNumberFirst","cardNumberSecond","setCardNumberSecond","cardNumberThird","setCardNumberThird","cardNumberForth","setCardNumbeForth","labelNumFocused","setLabelNumFocused","inputNumFirst","useRef","inputNumSecond","inputNumThird","inputNumForth","handleCardNumChange","inputNumList","insertRawNum","insertNum","errObj","cardNumber","current","firstChild","focus","handleDelete","cdNumFocused","cdNumUnFocused","onKeyDown","onFocus","onBlur","CreditCardAssociation","setAssociation","CreditCardExpiration","setCdMonth","setCdYear","inputMonth","inputYear","handleTimeChange","wholeNum","cdDate","Number","setCreditCardFormState","creditCardFormState","cardHolder","setCardHolder","billCity","setBillCity","billDistrict","setBillDistrict","billPostCode","setBillPostCode","billAddress","setBillAddress","errMessage","setErrMessage","creditCardAddSent","cardNum","creditCardList","fetchCreditCardInfo","creditCardInfo","clearCart","clearCouponCode","UserInfo","orderDelivery","getOrderDelivery","saveCreditCard","setSaveCreditCard","agree","setAgree","setcdHolder","setcdMonth","setcdYear","safeCode","setSafeCode","setassociation","setisDefault","getCreditCardInfo","setGetCreditCardInfo","rotateCard","setRotateCard","changeSafeCode","paymentdata","getSavedCreditCardInfo","addordersToSever","axios","post","confirmToPay","input","AnimatedProgressProvider","interval","undefined","isAnimated","repeat","setState","start","valueStart","update","valueEnd","timing","ease","easingFunction","defaultProps","annualAmount","easeQuadInOut","strokeWidth","styles","buildStyles","pathTransition","textColor","pathColor","trailColor","round","LevelBoard","level","thisYear","getFullYear","setLevel","setAnnualAmount","totalAmount","phone","setPhone","ErrorPage","class","autoPlay","cancelOrderFunc","orderDate","orderStatus","deliveryId","itemBrand","upperBrand","toLowerCase","newItemName","ordersHistory","setOrdersHistory","fetchOrderHistory","orderHistory","created_at","SHOP_DATA","routeName","items","imageUrl","price","backgroundImage","CollectionPreview","toUpperCase","idx","ShopPage","collections","otherCollectionProps","FaqAccordionTitle","arrowIconActive","setArrowIconActive","titleId","clickTitle","FaqAccordionSubtitle","titleDropDownToggle","setTitleDropDownToggle","contentDropDownToggle","setContentDropDownToggle","plusMinusCollapsed","setPlusMinusCollapsed","allClose","active","subtitle","subtitleContent","FaqAccordionHead","FaqAccordion","setTitle","setSubtitle","setAllClose","getData","newObj","values","titleAccordion","subData","onClickSub","data-title","faqTitle","clearItem","removeItem","codeValue","setCodeValue","Data","setData","DisCountValue","setDiscountValue","Disabled","setDisabled","currentData","MyCoupon","App","path","exact","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.ff170c1e.chunk.js","sourcesContent":["const INITIAL_STATE ={\n    currentTest: null\n}\n\nconst testReducer = (state= INITIAL_STATE, action) => {\n    switch (action.type) {\n        case 'SET_CURRENT_Test':\n            return {\n                ...state,\n                currentTest: action.payload\n            }\n\n        default: \n            return state;\n    }\n    \n}\n\nexport default testReducer;\n","const INITIAL_STATE = {\n    logInStatus: null,\n  };\n  \n  const userReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n      case \"LOG_IN\":\n        return {\n          logInStatus: true,\n          userInfo: action.userInfo,\n        };\n      case \"LOG_OUT\":\n        return {\n          logInStatus: false,\n          userInfo: action.userInfo,\n        };\n  \n      default:\n        return state;\n    }\n  };\n  export default userReducer;\n","//傳ACTION防呆頁面\nconst CartActionTypes = {\n  TOGGLE_CART_HIDDEN: \"TOGGLE_CART_HIDDEN\",\n  TOGGLE_CART_SHOW: \"TOGGLE_CART_SHOW\",\n  ADD_ITEM: \"ADD_ITEM\",\n  REMOVE_ITEM: \"REMOVE_ITEM\",\n  CLEAR_ITEM_FROM_CART: \"CLEAR_ITEM_FROM_CART\",\n  ADD_QUANTITY: \"ADD_QUANTITY\",\n  CLEAR_CART: \"CLEAR_CART\",\n  ADD_COUPONCODE: \"ADD_COUPONCODE\",\n  CLEAR_COUPONCODE: \"CLEAR_COUPONCODE\"\n};\n\nexport default CartActionTypes;\n","export const addItemToCart = (cartItems, addItem, itemQuantity = 1) => {\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.itemId === addItem.itemId\n  );\n\n  if (existingCartItem) {\n    return cartItems.map((cartItem) =>\n      cartItem.itemId === addItem.itemId\n        ? { ...cartItem, quantity: cartItem.quantity + itemQuantity }\n        : cartItem\n    );\n  }\n  return [...cartItems, { ...addItem, quantity: itemQuantity }];\n};\n\nexport const removeItemFromCart = (cartItems, cartItemToRemove) => {\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.itemId === cartItemToRemove.itemId\n  );\n  if (existingCartItem.quantity === 1) {\n    return cartItems.filter(\n      (cartItem) => cartItem.itemId !== cartItemToRemove.itemId\n    );\n  }\n  return cartItems.map((cartItem) =>\n    cartItem.itemId === cartItemToRemove.itemId\n      ? { ...cartItem, quantity: cartItem.quantity - 1 }\n      : cartItem\n  );\n};\n","import CartActionTypes from \"./cartTypes\";\nimport { addItemToCart, removeItemFromCart } from \"./cartUtils\";\n\nconst INITIAL_STATE = {\n  hidden: false,\n  cartItems: [],\n  couponCode: '',\n};\n\nconst cartReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CartActionTypes.ADD_COUPONCODE:\n      return {\n        ...state,\n        couponCode: action.payload\n      }\n    case CartActionTypes.CLEAR_COUPONCODE:\n      return {\n        ...state,\n        couponCode: ''\n      }\n    case CartActionTypes.TOGGLE_CART_HIDDEN:\n      return {\n        ...state,\n        hidden: false,\n      };\n    case CartActionTypes.TOGGLE_CART_SHOW:\n      return {\n        ...state,\n        hidden: true,\n      };\n    case CartActionTypes.ADD_ITEM:\n      return {\n        ...state,\n        cartItems: addItemToCart(state.cartItems, action.payload),\n      };\n    case CartActionTypes.REMOVE_ITEM:\n      return {\n        ...state,\n        cartItems: removeItemFromCart(state.cartItems, action.payload),\n      };\n    case CartActionTypes.ADD_QUANTITY:\n      return {\n        ...state,\n        cartItems: addItemToCart(\n          state.cartItems,\n          action.payload,\n          action.quantity\n        ),\n      };\n\n    case CartActionTypes.CLEAR_ITEM_FROM_CART:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(\n          (cartItem) => cartItem.itemId !== action.payload.itemId\n        ),\n      };\n\n    case CartActionTypes.CLEAR_CART:\n      return {\n        ...state,\n        cartItems: [],\n      };\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","import { USER_TOGGLE, CLOSE_SIDE_BAR } from '../action-types'\n\n\nconst navReducer = (state = false, action) => {\n  switch (action.type) {\n    case USER_TOGGLE:\n      return state = true\n    case CLOSE_SIDE_BAR:\n      return state = false\n    default:\n      return state\n  }\n}\n\nexport default navReducer","export const USER_TOGGLE = 'USER_TOGGLE'\nexport const CLOSE_SIDE_BAR = 'CLOSE_SIDE_BAR'\nexport const CANCEL_ORDER = 'CANCEL_ORDER'\n","import { CANCEL_ORDER } from '../action-types'\n\nconst cancelOrderReducer = (state = false, action) => {\n  switch (action.type) {\n    case CANCEL_ORDER:\n      return state = !state\n    default:\n      return state\n  }\n\n}\n\nexport default cancelOrderReducer\n","//Base reducer object that represents all of the state of our application so this root reducer will end up\n//being the actual code that combine all of our other states together. All reducers are going to go into this root reducer\nimport { combineReducers } from \"redux\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport testReducer from \"./test/testReducer\";\nimport userReducer from \"./user/userReducer\";\nimport cartReducer from \"./cart/cartReducer\";\nimport navReducer from \"./nav/navReducer\";\nimport cancelOrderReducer from \"./order/orderReducer\";\n\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  // whitelist: [\"cart\"],\n};\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  cart: cartReducer,\n  test: testReducer,\n  nav: navReducer,\n  cancelOrder: cancelOrderReducer\n});\n\nexport default persistReducer(persistConfig, rootReducer);\n\n//imported in store.js\n","//create a store\n//Add middleware, so we can catch actions when they get fired or dispatched and then dispatch them\nimport { persistStore } from \"redux-persist\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport logger from \"redux-logger\";\nimport rootReducer from \"./rootReducer\";\nimport thunk from \"redux-thunk\";\n\nconst middlewares = [logger, thunk];\n//spread middlewares the array into applyMiddleware, cuz we might want to modify this array in the future so we don't just spread logger\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n//our store\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(...middlewares))\n);\n\n//persistor version of store\n// export const persistor = persistStore(store);\n\nexport default { store };\n","export const apiUri = \"http://13.211.252.44:3030\"\n// export const apiUri = \"http://localhost:3030\"\n// export const apiUri = \"\"","import { apiUri } from \"../../constants/api\";\n\n\n//登入\nexport const userLogin = (userInfo) => {\n  return { type: \"LOG_IN\", userInfo };\n};\n\n//登入頁\nexport const userLogInAsync = (\n  userEmail,\n  userPassword,\n  loginSuccess = () => { },\n  loginFail = () => { }\n) => {\n  return async function getUserInfoFromServer(dispatch) {\n    // 注意header資料格式要設定，伺服器才知道是json格式\n\n    const data = {\n      userEmail,\n      userPassword,\n    };\n\n    //到後端判斷\n    const request = new Request(`${apiUri}/users/login`, {\n      method: \"POST\",\n      credentials: \"include\",\n      body: JSON.stringify(data),\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      }),\n    });\n\n    const response = await fetch(request);\n    const obj = await response.json();\n    // console.log(\"obj\", obj);\n\n    //成功與否，執行callback\n    if (obj.logInStatus) {\n      loginSuccess();\n    } else {\n      loginFail(obj.errorMessage);\n    }\n\n    //更動redux state\n    dispatch({\n      type: obj.logInStatus ? \"LOG_IN\" : \"LOG_OUT\",\n      userInfo: obj.userInfo ? obj.userInfo : {},\n    });\n  };\n};\n\n//檢查登入\nexport const checkLogin = (cbLogIn = () => { }) => {\n  return async function checkLoginFromServer(dispatch) {\n    const request = new Request(`${apiUri}/users/checklogin`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      }),\n    });\n\n    const response = await fetch(request);\n    const obj = await response.json();\n    console.log(\"obj\", obj);\n    console.log(\"action\");\n\n    //execute callback, eg: redirect\n    obj.logInStatus && cbLogIn();\n\n    //更動redux state\n    dispatch({\n      type: obj.logInStatus ? \"LOG_IN\" : \"LOG_OUT\",\n      userInfo: obj.userInfo ? obj.userInfo : {},\n    });\n  };\n};\n\n//登出\nexport const userLogOut = () => {\n  return {\n    type: \"LOG_OUT\",\n    userInfo: {},\n  };\n};\n","import { USER_TOGGLE, CLOSE_SIDE_BAR } from '../action-types'\n\n\nconst userToggleFunc = () => {\n  return {\n    type: USER_TOGGLE\n  }\n}\n\nconst closeSideBar = () => {\n  return {\n    type: CLOSE_SIDE_BAR\n  }\n}\n\nexport { userToggleFunc, closeSideBar }\n\n","import CartActionTypes from \"./cartTypes\";\n\nexport const toggleCartHidden = () => ({\n  type: CartActionTypes.TOGGLE_CART_HIDDEN,\n});\nexport const toggleCartShow = () => ({\n  type: CartActionTypes.TOGGLE_CART_SHOW,\n});\n//數量加一\nexport const addItem = (item) => ({\n  type: CartActionTypes.ADD_ITEM,\n  payload: item,\n});\n\n//數量減一\nexport const removeItem = (item) => ({\n  type: CartActionTypes.REMOVE_ITEM,\n  payload: item,\n});\n//加入couponCode 至 redux\nexport const addCouponCode = (couponCode) => ({\n  type: CartActionTypes.ADD_COUPONCODE,\n  payload: couponCode\n})\n\nexport const clearCouponCode = () => ({\n  type: CartActionTypes.CLEAR_COUPONCODE\n})\n\n//itemDetails頁面增加指定數量進購物車按鈕\nexport const addQuantity = (item, quantity) => ({\n  type: CartActionTypes.ADD_QUANTITY,\n  payload: item,\n  quantity,\n});\n\n////itemDetails頁面加入購物車\nexport const addItemToCart = (item) => ({\n  type: CartActionTypes.ADD_ITEM,\n  payload: item,\n});\n\n//checkout page頁面刪除單筆物件\nexport const clearItemFromCart = (item) => ({\n  type: CartActionTypes.CLEAR_ITEM_FROM_CART,\n  payload: item,\n});\n\n//清掉整台購物車\nexport const clearCart = () => ({\n  type: CartActionTypes.CLEAR_CART,\n});\n","import React from \"react\";\nimport \"./indexMenuItem.scss\";\nimport { FiChevronRight } from \"react-icons/fi\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nconst IndexMenuItem = ({ changeState, menuItem }) => {\n  return (\n    <Link to={menuItem.pathUrl} className=\"menu-link\">\n      <li\n        onClick={changeState}\n        data-name={menuItem.name}\n        className=\"d-flex align-items-center sub-menu-li\">\n        {menuItem.itemName}\n        <FiChevronRight className=\"chevron-right\" />\n      </li>\n    </Link>\n  );\n};\nexport default withRouter(IndexMenuItem);\n","import React from 'react'\nimport './indexMenuSideBar.scss'\nimport IndexMenuItem from '../IndexMenuItem/indexMenuItem'\nconst IndexMenuSideBar = ({ subMenu, state }) => {\n  return (\n    <div className={`position-absolute sub-menu d-flex align-items-center justify-content-around ${state ? 'left-sub-menu-open' : ''}`}>\n      <ul className='position-absolute'>\n        {subMenu.map((item, index) =>\n          <IndexMenuItem key={index} menuItem={item} />\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default IndexMenuSideBar","import React, { Children } from 'react'\nimport './indexRightSideBar.scss'\nimport { FiX } from 'react-icons/fi'\n\n\nconst IndexRightSideBar = ({ state, btnClose, children }) => {\n  return (\n    <div className={`position-absolute right-side-bar d-flex align-items-center justify-content-around ${state ? 'right-side-bar-open' : ''}`}>\n      <div className='menu-title position-absolute d-flex align-items-center'>\n        <span onClick={btnClose}><FiX /></span>\n      </div>\n      {children}\n    </div>\n  )\n}\n\nexport default IndexRightSideBar","import React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\n\n//scss\nimport \"./successAlert.scss\";\n\n//material ui\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SuccessAlert(props) {\n  const {\n    alertName,\n    alertContext,\n    openAlert = false,\n    handleAlertClose,\n    alertLinearProgress = false,\n    alertAutoClose = false,\n    alertDuration = 2000,\n  } = props;\n\n  const [progress, setProgress] = React.useState(0);\n\n  useEffect(() => {\n    if (openAlert && alertLinearProgress) {\n      const timer = setInterval(() => {\n        setProgress((oldProgress) => {\n          // if (oldProgress === 100) {\n          //   return 0;\n          // }\n          console.log(oldProgress);\n          if (oldProgress === 100 && alertAutoClose) {\n            clearInterval(timer);\n            setTimeout(() => {\n              handleAlertClose(false);\n            },10);\n          }\n          const diff = 100 / (alertDuration / 100);\n          return Math.min(oldProgress + diff, 100);\n        });\n      }, 100);\n\n      return () => {\n        clearInterval(timer);\n        setProgress(0);\n      };\n    }\n  }, [openAlert]);\n\n  return (\n    <div>\n      <Dialog\n        open={openAlert}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleAlertClose}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle id=\"alert-dialog-slide-title\">{alertName}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            {alertContext}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleAlertClose} className=\"success-alert\">\n            關閉\n          </Button>\n        </DialogActions>\n        {alertLinearProgress ? (\n          <LinearProgress variant=\"determinate\" value={progress} />\n        ) : (\n          \"\"\n        )}\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n  FiMenu,\n  FiSearch,\n  FiUser,\n  FiShoppingCart,\n  FiX,\n  FiChevronRight,\n} from \"react-icons/fi\";\nimport { Link, withRouter } from \"react-router-dom\";\n\n//Redux\nimport { checkLogin } from \"../../Redux/user/userAction\";\nimport { userToggleFunc, closeSideBar } from \"../../Redux/nav/navAction\";\nimport { toggleCartHidden, toggleCartShow } from \"../../Redux/cart/cartAction\";\n\nimport \"./nav.scss\";\nimport IndexMenuItem from \"../IndexMenuItem/indexMenuItem\";\nimport IndexMenuSideBar from \"../IndexMenuSideBar/indexMenuSideBar\";\nimport IndexRightSideBar from \"../IndexRightSideBar/indexRightSideBar\";\nimport IndexLogin from \"../IndexLogin/indexLogin\";\n// import IndexShoppingCart from \"../IndexShoppingCart/indexShoppingCart\";\nimport AccountRightBar from \"../AccountRightBar/accountRightBar\";\n\n//import CartIcon to replace FiShoppingCart\nimport { connect } from \"react-redux\";\n// import { selectCurrentUser } from '../../redux/user/userSelectors';\nimport CartIcon from \"../CartIcon/cartIcon\";\nimport CartDropdwon from \"../CartDropdown/cartDropdown\";\nimport { bindActionCreators } from \"redux\";\n\nconst Nav = ({\n  location,\n  user,\n  userToggleFunc,\n  closeSideBar,\n  userToggle,\n  checkLogin,\n  toggle,\n  toggleCartHidden,\n  toggleCartShow,\n}) => {\n  // state change\n  // test info\n  const menuItem = [\n    { itemName: \"代理品牌\", name: \"brand\" },\n    { itemName: \"身體保養\", name: \"body\" },\n    { itemName: \"個人香氛\", name: \"self\" },\n    {\n      itemName: \"室內香氣\",\n      name: \"home-scents\",\n      pathUrl: \"/itemlist/category/home-scents\",\n    },\n    // { itemName: \"體驗課程\", name: \"class\", pathUrl: \"/classlist\" },\n    { itemName: 'FAQ', name: 'faq', pathUrl: '/FaqAccordion' }\n  ];\n  const brandItem = [\n    {\n      itemName: \"BYREDO\",\n      name: \"byredo\",\n      pathUrl: \"/itemlist/brand/byredo\",\n    },\n    {\n      itemName: \"CHANEL\",\n      name: \"chanel\",\n      pathUrl: \"/itemlist/brand/chanel\",\n    },\n    {\n      itemName: \"Diptyque\",\n      name: \"diptyque\",\n      pathUrl: \"/itemlist/brand/diptyque\",\n    },\n    {\n      itemName: \"Jo Malone London\",\n      name: \"jomalone\",\n      pathUrl: \"/itemlist/brand/jomalone\",\n    },\n    {\n      itemName: \"LeLabo\",\n      name: \"lelabo\",\n      pathUrl: \"/itemlist/brand/lelabo\",\n    },\n  ];\n  const bodyItem = [\n    {\n      itemName: \"沐浴清潔\",\n      name: \"body-wash\",\n      pathUrl: \"/itemlist/category/body-wash\",\n    },\n    {\n      itemName: \"乳液與保養油\",\n      name: \"lotions-oils\",\n      pathUrl: \"/itemlist/category/lotions-oils\",\n    },\n    {\n      itemName: \"手部保養\",\n      name: \"hands-care\",\n      pathUrl: \"/itemlist/category/hands-care\",\n    },\n  ];\n  const selfItem = [\n    {\n      itemName: \"香水\",\n      name: \"perfume\",\n      pathUrl: \"/itemlist/category/perfume\",\n    },\n    {\n      itemName: \"髮香噴霧與隨身香水\",\n      name: \"hair-mist-travel-size\",\n      pathUrl: \"/itemlist/category/hair-mist-travel-size\",\n    },\n  ];\n\n  const [subMenu, setSubMenu] = useState([]);\n  const [burgerToggle, setBurgerToggle] = useState(false);\n  const [subMenuToggle, setSubMenuToggle] = useState(false);\n  const [searchToggle, setSearchToggle] = useState(false);\n  const [scrollTop, setScrollTop] = useState(false);\n  //  event handler\n  let SideBar = (event) => {\n    switch (event.currentTarget.dataset.name) {\n      case \"brand\":\n        setSubMenu(brandItem);\n        setSubMenuToggle(true);\n        break;\n      case \"body\":\n        setSubMenu(bodyItem);\n        setSubMenuToggle(true);\n        break;\n      case \"self\":\n        setSubMenu(selfItem);\n        setSubMenuToggle(true);\n        break;\n    }\n  };\n\n  const clickFunction = () => {\n    toggleCartShow();\n    closeSideBar();\n    setBurgerToggle(false);\n  };\n\n  useEffect(() => {\n    if (location.pathname !== \"/\") {\n      setBurgerToggle(false);\n      setSubMenuToggle(false);\n      closeSideBar();\n      toggleCartHidden();\n    }\n    window.addEventListener(\"scroll\", function () {\n      this.scrollY > 0 ? setScrollTop(true) : setScrollTop(false);\n    });\n    //一開始載入網頁，驗證身份\n    checkLogin();\n  }, [location.pathname]);\n\n  useEffect(() => {\n    const leftSideBar = document.querySelector(\".menu-item\");\n    const cartDropdown = document.querySelector(\".cart-dropdown\");\n    const rightSideBar = document.querySelector(\".right-side-bar\");\n    const clickFunction = (e) => {\n      if (e.offsetX >= +leftSideBar.clientWidth - +leftSideBar.offsetLeft) {\n        setBurgerToggle(false);\n        setSubMenuToggle(false);\n      }\n\n      if (userToggle || toggle.hidden) {\n        if (e.screenX <= +cartDropdown.offsetLeft - +cartDropdown.clientWidth) {\n          closeSideBar();\n        }\n      }\n      if (toggle.hidden) {\n        if (e.screenX <= +rightSideBar.offsetLeft - rightSideBar.clientWidth) {\n          toggleCartHidden();\n        }\n      }\n    };\n\n    if (toggle.hidden || userToggle) {\n      window.addEventListener(\"click\", clickFunction);\n    } else {\n      window.removeEventListener(\"click\", clickFunction)\n    }\n    console.log(toggle.hidden, userToggle)\n  }, [toggle.hidden, userToggle])\n\n  return (\n    <>\n      <nav\n        className={`${\n          location.pathname === \"/\" ? \"position-fix\" : \"position-sticky\"\n          } nav d-flex justify-content-between align-items-center ${\n          scrollTop || location.pathname !== \"/\" ? \"scroll-down\" : \"\"\n          }`}\n      >\n        {/* Menu  */}\n        <div\n          className={`position-absolute menu-item d-flex align-items-center justify-content-around ${\n            burgerToggle ? \"left-side-bar-open\" : \"\"\n            }`}\n        >\n          <div className=\"menu-title position-absolute d-flex align-items-center\">\n            <span\n              onClick={() => setBurgerToggle(false) || setSubMenuToggle(false)}\n            >\n              <FiX />\n            </span>\n            <p className=\"menu-char\">MENU</p>\n          </div>\n          <ul>\n            {menuItem.map((item, index) => {\n              return (\n                <IndexMenuItem\n                  menuItem={item}\n                  key={index}\n                  changeState={(e) => SideBar(e)}\n                />\n              );\n            })}\n          </ul>\n          <ul style={{ opacity: 0, cursor: 'auto', pointerEvents: 'none' }}>\n            <Link className=\"menu-link\" to=\"/FaqAccordion\">\n              <li className=\"d-flex align-items-center\">\n                <FiChevronRight className=\"chevron-right\" />\n                FAQ\n              </li>\n            </Link>\n          </ul>\n        </div>\n        <IndexMenuSideBar subMenu={subMenu} state={subMenuToggle} />\n        {/* Search */}\n        <div\n          className={`position-absolute search-block ${\n            searchToggle ? \"left-side-bar-open\" : \"\"\n            }`}\n        >\n          <div className=\"search-title position-absolute d-flex align-items-center\">\n            <span onClick={() => setSearchToggle(false)}>\n              <FiX />\n            </span>\n            <p className=\"menu-char\">Search</p>\n          </div>\n          <div className=\"d-flex serach-input position-absolute\">\n            <input type=\"text\" placeholder=\"search\" />\n            <FiSearch />\n          </div>\n        </div>\n        <div className=\"leftItem\">\n          <a\n            onClick={() => (\n              setBurgerToggle(true), closeSideBar(), toggleCartHidden()\n            )}\n            role=\"button\"\n          >\n            <FiMenu />\n          </a>\n          <a\n            role=\"button\"\n            data-name=\"search\"\n            style={{ opacity: \"0\", cursor: \"auto\" }}\n          >\n            <FiSearch />\n          </a>\n        </div>\n        <Link to=\"/\" className=\"index-logo\">\n          <p className=\"index-nav-title\">InSense</p>\n        </Link>\n\n        <IndexRightSideBar btnClose={() => closeSideBar()} state={userToggle}>\n          {userToggle ? (\n            user.logInStatus ? (\n              <AccountRightBar />\n            ) : (\n                <IndexLogin />\n              )\n          ) : (\n              \"\"\n            )}\n        </IndexRightSideBar>\n        <div className=\"rightItem d-flex align-items-center\">\n          {/* 會員登入 */}\n          <a\n            onClick={() => (\n              userToggleFunc(),\n              setBurgerToggle(false),\n              setSubMenuToggle(false),\n              toggleCartHidden()\n            )}\n            role=\"button\"\n            data-name=\"user\"\n          >\n            <FiUser />\n          </a>\n          <CartIcon toggleCartHidden={clickFunction} role=\"button\" />\n          {/* </a> */}\n        </div>\n        <CartDropdwon />\n      </nav>\n    </>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user, userToggle: store.nav, toggle: store.cart };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    {\n      userToggleFunc,\n      closeSideBar,\n      checkLogin,\n      toggleCartHidden,\n      toggleCartShow,\n    },\n    dispatch\n  );\n};\n\n//Use the connect function in react-redux project. To prevent update blocking issue, using compose, 看不懂去問\nconst compose = (f, g) => (x) => f(g(x));\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(Nav);\n","import React from \"react\";\nimport \"./FormInput.scss\";\n\nconst FormInput = ({ handleChange, label, ...otherProps }) => (\n  <div className=\"group\">\n    <input className=\"form-input\" onChange={handleChange} {...otherProps} />\n    {label ? (\n      <label\n        className={`${\n          otherProps.value !== null\n            ? otherProps.value.length\n              ? \"shrink\"\n              : \"\"\n            : \"\"\n        } form-input-label`}\n      >\n        {label}\n      </label>\n    ) : null}\n  </div>\n);\n\nexport default FormInput;\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport \"./indexLogin.scss\";\n\n//alert\nimport SuccessAlert from \"../../components/SuccessAlert/successAlert\";\n\n//sha256\nimport { sha256 } from \"js-sha256\";\n\n//material ui\nimport Button from \"@material-ui/core/Button\";\n\n//component\nimport FormInput from \"../FormInput/FormInput\";\n\n//Redux\nimport { userLogInAsync } from \"../../Redux/user/userAction\";\nimport { closeSideBar } from \"../../Redux/nav/navAction\";\n\nconst IndexLogin = (props) => {\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n\n  //引入Redux\n  const { user, userLogInAsync, closeSideBar } = props;\n\n  //帳號\n  const changeEmail = (event) => {\n    setUserEmail(event.target.value);\n  };\n\n  //密碼\n  const changePassword = (event) => {\n    setUserPassword(event.target.value);\n  };\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //登入function\n  const handleLogin = () => {\n    userLogInAsync(\n      userEmail,\n      sha256(userPassword),\n      function loginSuccess() {\n        setTimeout(() => {\n          closeSideBar();\n        }, 500);\n      },\n      function loginFail(errorMessage) {\n        if (errorMessage === \"No_User_Found\") {\n          handleAlertOpen(\n            \"帳號或密碼錯誤\",\n            \"請詳細檢查帳號及密碼，若忘記密碼可點選『忘記密碼』\"\n          );\n        }\n      }\n    );\n  };\n\n  //redirect to Registration\n  const redirectRegister = () => {\n    props.history.push(\"/account/registration\");\n  };\n\n  const redirectPasswordForgot = () => {\n    props.history.push(\"/account/passwordforgot\");\n  };\n\n  useEffect(() => {\n    // console.log(\"changed\");\n  }, [user]);\n\n  return (\n    <>\n      <div className=\"loginHeader d-flex\">\n        <p>會員登入</p>\n        <FormInput\n          type=\"email\"\n          name=\"email\"\n          value={userEmail}\n          handleChange={changeEmail}\n          label=\"email\"\n          required\n        />\n        <FormInput\n          type=\"password\"\n          name=\"password\"\n          value={userPassword}\n          handleChange={changePassword}\n          label=\"password\"\n          required\n        />\n      </div>\n      <div className=\"loginFooter text-center\">\n        <Button onClick={handleLogin}>登入</Button>\n        {/* <Button onClick={redirectRegister}>註冊</Button> */}\n        <Button onClick={redirectPasswordForgot}>忘記密碼</Button>\n      </div>\n      <SuccessAlert\n        alertName={alertName}\n        alertContext={alertContext}\n        openAlert={openAlert}\n        handleAlertClose={handleAlertClose}\n        alertLinearProgress={alertLinearProgress} //有無時間條\n        alertAutoClose={alertAutoClose} // 自行關閉\n        alertDuration={alertDuration} //時間間隔\n      />\n    </>\n  );\n};\n\n//Redux引入狀態\n//mapStateToProps\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogInAsync, closeSideBar }, dispatch);\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(IndexLogin)\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport \"./accountRightBar.scss\";\nimport { FiChevronRight } from \"react-icons/fi\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\n\n//Redux\nimport { userLogOut } from \"../../Redux/user/userAction\";\n\nimport { apiUri } from \"../../constants/api\";\n\nconst AccountRightBar = (props) => {\n  //引入Redux\n  const { user, userLogOut } = props;\n\n  const handleLogOut = () => {\n    (async () => {\n      const logOut = { success: false };\n\n      //到後端判斷\n      try {\n        const request = new Request(\n          `${apiUri}/users/logout`,\n          {\n            method: \"POST\",\n            credentials: \"include\",\n            headers: new Headers({\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n            }),\n          }\n        );\n\n        const response = await fetch(request);\n        const obj = await response.json();\n        console.log(\"obj\", obj);\n\n        //更改logOut\n        logOut.success = true;\n      } catch (e) {\n        console.log(e);\n\n        //錯誤資訊\n        logOut.errorMessage = e;\n      }\n\n      if (logOut.success) userLogOut();\n      console.log(logOut.errorMessage);\n    })();\n  };\n\n  return (\n    <div className=\"right-bar-wrapper\">\n      <h2>{user.userInfo.userFirstName} 你好</h2>\n      <div className=\"menu-bar\">\n        <ul className=\"accountMenu\">\n          <li className=\"d-flex align-item-center\">\n            <Link\n              to=\"/account\"\n              className=\"d-flex align-item-center account-link\"\n            >\n              <FiChevronRight className=\"icon\" />\n              <p>帳戶資訊</p>\n            </Link>\n          </li>\n          <li className=\"d-flex align-item-center\">\n            <Link\n              to=\"/account/classpage\"\n              className=\"d-flex align-item-center account-link\"\n            >\n              <FiChevronRight className=\"icon\" />\n              <p>我的課程</p>\n            </Link>\n          </li>\n          <li className=\"d-flex align-item-center\">\n            <Link\n              to=\"/account/creditcard\"\n              className=\"d-flex align-item-center account-link\"\n            >\n              <FiChevronRight className=\"icon\" />\n              <p>付款資訊</p>\n            </Link>\n          </li>\n          <li className=\"d-flex align-item-center\">\n            <Link\n              to=\"/account/orderhistory\"\n              className=\"d-flex align-item-center account-link\"\n            >\n              <FiChevronRight className=\"icon\" />\n              <p>訂單記錄</p>\n            </Link>\n          </li>\n          <li className=\"d-flex align-item-center\">\n            <Link\n              to=\"/account/wishlist\"\n              className=\"d-flex align-item-center account-link\"\n            >\n              <FiChevronRight className=\"icon\" />\n              <p>願望清單</p>\n            </Link>\n          </li>\n          <li className=\"d-flex align-item-center\">\n            <Link\n              to=\"/account/modify\"\n              className=\"d-flex align-item-center account-link\"\n            >\n              <FiChevronRight className=\"icon\" />\n              <p>會員資料更改</p>\n            </Link>\n          </li>\n          <li className=\"d-flex align-item-center\">\n            <Link\n              to=\"/FaqAccordion\"\n              className=\"d-flex align-item-center account-link\"\n            >\n              <FiChevronRight className=\"icon\" />\n              <p>FAQ</p>\n            </Link>\n          </li>\n          <li className=\"d-flex align-item-center\">\n            <Button onClick={handleLogOut}>登出</Button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n//Redux引入狀態\n//mapStateToProps\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogOut }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountRightBar);\n","//memorized selector\n\nimport { createSelector } from \"reselect\";\n\nconst selectCart = (state) => state.cart;\nconst selectUser = (state) => state.user;\n\nexport const selectUserInfo = createSelector(\n  [selectUser],\n  (user) => user.userInfo\n);\n\nexport const selectUserLogin = createSelector(\n  [selectUser],\n  (user) => user.logInStatus\n);\n\nexport const selectCartItems = createSelector(\n  [selectCart],\n  (cart) => cart.cartItems\n);\n\nexport const selectCartHidden = createSelector(\n  [selectCart],\n  (cart) => cart.hidden\n);\n\nexport const selectCouponCode = createSelector(\n  [selectCart],\n  (cart) => cart.couponCode\n)\n\nexport const selectCartItemsCount = createSelector(\n  [selectCartItems],\n  (cartItems) =>\n    cartItems.reduce(\n      (accumalatedQuantity, cartItem) =>\n        accumalatedQuantity + cartItem.quantity,\n      0\n    )\n);\n\nexport const selectCartTotal = createSelector([selectCartItems], (cartItems) =>\n  cartItems.reduce(\n    (accumalatedQuantity, cartItem) =>\n      accumalatedQuantity + cartItem.quantity * cartItem.itemPrice,\n    0\n  )\n);\n","import React from \"react\";\nimport { FiShoppingCart } from \"react-icons/fi\";\nimport \"./cartIcon.scss\";\n// import \"../CartItem/cartItem\";\n\nimport { createStructuredSelector } from \"reselect\";\n\nimport { selectCartItemsCount } from \"../../Redux/cart/cartSelectors\";\nimport { connect } from \"react-redux\";\n\nconst CartIcon = ({ toggleCartHidden = () => { }, itemCount }) => (\n  <a className=\"cart-icon\" onClick={toggleCartHidden}>\n    <FiShoppingCart className=\"shopping-icon\" />\n    <span className=\"item-count\">{itemCount}</span>\n  </a>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  itemCount: selectCartItemsCount,\n});\n\nexport default connect(mapStateToProps)(CartIcon);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./cartItem.scss\";\n\nimport { clearItemFromCart } from \"../../Redux/cart/cartAction\";\n\nconst CartItem = ({ cartItem, clearItemFromCart }) => {\n  const { itemName, itemimg, itemPrice, quantity } = cartItem;\n  return (\n    <div className=\"cart-item\">\n      <figure>\n        <img src={itemimg} alt=\"item\" />\n      </figure>\n      <div className=\"item-details\">\n        <span className=\"name\">{itemName}</span>\n        <span className=\"price\">\n          {quantity} x NT$ {itemPrice}\n        </span>\n        <a className=\"arrow\" onClick={() => clearItemFromCart(cartItem)}>\n          &#10005;\n        </a>\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearItemFromCart: (item) => dispatch(clearItemFromCart(item)),\n});\n\nexport default connect(null, mapDispatchToProps)(CartItem);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport CartItem from \"../CartItem/cartItem\";\nimport \"./cartDropdown.scss\";\nimport { FiX } from \"react-icons/fi\";\nimport { bindActionCreators } from \"redux\";\nimport { toggleCartHidden } from \"../../Redux/cart/cartAction\";\n\nimport {\n  selectCartItems,\n  selectCartHidden,\n} from \"../../Redux/cart/cartSelectors\";\nimport { createStructuredSelector } from \"reselect\";\nimport { withRouter } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\n\nconst CartDropdwon = ({ cartItems, hidden, toggleCartHidden, history }) => {\n  return (\n    <div className={`cart-dropdown ${hidden ? \"right-open\" : \"\"}`}>\n      <span onClick={() => toggleCartHidden()}>\n        <FiX />\n      </span>\n      <div className=\"cart-items\">\n        <div className=\"dropdown-header\">購物車</div>\n        {cartItems.length ? (\n          <>\n            {cartItems.map((cartItem) => (\n              <CartItem key={cartItem.itemId} cartItem={cartItem} />\n            ))}\n          </>\n        ) : (\n          <span className=\"empty-message\">購物車現在太空囉~</span>\n        )}\n      </div>\n      <div className=\"cart-button\">\n        <Button\n          className=\"MuiButtonBase-root MuiButton-root MuiButton-outlined success-alert\"\n          tabindex=\"0\"\n          type=\"button\"\n          onClick={() => {\n            history.push(\"/orders/checkout\");\n          }}\n        >\n          <span className=\"MuiButton-label\">前往購物車</span>\n          <span className=\"MuiTouchRipple-root\"></span>\n        </Button>\n      </div>\n    </div>\n  );\n};\n\n//6/29\n// const mapStateToProps = ({ cart: { cartItems, hidden } }) => ({\n//   cartItems, hidden\n// });\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ toggleCartHidden }, dispatch);\n};\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  hidden: selectCartHidden,\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CartDropdwon)\n);\n\n// export default connect(mapStateToProps, mapDispatchToProps)(CartDropdwon);\n","import React from 'react'\nimport './footer.scss'\n\nconst Footer = () => {\n  return (\n    <>\n      <footer className='footer'>\n        <span>InSense Perfume — Copyright © 2000-2020</span>\n      </footer>\n    </>\n  )\n}\n\nexport default Footer","import React, { useState, useEffect } from 'react'\nimport '../styles/style.scss'\nimport { withRouter } from 'react-router-dom'\n\n// 跳轉到頁頭\nclass MainContent extends React.Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      window.scrollTo(0, 0)\n    }\n  }\n  render() {\n    return (\n      <div className='main-container'>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(MainContent)","import React, { useEffect } from \"react\";\nimport { FiChevronDown } from \"react-icons/fi\";\nimport \"./landingPage.scss\";\n\nconst LandingPage = () => {\n  useEffect(() => {\n    document.querySelector('.discover').addEventListener('click', function () {\n      let scrollDown = document.querySelector(\".main-picture\").offsetHeight - 60\n      // window.scrollTo({ left: 0, top: scrollDown, behavior: \"smooth\" })\n      // console.log(document.scrollingElement.scrollTop, window.scrollY)\n\n      // function scrollToTop(duration) {\n      //   // cancel if already on top\n\n      //   let scrollY = window.scrollY, oldTimestamp = null;\n\n      //   function step(newTimestamp) {\n\n      //     if (window.scrollY >= scrollDown) return\n      //     console.log(newTimestamp)\n      //     if (oldTimestamp !== null) {\n\n      //       // if duration is 0 scrollY will be -Infinity\n      //       let scrollNum = scrollY + scrollDown * (newTimestamp - oldTimestamp) / duration\n      //       scrollY = scrollNum >= scrollDown ? scrollDown : scrollNum;\n      //       document.scrollingElement.scrollTop = scrollY;\n      //     }\n      //     oldTimestamp = newTimestamp;\n      //     window.requestAnimationFrame(step);\n\n      //   }\n      //   window.requestAnimationFrame(step);\n      // }\n      // scrollToTop(400)\n\n      function scrollToTop2(duration) {\n        // cancel if already on top\n\n        const defaultParameter = (window.scrollY + scrollDown) / 2;\n        const cosParameter = (window.scrollY - scrollDown) / 2;\n        let scrollCount = 0, oldTimestamp = null;\n\n        function step(newTimestamp) {\n          // console.log(Math.cos(scrollCount))\n          if (window.scrollY >= scrollDown) return\n\n          if (oldTimestamp !== null) {\n            // if duration is 0 scrollCount will be Infinity\n            scrollCount += Math.PI * (newTimestamp - oldTimestamp) / duration;\n            let scrollDistance = defaultParameter + cosParameter * Math.cos(scrollCount >= Math.PI ? Math.PI : scrollCount)\n            // console.log(window.scrollY, scrollDistance)\n            document.scrollingElement.scrollTop = scrollDistance >= scrollDown ? scrollDown : scrollDistance\n          }\n          oldTimestamp = newTimestamp;\n          window.requestAnimationFrame(step);\n        }\n        window.requestAnimationFrame(step);\n      }\n      scrollToTop2(500)\n\n    })\n  }, [])\n\n  return (\n    // main picture\n    <div className=\"landing-page-container position-relative\">\n      <div className=\"main-picture\">\n        <figure>\n          <img src=\"/images/banner/mainpic03.jpg\" alt=\"InSense\" />\n        </figure>\n      </div>\n      <div className=\"landing-page-content position-absolute\">\n        <h1 className=\"slogan1\">SENSE OF ELEGANCE</h1>\n        <h1 className=\"slogan2\">SENSE OF FRAGRANCE</h1>\n        {/* discover more  */}\n        <div className=\"discover d-flex flex-direction-column justify-content-center align-items-center\">\n          <p>Discover More</p>\n          <p className=\"discover-arrow\">\n            <FiChevronDown className=\"discover-arrow\" />\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n","import React from 'react'\nimport '../styles/style.scss'\n\nconst MainContainer = (props) => {\n  return (\n    <div className={`${props.otherClass ? props.otherClass : \"\"} container`}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default MainContainer","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport \"./savedItems.scss\";\nimport { FiBookmark } from \"react-icons/fi\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\nimport { userToggleFunc } from \"../../Redux/nav/navAction\";\n\nimport { apiUri } from '../../constants/api';\n\nfunction SavedItems(props) {\n\n  const { user, userLogin, userLogOut, userToggleFunc, name } = props;\n  //點擊收藏按鈕\n  const [savedStatus, setSavedStatus] = useState(props.wish);\n  // console.log(props.itemId, !!props.wish);\n\n  //像後端請求\n  const toggleWishListAsync = async () => {\n    const data = {\n      itemId: props.itemId,\n    };\n    const res = await fetch(`${apiUri}/itemdetail/togglebookmark`, {\n      method: \"PATCH\",\n      credentials: \"include\",\n      body: JSON.stringify(data),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    const obj = await res.json();\n    return obj;\n  };\n\n  const changeSavedStatus = async (e) => {\n    // console.log(\"itemId\", props.itemId);\n\n    e.stopPropagation()\n\n    if (user.logInStatus) {\n      const responseWishList = await toggleWishListAsync();\n      console.log(\"responseWishList\", responseWishList);\n\n      const logInStatus = responseWishList.logInStatus;\n      const userInfo = responseWishList.userInfo;\n\n      //reset user\n      logInStatus ? userLogin(userInfo) : userLogOut();\n\n      //若為登出，則彈出登入頁\n      if (!logInStatus) {\n        userToggleFunc();\n        // ================= 告知會員現在為登出狀態 ================= //\n      }\n\n      if (responseWishList.message === \"WISH_ADD\") {\n        setSavedStatus(true);\n      } else if (responseWishList.message === \"WISH_REMOVE\") {\n        setSavedStatus(false);\n      }\n    } else {\n      userToggleFunc();\n    }\n  };\n\n\n  //savedStatus\n  useEffect(() => {\n    setSavedStatus(!!props.wish);\n  }, [props.wish, name]);\n\n  //若改變為登出，則將savedStatus設為false\n  useEffect(() => {\n    if (!user.logInStatus) {\n      setSavedStatus(false);\n    }\n  }, [user.logInStatus]);\n\n  return (\n    <>\n      <FiBookmark\n        className={`saved-icon ${\n          savedStatus ? \"saved-icon saved-filled\" : \"saved-icon\"\n          } `}\n        onClick={changeSavedStatus}\n      />\n    </>\n  );\n}\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    { userLogin, userLogOut, userToggleFunc },\n    dispatch\n  );\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SavedItems);\n","import React from \"react\";\nimport \"./itemCard.scss\";\nimport { withRouter } from \"react-router-dom\";\nimport { FiShoppingCart } from \"react-icons/fi\";\n\nimport SavedItems from \"../SavedItems/savedItems\";\n\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { addItem } from \"../../Redux/cart/cartAction\";\n\nconst ItemCard = (props) => {\n  const {\n    name,\n    listName,\n    itemName,\n    itemimg,\n    itemPrice,\n    itemId,\n    addItem,\n    wish,\n    location,\n  } = props;\n\n  console.log(location.pathname);\n  return (\n    <>\n      <div className=\"card-wrapper\">\n        <Link\n          // to={`/itemdetail/${itemId}`}\n          // state={{ prevPath: location.pathname }}\n          to={{\n            pathname: `/itemdetail/${itemId}`,\n            state: {\n              prevPath: location.pathname,\n              listName: listName,\n            },\n          }}\n          className=\"item-detail-url text-center\"\n          role=\"button\"\n        >\n          <div className=\"card-img\">\n            <img src={itemimg} alt=\"\" />\n            <div className=\"item-button-container\">\n              <a\n                className=\"cart-anchor\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  e.stopPropagation()\n                  addItem(props);\n                }}\n                href=\"\"\n              >\n                <FiShoppingCart className=\"cart-button\" />\n              </a>\n            </div>\n          </div>\n          <div className=\"card-content d-flex justify-content-evenly align-items-center\">\n            <p className=\"card-name text-center\">{itemName}</p>\n          </div>\n          <p className=\"card-price text-center\">NT$ {itemPrice}</p>\n        </Link>\n        <div className=\"saved-btn\">\n          <SavedItems\n            className=\"saved-icon\"\n            itemId={itemId}\n            name={name}\n            wish={wish}\n          // itemWishList={itemWishList}\n          // setitemWishList={setitemWishList}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\n// console.log(item);\n\nconst mapDispatchToProps = (dispatch) => ({\n  addItem: (item) => dispatch(addItem(item)),\n});\n\nexport default withRouter(connect(null, mapDispatchToProps)(ItemCard));\n","import React, { useState } from \"react\";\nimport MainContainer from \"../mainContainer\";\nimport ItemCard from \"../ItemCard/itemCard\";\n// import { FiChevronLeft } from \"react-icons/fi\";\n// import { FiChevronRight } from \"react-icons/fi\";\nimport \"./indexNewProduct.scss\";\n\nconst IndexNewProduct = () => {\n    const [itemCardData, setItemCardData] = useState([]);\n    const [itemWishList, setitemWishList] = useState([]);\n    const ItemCardInfo = [\n        {\n            itemId: \"P0006\",\n            itemName: \"BYREDO 吉普賽之水淡香精\",\n            itemPrice: \"6200\",\n            itemimg: \"/images/banner/newest1.png\",\n        },\n        {\n            itemId: \"P0058\",\n            itemName: \"diptyque 磨砂護膚潔手液\",\n            itemPrice: \"2000\",\n            itemimg: \"/images/banner/newest2.png\",\n        },\n        {\n            itemId: \"P0027\",\n            itemName: \"BYREDO 逝去之愛香氛蠟燭\",\n            itemPrice: \"2200\",\n            itemimg: \"/images/banner/newest3.png\",\n        },\n        {\n            itemId: \"P0093\",\n            itemName: \"Le Labo ANOTHER 13 淡香精 \",\n            itemPrice: \"5000\",\n            itemimg: \"/images/banner/newest4.png\",\n        },\n    ];\n\n    return (\n        <MainContainer>\n            <div className=\"text-center new-product-container\">\n                <h1 className=\"d-flex justify-content-center align-items-center\">\n                    <span>最新商品</span>\n                </h1>\n                <div className=\"d-flex  align-items-center justify-content-center\">\n                    {/* <FiChevronLeft className=\"icon-style\" /> */}\n                    <div className=\"d-flex\">\n                        {ItemCardInfo.map((info, index) => {\n                            return (\n                                <ItemCard\n                                    key={index}\n                                    itemId={info.itemId}\n                                    itemName={info.itemName}\n                                    itemPrice={info.itemPrice}\n                                    itemimg={info.itemimg}\n                                    itemWishList={itemWishList}\n                                    setitemWishList={setitemWishList}\n                                />\n                            );\n                        })}\n                    </div>\n                    {/* <FiChevronRight className=\"icon-style\" /> */}\n                </div>\n            </div>\n        </MainContainer>\n    );\n};\n\nexport default IndexNewProduct;\n","import React from \"react\";\nimport \"./indexProductIntroL.scss\";\nimport { Link } from \"react-router-dom\";\nconst IndexProductIntroL = (props) => {\n    return (\n        <div className=\"product-intro-container d-flex\">\n            <div className=\"img-container\">\n                <img\n                    className={props.imgBright ? props.imgBright : \"\"}\n                    src={props.src}\n                />\n            </div>\n            <div className=\"product-content-container\">\n                <div className=\"product-box\">\n                    <div className=\"product-title\">\n                        <h3>{props.title}</h3>\n                        <p>{props.intro}</p>\n                    </div>\n\n                    <div className=\"intro-content\">\n                        <h3>{props.subTitle}</h3>\n                        <p>{props.subContent}</p>\n                    </div>\n                    <Link\n                        to={`/itemdetail/${props.itemId}`}\n                        className=\"button-link text-center\"\n                        type=\"button\"\n                    >\n                        立即選購\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n};\nexport default IndexProductIntroL;\n","import React from \"react\";\nimport \"../IndexProductIntroR/indexProductIntroR.scss\";\nimport { Link } from \"react-router-dom\";\nconst IndexProductIntroR = (props) => {\n    return (\n        <div className=\"product-intro-container-R d-flex\">\n            <div className=\"product-content-container-R\">\n                <div className=\"product-box\">\n                    <div className=\"product-title\">\n                        <h3>{props.title}</h3>\n                        <p>{props.intro}</p>\n                    </div>\n\n                    <div className=\"intro-content\">\n                        <h3>{props.subTitle}</h3>\n                        <p>{props.subContent}</p>\n                    </div>\n                    <Link\n                        to={`/itemdetail/${props.itemId}`}\n                        className=\"button-link text-center\"\n                        type=\"button\"\n                    >\n                        立即選購\n                    </Link>\n                </div>\n            </div>\n            <div className=\"img-container\">\n                <img\n                    className={props.imgBright ? props.imgBright : \"\"}\n                    src={props.src}\n                />\n            </div>\n        </div>\n    );\n};\nexport default IndexProductIntroR;\n","import React from \"react\";\nimport \"./indexNewClass.scss\";\nimport { Link } from \"react-router-dom\";\n\nconst IndexNewClass = (props) => {\n  return (\n    <div className=\"index-class-container d-flex\">\n      <img src={props.src} />\n      <div>\n        <p>最新課程</p>\n        <p>\n          香水和每個人的氣味，都應該具有獨特性並具有標誌性的。\n                    <br />\n                    在調香實作中，創造專屬自己的獨特氣味，讓香水不再是大量複製，而是可以詮釋無二的個人特色。\n                </p>\n        <Link\n          to=\"/classlist\"\n          className=\"button-link text-center\"\n          role=\"button\"\n        >\n          立即預約\n                </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default IndexNewClass;\n","import React, { useState } from \"react\";\nimport \"./indexSubscribe.scss\";\nimport SuccessAlert from '../../components/SuccessAlert/successAlert'\n\nimport { apiUri } from '../../constants/api';\n\nconst IndexSubscribe = () => {\n  const [email, setEmail] = useState(\"\")\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  async function sendEmail() {\n    const data = {\n      userEmail: email\n    }\n    const response = await fetch(`${apiUri}/coupon/sendcoupon`, {\n      method: \"POST\",\n      credentials: \"include\",\n      body: JSON.stringify(data),\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    })\n    const res = await response.json()\n    const { success } = { ...res }\n\n    if (success) handleAlertOpen(\"訂閱成功,優惠券已寄出\", true, true, 2000)\n  }\n\n  return (\n    <div className=\"index-subscribe-container text-center\">\n      <p>訂閱我們送新客優惠券</p>\n      <div className='email-input'>\n        <input value={email} onChange={(e) => { setEmail(e.target.value) }} type=\"text\" placeholder=\"your email address*\" />\n      </div>\n      <a className=\"button-link\" onClick={sendEmail} role=\"button\">\n        SUBSCRIBE\n      </a>\n      <SuccessAlert\n        alertName={alertName}\n        alertContext={alertContext}\n        openAlert={openAlert}\n        handleAlertClose={handleAlertClose}\n        alertLinearProgress={alertLinearProgress}//有無時間條\n        alertAutoClose={alertAutoClose} // 自行關閉\n        alertDuration={alertDuration} //時間間隔\n      />\n    </div>\n  );\n};\nexport default IndexSubscribe;\n","import React from \"react\";\nimport LandingPage from \"../components/LandingPage/landingPage\";\nimport IndexNewProduct from \"../components/IndexNewProduct/indexNewProduct\";\n// import IndexFragranceBanner from \"../components/IndexFragranceBanner/indexFragranceBanner\";\nimport IndexProductIntroL from \"../components/IndexProductIntroL/indexProductIntroL\";\nimport IndexProductIntroR from \"../components/IndexProductIntroR/indexProductIntroR\";\nimport IndexNewClass from \"../components/IndexNewClass/indexNewClass\";\nimport IndexSubscribe from \"../components/IndexSubscribe/indexSubscribe\";\n\nconst IndexPage = () => {\n    const productInfo1 = {\n        itemId: \"P0035\",\n        src: \"/images/banner/floral.jpg\",\n        title: \"花香調\",\n        intro: \"花香調是浪漫的代表，好比是1990 年代的經典即興慢調。\",\n        subTitle: \"CHANEL GABRIELLE 嘉柏麗香水\",\n        subContent: `由四種花朵組成純粹的花香調。帶異國情調的馥郁茉莉花、綻放明亮果香調的依蘭依蘭，\n                加上清新璀璨的橙花，以及充滿女人味的格拉斯晚香玉。`,\n    };\n    const productInfo2 = {\n        itemId: \"P0004\",\n        src: \"/images/banner/woody.png\",\n        title: \"木質香調\",\n        intro: \"冷冽的木質香，可作為中性氣味，成為近年最受歡迎的時髦香氣。\",\n        subTitle: \"BYREDO 北國之春淡香精\",\n        subContent: `簡潔的木香調配方，延續了BYREDO一貫的摩登風格。\n    雪松讓人回想起兒時削鉛筆的氣味，激起求學時期的回憶。 \n    雪松與玫瑰花瓣的清甜，添增了溫暖的現代感，\n    透過調香師的氣味堆疊，創造出深度的香氣。`,\n    };\n\n    const productInfo3 = {\n        itemId: \"P0092\",\n        src: \"/images/banner/fresh.png\",\n        title: \"小清新\",\n        intro: \"結合花香、柑橘和果香，彷彿新鮮空氣湧入，令人精神為之一振。\",\n        subTitle: \"Le Labo BERGAMOT 22 淡香精\",\n        subContent: `佛手柑為主的清新香，令人驚艷的個性與多變性格；\n    清新、乾淨、充滿活力、彷彿具有輕盈的氣泡感。 `,\n    };\n    const productInfo4 = {\n        itemId: \"P0075\",\n        src: \"/images/banner/spicy.png\",\n        title: \"辛辣溫暖香調\",\n        intro: \"以琥珀、香草和沒藥等名貴成分為主，散發出懷舊醉人的特殊香氣。\",\n        subTitle: \"Jo Malone London 黑琥珀與野薑花\",\n        subContent: `在日本香道儀式中被視為瑰寶的迦邏木和  \n    馥郁細緻的琥珀和黑蘭花， 沐浴於黑小荳蔻、\n    薑及荷花性感潔淨香氣，讓身心放鬆舒適。`,\n    };\n    return (\n        <>\n            <LandingPage />\n            <IndexNewProduct />\n            {/* <IndexFragranceBanner /> */}\n            <IndexProductIntroL\n                itemId={productInfo1.itemId}\n                title={productInfo1.title}\n                intro={productInfo1.intro}\n                src={productInfo1.src}\n                subTitle={productInfo1.subTitle}\n                subContent={productInfo1.subContent}\n            />\n            <IndexProductIntroR\n                itemId={productInfo2.itemId}\n                title={productInfo2.title}\n                intro={productInfo2.intro}\n                src={productInfo2.src}\n                subTitle={productInfo2.subTitle}\n                subContent={productInfo2.subContent}\n            />\n            <IndexProductIntroL\n                itemId={productInfo3.itemId}\n                title={productInfo3.title}\n                intro={productInfo3.intro}\n                src={productInfo3.src}\n                subTitle={productInfo3.subTitle}\n                subContent={productInfo3.subContent}\n            />\n            <IndexProductIntroR\n                itemId={productInfo4.itemId}\n                title={productInfo4.title}\n                intro={productInfo4.intro}\n                src={productInfo4.src}\n                subTitle={productInfo4.subTitle}\n                subContent={productInfo4.subContent}\n            />\n            <IndexNewClass src=\"/images/banner/class-main-banner.jpg\" />\n            <IndexSubscribe />\n        </>\n    );\n};\nexport default IndexPage;\n","import React from 'react'\nimport './classHead.scss'\nimport { apiUri } from '../../constants/api';\n\nconst ClassHead = ({ classImgDir, classImg, title, content, content2 }) => {\n  return (\n    <>\n      <div className=\"class-detail-head class-head\">\n        <div className=\"headLeft\">\n          <img className=\"object-fit-cover\" src={`${apiUri}/images/${classImgDir}/${classImg}.png`} />\n        </div>\n        <div className=\"headRight \">\n          <p className=\"headTitle\">{title}</p>\n          <p className=\"headContent\">{content}{content2}</p>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ClassHead;\n","import React from 'react'\nimport './detailContent.scss'\n\nconst DetailContent = ({ storeInfo }) => {\n  return (\n    <ul className='detail-content-wrapper'>\n      <li>門市資訊\n          <ul>\n          <li>門市名稱：{storeInfo.shopName}<br />門市地址：{storeInfo.shopAddress}<br />聯絡電話：{storeInfo.shopPhone}</li>\n        </ul>\n      </li>\n      <li>香水定價\n        <ul>\n          <li>價格：{storeInfo.classPrice}</li>\n        </ul>\n      </li>\n      <li>客製化香水說明\n        <ul className='class-content'>\n          <li>{storeInfo.classContent}</li>\n          {storeInfo.classContent1 !== 'null' ? <li>{storeInfo.classContent1}</li> : ''}\n          {storeInfo.classContent2 !== 'null' ? <li>{storeInfo.classContent2}</li> : ''}\n          {storeInfo.classContent3 !== 'null' ? <li>{storeInfo.classContent3}</li> : ''}\n          {storeInfo.classContent4 !== 'null' ? <li>{storeInfo.classContent4}</li> : ''}\n        </ul>\n      </li>\n      <li>注意事項\n          <ul>\n          <li>為確保調香品質，單日單時段調香人數以6位為上限，敬請把握預約。</li>\n          <li>預約名額僅保留10分鐘，逾時將開放給現場客人。</li>\n          <li>因空間考量，恕不開放陪同。</li>\n          <li>不建議12歲以下兒童參與。</li>\n          <li>現場請勿飲食或攜帶寵物。</li>\n          <li>依各人選擇香料速度現場調香過程約30-60分鐘。</li>\n        </ul>\n      </li>\n    </ul>\n  )\n}\n\nexport default DetailContent","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport './detailFooter.scss'\nimport Swal from 'sweetalert2'\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux'\nimport { userToggleFunc } from '../../Redux/nav/navAction'\nimport { apiUri } from '../../constants/api';\n\nconst DetailFooter = ({ classTime, match, history, classPrice, userToggleFunc }) => {\n  const [reservationPeople, setReservationPeople] = useState('')\n  const [reservationTime, setReservationTime] = useState('')\n\n  const popUp = async () => {\n\n    // post data\n    const data = {\n      bookQty: reservationPeople,\n      bookTime: reservationTime,\n      classId: match.params.classid,\n      bookTotalPrice: classPrice * reservationPeople\n    }\n    const response = await fetch(`${apiUri}/class/classdetail/${match.params.classid}`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    const res = await response.json()\n\n    Swal.fire({\n      title: res.logInStatus ? res.error === '人數超過上限' ? '人數超過上限' : res.error === '請選擇人數' ? '請選擇人數' : res.error === '請選擇時間' ? '請選擇時間' : `感謝${res.userInfo.userFirstName} 先生的預約` : '預約失敗',\n      icon: res.logInStatus ? res.error ? 'info' : 'success' : 'error',\n      html: res.success ?\n        `<p>人數：${data.bookQty}<br/>\n           日期：${classTime}<br/>\n           時間：${data.bookTime}<br/></p>\n          `: res.error ? '' : '<br/>請先登入在做預約的服務<br/><br/>',\n      showCloseButton: true,\n      showConfirmButton: false,\n      focusConfirm: false,\n      // confirmButtonText:\n      //   res.success ? '<i class=\"fa fa-thumbs-up\"></i> 查看預約' : '',\n      // preConfirm: () =>\n      //   res.success ? history.push('/account/classpage') : ''\n      // ,\n      customClass: {\n        container: 'container-class',\n        popup: 'popup-class',\n        title: 'title-class',\n        content: res.success ? 'content-class' : 'content-sub-class',\n        confirmButton: 'confirm-button-class',\n        closeButton: 'close-button-class'\n      }\n    })\n    if (!res.logInStatus) {\n      setTimeout(() => {\n        Swal.close()\n        userToggleFunc()\n      }, 1500)\n    }\n    if (res.success) {\n      setTimeout(() => {\n        Swal.close()\n        history.push('/classlist')\n      }, 2000)\n    }\n  }\n  const resetSelected = () => {\n    const allSelect = document.querySelectorAll('select')\n    allSelect.forEach(i => i.selectedIndex = 0)\n  }\n  return (\n    <>\n      <p className='reservation-date'>預約日期：{classTime}</p>\n      <div className='reservation-wrapper d-flex'>\n        <select defaultValue={'DEFAULT'} onChange={e => setReservationPeople(e.target.value)}>\n          <option value={'DEFAULT'} disabled hidden>預約人數</option>\n          <option value=\"1\">1</option>\n          <option value=\"2\">2</option>\n          <option value=\"3\">3</option>\n          <option value=\"4\">4</option>\n          <option value=\"5\">5</option>\n          <option value=\"6\">6</option>\n        </select>\n        <select defaultValue={'DEFAULT'} onChange={e => setReservationTime(e.target.value)}>\n          <option value={'DEFAULT'} disabled hidden>預約時間</option>\n          <option value=\"13:00\">13:00</option>\n          <option value=\"14:00\">14:00</option>\n          <option value=\"15:00\">15:00</option>\n          <option value=\"16:00\">16:00</option>\n          <option value=\"17:00\">17:00</option>\n          <option value=\"18:00\">18:00</option>\n        </select>\n      </div>\n      <a className='reservation-btn text-center' onClick={() => (popUp(), resetSelected())} role='button'>預約</a>\n    </>\n  )\n}\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    { userToggleFunc },\n    dispatch\n  );\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(DetailFooter))","import React, { useState, useEffect } from \"react\";\nimport ClassHead from \"../components/ClassHead/classHead\";\nimport MainContainer from \"../components/mainContainer\";\nimport DetailContent from \"../components/ClassDetailContent/detailContent\";\nimport DetailFooter from \"../components/ClassDetailFooter/detailFooter\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { apiUri } from \"../constants/api\";\n\nconst ClassDetail = ({ match }) => {\n  const [detail, setDetail] = useState([]);\n\n  const fetchClassDetailData = async () => {\n    const res = await fetch(\n      `${apiUri}/class/classdetail/${match.params.classid}`\n    );\n    const data = res.json();\n    return data;\n  };\n  useEffect(() => {\n    (async () => {\n      const data = await fetchClassDetailData();\n      setDetail(data);\n    })();\n  }, []);\n\n  return (\n    <>\n      {detail.map((info, index) => {\n        return (\n          <React.Fragment key={index}>\n            <MainContainer>\n              <ClassHead\n                title={info.className}\n                classImg={info.classImg}\n                classImgDir={\"class\"}\n              />\n              <DetailContent storeInfo={info} />\n              <DetailFooter\n                classTime={info.classTime}\n                classPrice={info.classPrice}\n              />\n            </MainContainer>\n          </React.Fragment>\n        );\n      })}\n    </>\n  );\n};\n\nexport default withRouter(ClassDetail);\n","import React from \"react\";\nimport \"./itemHead.scss\";\n// import { withRouter } from \"react-router-dom\";\n\nconst ItemHead = (props) => {\n    return (\n        <>\n            <div className=\"item-head\">\n                <div className=\"item-head-banner\">\n                    <img className=\"object-fit-cover\" src={props.Banner} />\n                </div>\n                <h1 className=\"brand-name\">{props.Name}</h1>\n                {props.Discription ? (\n                    <p className=\"brand-content\">{props.Discription}</p>\n                ) : (\n                    \"\"\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default ItemHead;\n// export default withRouter(ItemHead);\n","import React, { useState, useEffect } from \"react\";\nimport \"./itemBrandFilter.scss\";\nimport {\n    FiX,\n    FiCircle,\n    FiCheckCircle,\n    FiCheckSquare,\n    FiSquare,\n} from \"react-icons/fi\";\n// import { withRouter } from \"react-router-dom\";\n\nconst ItemBrandFilter = (props) => {\n    //解構\n    const {\n        brandOrCategory,\n        name,\n        filterToggle,\n        setFilterToggle,\n        otherClass,\n        originalCardData,\n        setItemCardData,\n    } = props;\n\n    //品牌 brand\n    const [byredoSelected, setByredohSelected] = useState(false);\n    const [chanelSelected, setChanelSelected] = useState(false);\n    const [diptyqueSelected, setDiptyqueSelected] = useState(false);\n    const [jomaloneSelected, setJomaloneSelected] = useState(false);\n    const [lelaboSelected, setLelaboSelected] = useState(false);\n    //fragrance\n    const [floralSelected, setFloralSelected] = useState(false);\n    const [freshSelected, setFreshSelected] = useState(false);\n    const [warmSelected, setWarmSelected] = useState(false);\n    const [woodySelected, setWoodySelected] = useState(false);\n\n    const filterSelect = (e) => {\n        // console.log(e.currentTarget);\n        console.log(e.currentTarget.getAttribute(\"name\"));\n\n        switch (e.currentTarget.getAttribute(\"name\")) {\n            case \"byredo\":\n                setByredohSelected(!byredoSelected);\n                break;\n            case \"chanel\":\n                setChanelSelected(!chanelSelected);\n                break;\n            case \"diptyque\":\n                setDiptyqueSelected(!diptyqueSelected);\n                break;\n            case \"jomalone\":\n                setJomaloneSelected(!jomaloneSelected);\n                break;\n            case \"lelabo\":\n                setLelaboSelected(!lelaboSelected);\n                break;\n            case \"floral\":\n                setFloralSelected(!floralSelected);\n                break;\n            case \"fresh\":\n                setFreshSelected(!freshSelected);\n                break;\n            case \"warm\":\n                setWarmSelected(!warmSelected);\n                break;\n            case \"woody\":\n                setWoodySelected(!woodySelected);\n                break;\n            default:\n                break;\n        }\n    };\n    //filter\n    useEffect(() => {\n        console.log(originalCardData);\n        const filterBrandArray = [];\n        byredoSelected && filterBrandArray.push(1);\n        chanelSelected && filterBrandArray.push(2);\n        diptyqueSelected && filterBrandArray.push(3);\n        jomaloneSelected && filterBrandArray.push(4);\n        lelaboSelected && filterBrandArray.push(5);\n        console.log(\"Brand\", filterBrandArray);\n\n        const filterFragranceArray = [];\n        floralSelected && filterFragranceArray.push(1);\n        freshSelected && filterFragranceArray.push(2);\n        warmSelected && filterFragranceArray.push(3);\n        woodySelected && filterFragranceArray.push(4);\n        console.log(\"Fragrance\", filterFragranceArray);\n\n        if (!filterBrandArray.length && !filterFragranceArray.length) {\n            console.log(\"original\", originalCardData);\n            setItemCardData(originalCardData);\n        } else {\n            const newCardData = originalCardData.filter((item) => {\n                //先判斷有沒有在brand\n                const brandId = item.brandId;\n                const findBrand = filterBrandArray.length\n                    ? filterBrandArray.findIndex((el) => {\n                          return brandId.toString() === el.toString()\n                              ? true\n                              : false;\n                      })\n                    : 1;\n                // if (filterBrand > -1) return true;//union聯集\n\n                //再判斷有沒有在fragrance\n                const fragranceId = item.fragranceId;\n                const findFragrance = filterFragranceArray.length\n                    ? filterFragranceArray.findIndex((el) => {\n                          return fragranceId.toString() === el.toString()\n                              ? true\n                              : false;\n                      })\n                    : 1;\n                // if (findFragrance > -1) return true;//union聯集\n                if (findBrand > -1 && findFragrance > -1) return true;\n            });\n            console.log(\"newCardData\", newCardData);\n            setItemCardData(newCardData);\n        }\n    }, [\n        byredoSelected,\n        chanelSelected,\n        diptyqueSelected,\n        jomaloneSelected,\n        lelaboSelected,\n        floralSelected,\n        freshSelected,\n        warmSelected,\n        woodySelected,\n    ]);\n\n    const filterClear = () => {\n        setByredohSelected(false);\n        setChanelSelected(false);\n        setDiptyqueSelected(false);\n        setJomaloneSelected(false);\n        setLelaboSelected(false);\n        setFloralSelected(false);\n        setFreshSelected(false);\n        setWarmSelected(false);\n        setWoodySelected(false);\n    };\n\n    useEffect(() => {\n        filterClear();\n    }, [name]);\n    return (\n        <>\n            <section\n                className={`filter-bar-brand position-absolute ${otherClass}`}\n            >\n                <div className=\"filter-wrapper\">\n                    <div className=\"filter-bar-element\">\n                        {/* <button className=\"filter-bar-opener\" label=\"Filter\">\n                        Filter\n                    </button> */}\n                        <section className=\"filter filter-bar-layer layer-opened\">\n                            <div className=\"filter-layer layer\">\n                                <div className=\"filter-layer-header d-flex\">\n                                    <span\n                                        className=\"close-icon-box\"\n                                        onClick={() => setFilterToggle(false)}\n                                    >\n                                        <FiX className=\"close-icon\" />\n                                    </span>\n                                    <h2>Filter By Brand & Fragrance</h2>\n                                </div>\n                                <div className=\"filter-layer d-flex\">\n                                    <div className=\"filter-content-2\">\n                                        <div\n                                            className=\"category-name d-flex\"\n                                            name=\"byredo\"\n                                            onClick={filterSelect}\n                                        >\n                                            {byredoSelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>Byredo</p>\n                                        </div>\n                                        <div\n                                            className=\"category-name d-flex \"\n                                            name=\"chanel\"\n                                            onClick={filterSelect}\n                                        >\n                                            {chanelSelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>Chanel</p>\n                                        </div>\n                                        <div\n                                            className=\"category-name d-flex \"\n                                            name=\"diptyque\"\n                                            onClick={filterSelect}\n                                        >\n                                            {diptyqueSelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>Diptyque</p>\n                                        </div>\n                                        <div\n                                            className=\"category-name d-flex \"\n                                            name=\"jomalone\"\n                                            onClick={filterSelect}\n                                        >\n                                            {jomaloneSelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>Jo Malone Londen</p>\n                                        </div>\n                                        <div\n                                            className=\"category-name d-flex \"\n                                            name=\"lelabo\"\n                                            onClick={filterSelect}\n                                        >\n                                            {lelaboSelected ? (\n                                                <FiCheckSquare />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>Le Labo</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"filter-content-2\">\n                                        <div\n                                            className=\"category-name d-flex\"\n                                            name=\"floral\"\n                                            onClick={filterSelect}\n                                        >\n                                            {floralSelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>花香調</p>\n                                        </div>\n                                        <div\n                                            className=\"category-name d-flex \"\n                                            name=\"fresh\"\n                                            onClick={filterSelect}\n                                        >\n                                            {freshSelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>清新香調</p>\n                                        </div>\n                                        <div\n                                            className=\"category-name d-flex \"\n                                            name=\"warm\"\n                                            onClick={filterSelect}\n                                        >\n                                            {warmSelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>溫暖辛辣香調</p>\n                                        </div>\n                                        <div\n                                            className=\"category-name d-flex \"\n                                            name=\"woody\"\n                                            onClick={filterSelect}\n                                        >\n                                            {woodySelected ? (\n                                                <FiCheckSquare className=\"checkbox\" />\n                                            ) : (\n                                                <FiSquare />\n                                            )}\n                                            <p>木質香調</p>\n                                        </div>\n                                        <div className=\"btn-clear-box\">\n                                            <button\n                                                className=\"btn-clear\"\n                                                onClick={filterClear}\n                                            >\n                                                Clear All\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </section>\n        </>\n    );\n};\n\nexport default ItemBrandFilter;\n","import React, { useState, useEffect } from \"react\";\nimport \"./itemCategoryFilter.scss\";\nimport {\n  FiX,\n  FiCircle,\n  FiCheckCircle,\n  FiCheckSquare,\n  FiSquare,\n} from \"react-icons/fi\";\n// import { withRouter } from \"react-router-dom\";\n\nconst ItemCategoryFilter = (props) => {\n  //解構\n  const {\n    brandOrCategory,\n    name,\n    filterToggle,\n    setFilterToggle,\n    otherClass,\n    originalCardData,\n    setItemCardData,\n  } = props;\n\n  //category\n  const [bodyWashSelected, setBodyWashSelected] = useState(false);\n  const [lotionsOilsSelected, setLotionsOilsSelected] = useState(false);\n  const [handsCareSelected, setHandsCareSelected] = useState(false);\n  const [perfumeSelected, setPerfumeSelected] = useState(false);\n  const [hairMistSelected, setHairMistSelected] = useState(false);\n  const [homeScentsSelected, setHomeScentsSelected] = useState(false);\n  //fragrance\n  const [floralSelected, setFloralSelected] = useState(false);\n  const [freshSelected, setFreshSelected] = useState(false);\n  const [warmSelected, setWarmSelected] = useState(false);\n  const [woodySelected, setWoodySelected] = useState(false);\n\n  const filterSelect = (e) => {\n    // console.log(e.currentTarget);\n    console.log(e.currentTarget.getAttribute(\"name\"));\n\n    switch (e.currentTarget.getAttribute(\"name\")) {\n      case \"bodyWash\":\n        setBodyWashSelected(!bodyWashSelected);\n        break;\n      case \"lotionsOils\":\n        setLotionsOilsSelected(!lotionsOilsSelected);\n        break;\n      case \"handsCare\":\n        setHandsCareSelected(!handsCareSelected);\n        break;\n      case \"perfume\":\n        setPerfumeSelected(!perfumeSelected);\n        break;\n      case \"hairMist\":\n        setHairMistSelected(!hairMistSelected);\n        break;\n      case \"homeScents\":\n        setHomeScentsSelected(!homeScentsSelected);\n        break;\n      case \"floral\":\n        setFloralSelected(!floralSelected);\n        break;\n      case \"fresh\":\n        setFreshSelected(!freshSelected);\n        break;\n      case \"warm\":\n        setWarmSelected(!warmSelected);\n        break;\n      case \"woody\":\n        setWoodySelected(!woodySelected);\n        break;\n      default:\n        break;\n    }\n  };\n\n  //filter\n  useEffect(() => {\n    console.log(originalCardData);\n    const filterCategoryArray = [];\n    bodyWashSelected && filterCategoryArray.push(4);\n    lotionsOilsSelected && filterCategoryArray.push(5);\n    handsCareSelected && filterCategoryArray.push(6);\n    perfumeSelected && filterCategoryArray.push(7);\n    hairMistSelected && filterCategoryArray.push(8);\n    homeScentsSelected && filterCategoryArray.push(3);\n    console.log(\"Category\", filterCategoryArray);\n\n    const filterFragranceArray = [];\n    floralSelected && filterFragranceArray.push(1);\n    freshSelected && filterFragranceArray.push(2);\n    warmSelected && filterFragranceArray.push(3);\n    woodySelected && filterFragranceArray.push(4);\n    console.log(\"Fragrance\", filterFragranceArray);\n\n    if (!filterCategoryArray.length && !filterFragranceArray.length) {\n      setItemCardData(originalCardData);\n    } else {\n      const newCardData = originalCardData.filter((item) => {\n        console.log(filterCategoryArray)\n        //先判斷有沒有在category\n        const itemCategoryId = item.itemCategoryId;\n        const findCategory = filterCategoryArray.length\n          ? filterCategoryArray.findIndex((el) => {\n            return itemCategoryId.toString() === el.toString()\n              ? true\n              : false;\n          })\n          : 1;\n        // if (findCategory > -1) return true;//union聯集\n\n        //再判斷有沒有在fragrance\n        const fragranceId = item.fragranceId;\n        const findFragrance = filterFragranceArray.length\n          ? filterFragranceArray.findIndex((el) => {\n            return fragranceId.toString() === el.toString()\n              ? true\n              : false;\n          })\n          : 1;\n        // if (findFragrance > -1) return true;//union聯集\n        if (findCategory > -1 && findFragrance > -1) return true;\n      });\n      console.log(\"newCardData\", newCardData);\n      setItemCardData(newCardData);\n    }\n  }, [\n    bodyWashSelected,\n    lotionsOilsSelected,\n    handsCareSelected,\n    perfumeSelected,\n    hairMistSelected,\n    homeScentsSelected,\n    floralSelected,\n    freshSelected,\n    warmSelected,\n    woodySelected,\n  ]);\n\n  const filterClear = () => {\n    setBodyWashSelected(false);\n    setLotionsOilsSelected(false);\n    setHandsCareSelected(false);\n    setPerfumeSelected(false);\n    setHairMistSelected(false);\n    setHomeScentsSelected(false);\n    setFloralSelected(false);\n    setFreshSelected(false);\n    setWarmSelected(false);\n    setWoodySelected(false);\n  };\n\n  useEffect(() => {\n    filterClear();\n  }, [name]);\n\n  return (\n    <>\n      <section\n        className={`filter-bar-cat position-absolute ${otherClass}`}\n      >\n        <div className=\"filter-wrapper\">\n          <div className=\"filter-bar-element\">\n            <section className=\"filter filter-bar-layer layer-opened\">\n              <div className=\"filter-layer-header d-flex\">\n                <span\n                  className=\"close-icon-box\"\n                  onClick={() => setFilterToggle(false)}\n                >\n                  <FiX className=\"close-icon\" />\n                </span>\n                <h2>Filter By Category & Fragrance</h2>\n              </div>\n\n              <div className=\"filter-layer d-flex\">\n                <div className=\"filter-content\">\n                  <div\n                    className=\"category-name d-flex\"\n                    name=\"bodyWash\"\n                    onClick={filterSelect}\n                  >\n                    {bodyWashSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>沐浴清潔</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"lotionsOils\"\n                    onClick={filterSelect}\n                  >\n                    {lotionsOilsSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>乳液與保養油</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"handsCare\"\n                    onClick={filterSelect}\n                  >\n                    {handsCareSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>手部保養</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"perfume\"\n                    onClick={filterSelect}\n                  >\n                    {perfumeSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>香水</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"hairMist\"\n                    onClick={filterSelect}\n                  >\n                    {hairMistSelected ? (\n                      <FiCheckSquare />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>髮香噴霧與隨身香水</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"homeScents\"\n                    onClick={filterSelect}\n                  >\n                    {homeScentsSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>室內香氛</p>\n                  </div>\n                </div>\n                <div className=\"filter-content\">\n                  <div\n                    className=\"category-name d-flex\"\n                    name=\"floral\"\n                    onClick={filterSelect}\n                  >\n                    {floralSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>花香調</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"fresh\"\n                    onClick={filterSelect}\n                  >\n                    {freshSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>清新香調</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"warm\"\n                    onClick={filterSelect}\n                  >\n                    {warmSelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>溫暖辛辣香調</p>\n                  </div>\n                  <div\n                    className=\"category-name d-flex \"\n                    name=\"woody\"\n                    onClick={filterSelect}\n                  >\n                    {woodySelected ? (\n                      <FiCheckSquare className=\"checkbox\" />\n                    ) : (\n                        <FiSquare />\n                      )}\n                    <p>木質香調</p>\n                  </div>\n                  <div className=\"btn-clear-box\">\n                    <button\n                      className=\"btn-clear\"\n                      onClick={filterClear}\n                    >\n                      Clear All\n                                        </button>\n                  </div>\n                </div>\n              </div>\n            </section>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default ItemCategoryFilter;\n","import React, { useState, useEffect } from \"react\";\nimport \"./itemOrderBy.scss\";\nimport {\n    FiX,\n    FiCircle,\n    FiCheckCircle,\n    FiCheckSquare,\n    FiSquare,\n} from \"react-icons/fi\";\n// import { withRouter } from \"react-router-dom\";\n\nconst ItemOrderBy = (props) => {\n    //解構\n    const {\n        name,\n        setOrderToggle,\n        otherClass,\n        // orderSelect,\n        // setItemCardData,\n        order,\n        setOrder,\n    } = props;\n\n    // const [order, setOrder] = useState();\n\n    const orderChange = (e) => {\n        setOrder(e.target.value);\n        console.log(e.target.value);\n    };\n\n    // const OrderSelect = (e) => {};\n\n    return (\n        <>\n            <section className={`order-bar position-absolute ${otherClass}`}>\n                <div className=\"order-wrapper\">\n                    <div className=\"order-bar-element\">\n                        <section className=\"order order-bar-layer layer-opened\">\n                            <div className=\"order-layer-header d-flex\">\n                                <span\n                                    className=\"close-icon-box\"\n                                    onClick={() => setOrderToggle(false)}\n                                >\n                                    <FiX className=\"close-icon\" />\n                                </span>\n                                <h2>Order By Price</h2>\n                            </div>\n\n                            <div className=\"order-layer d-flex\">\n                                <div className=\"order-content\">\n                                    <input\n                                        type=\"radio\"\n                                        name=\"order\"\n                                        id=\"lowToHigh\"\n                                        className=\"display-none\"\n                                        value=\"lowToHigh\"\n                                        onChange={orderChange}\n                                    ></input>\n                                    <label\n                                        htmlFor=\"lowToHigh\"\n                                        className=\"d-flex align-items-center\"\n                                    >\n                                        {order === \"lowToHigh\" ? (\n                                            <FiCheckCircle className=\"order-select-circle\" />\n                                        ) : (\n                                            <FiCircle className=\"order-select-circle\" />\n                                        )}\n                                        <p>價格低到高</p>\n                                    </label>\n                                    <input\n                                        type=\"radio\"\n                                        name=\"order\"\n                                        id=\"highToLow\"\n                                        className=\"display-none\"\n                                        value=\"highToLow\"\n                                        onChange={orderChange}\n                                    ></input>\n                                    <label\n                                        htmlFor=\"highToLow\"\n                                        className=\"d-flex align-items-center\"\n                                    >\n                                        {order === \"highToLow\" ? (\n                                            <FiCheckCircle className=\"order-select-circle\" />\n                                        ) : (\n                                            <FiCircle className=\"order-select-circle\" />\n                                        )}\n                                        <p>價格高到低</p>\n                                    </label>\n                                    {/* <div\n                                        className=\"order-by-name d-flex\"\n                                        name=\"lowToHigh\"\n                                        onClick={orderSelect}\n                                    >\n                                        {lowToHigh ? (\n                                            <FiCheckSquare className=\"checkbox\" />\n                                        ) : (\n                                            <FiSquare />\n                                        )}\n                                        <p>價格低到高</p>\n                                    </div>\n                                    <div\n                                        className=\"order-by-name d-flex \"\n                                        name=\"highToLow\"\n                                        onClick={orderSelect}\n                                    >\n                                        {highToLow ? (\n                                            <FiCheckSquare className=\"checkbox\" />\n                                        ) : (\n                                            <FiSquare />\n                                        )}\n                                        <p>價格高到低</p>\n                                    </div> */}\n                                </div>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </section>\n        </>\n    );\n};\n\nexport default ItemOrderBy;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter, useParams, Link } from \"react-router-dom\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\n\n//component\nimport ItemHead from \"../../components/ItemHead/itemHead\";\n// import ItemCardData from \"./itemCard.data\";\nimport ItemBrandFilter from \"../../components/ItemBrandFilter/itemBrandFilter\";\nimport ItemCategoryFilter from \"../../components/ItemCategoryFilter/itemCategoryFilter\";\nimport ItemOrderBy from \"../../components/ItemOrderBy/itemOrderBy\";\nimport MainContainer from \"../../components/mainContainer\";\nimport ItemCard from \"../../components/ItemCard/itemCard\";\nimport \"./itemList.scss\";\nimport { apiUri } from \"../../constants/api\";\n\nconst ItemList = (props) => {\n    //Redux\n    const { user, userLogin, userLogOut } = props;\n\n    //localstate\n    const [originalCardData, setOriginalCardData] = useState([]);\n    const [itemCardData, setItemCardData] = useState([]);\n    const [itemHeadData, setItemHeadData] = useState([]);\n    const [itemWishList, setItemWishList] = useState([]);\n    //拿到網址上的 \":brandName\"參數\n    const brandOrCategory = useParams().brandOrCategory;\n    const name = useParams().Name;\n\n    //order\n    const [order, setOrder] = useState();\n\n    //filter toggle\n    const [filterToggle, setFilterToggle] = useState(false);\n    //order toggle\n    const [orderToggle, setOrderToggle] = useState(false);\n\n    //僅做擷取商品資料用途\n    const fetchCardData = async (brandOrCategory, name) => {\n        // const brand = \"chanel\";\n        // console.log(brand);\n        const res = await fetch(\n            `${apiUri}/itemlist/${brandOrCategory}/${name}`\n        );\n        const data = await res.json();\n        // console.log(\"data\", data);\n        return data;\n    };\n\n    //取得願望清單\n    const fetchWishList = async (brandOrCategory, name) => {\n        const res = await fetch(\n            `${apiUri}/itemlist/wishlist/${brandOrCategory}/${name}`,\n            { credentials: \"include\" }\n        );\n        const dataWish = await res.json();\n        console.log(\"dataWish\", dataWish);\n        return dataWish;\n    };\n\n    const handleOpenFilter = () => {\n        setFilterToggle(true);\n    };\n\n    const handleOpenOrder = () => {\n        setOrderToggle(true);\n    };\n    //一開始載入\n    useEffect(() => {\n        console.log(\"changed\");\n\n        (async () => {\n            //1. 獲得資料data\n            const rawData = await fetchCardData(brandOrCategory, name);\n            const headData = rawData[0]; //標題資料\n            const cardData = rawData[1]; //卡片資料\n            setItemHeadData(headData);\n            // console.log(\"cardData\", cardData);\n\n            setOriginalCardData(cardData);\n            setItemCardData(cardData);\n        })();\n        // console.log(\"born\");\n        setFilterToggle(false);\n        setOrderToggle(false);\n        setOrder(\"\");\n    }, [name]);\n\n    useEffect(() => {\n        //萬一有選擇排序\n        const originalArray = [...originalCardData];\n        const itemArray = [...itemCardData];\n        if (order === \"lowToHigh\") {\n            originalArray.sort((a, b) => {\n                return a.itemPrice - b.itemPrice;\n            });\n            itemArray.sort((a, b) => {\n                return a.itemPrice - b.itemPrice;\n            });\n        } else if (order === \"highToLow\") {\n            originalArray.sort((a, b) => {\n                return b.itemPrice - a.itemPrice;\n            });\n            itemArray.sort((a, b) => {\n                return b.itemPrice - a.itemPrice;\n            });\n        }\n        setOriginalCardData(originalArray);\n        setItemCardData(itemArray);\n    }, [order]);\n\n    //登入/登出/載入該頁時，取得願望清單\n    useEffect(() => {\n        if (user.logInStatus) {\n            (async () => {\n                // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n                const wishListData = await fetchWishList(brandOrCategory, name);\n                const logInStatus = wishListData.logInStatus;\n                const userInfo = wishListData.userInfo;\n\n                console.log(\"wishListData\", wishListData);\n\n                // //reset user\n                logInStatus ? userLogin(userInfo) : userLogOut();\n\n                if (logInStatus) {\n                    setItemWishList(wishListData.wishList);\n                }\n            })();\n        }\n    }, [user.logInStatus, name]);\n\n    return (\n        <>\n            {filterToggle ? (\n                <div\n                    className=\"cover\"\n                    onClick={() => {\n                        setFilterToggle(false);\n                    }}\n                ></div>\n            ) : (\n                \"\"\n            )}\n            {orderToggle ? (\n                <div\n                    className=\"cover\"\n                    onClick={() => {\n                        setOrderToggle(false);\n                    }}\n                ></div>\n            ) : (\n                \"\"\n            )}\n            <ItemHead\n                Banner={`${apiUri}/images/banner/${\n                    itemHeadData.length\n                        ? itemHeadData[0].brandBanner\n                            ? itemHeadData[0].brandBanner\n                            : itemHeadData[0].itemCategoryBanner\n                            ? itemHeadData[0].itemCategoryBanner\n                            : \"\"\n                        : \"\"\n                }.png`}\n                Name={\n                    itemHeadData.length\n                        ? itemHeadData[0].brandName\n                            ? itemHeadData[0].brandName\n                            : itemHeadData[0].itemCategoryName\n                            ? itemHeadData[0].itemCategoryName\n                            : \"\"\n                        : \"\"\n                }\n                Discription={\n                    itemHeadData.length\n                        ? itemHeadData[0].brandDiscription\n                            ? itemHeadData[0].brandDiscription\n                            : \"\"\n                        : \"\"\n                }\n            />\n            {console.log(\"itemWishList\", itemWishList)}\n\n            <MainContainer>\n                <div className=\"filter-btn-container d-flex\">\n                    <div className=\"filter-btn-group\">\n                        <div className=\"filter-btn\" onClick={handleOpenFilter}>\n                            Refine your search\n                        </div>\n                    </div>\n                    <div>\n                        <div className=\"filter-btn\" onClick={handleOpenOrder}>\n                            Order by\n                        </div>\n                    </div>\n                </div>\n                {brandOrCategory === \"brand\" ? (\n                    <ItemCategoryFilter\n                        setItemCardData={setItemCardData}\n                        originalCardData={originalCardData}\n                        otherClass={!filterToggle ? \"filter-bar-close\" : \"\"}\n                        filterToggle={filterToggle}\n                        setFilterToggle={setFilterToggle}\n                        brandOrCategory={brandOrCategory}\n                        name={name}\n                    />\n                ) : (\n                    <ItemBrandFilter\n                        setItemCardData={setItemCardData}\n                        originalCardData={originalCardData}\n                        otherClass={!filterToggle ? \"filter-bar-close\" : \"\"}\n                        filterToggle={filterToggle}\n                        setFilterToggle={setFilterToggle}\n                        brandOrCategory={brandOrCategory}\n                        name={name}\n                    />\n                )}\n                <ItemOrderBy\n                    setItemCardData={setItemCardData}\n                    otherClass={!orderToggle ? \"order-bar-close\" : \"\"}\n                    orderToggle={orderToggle}\n                    setOrderToggle={setOrderToggle}\n                    name={name}\n                    order={order}\n                    setOrder={setOrder}\n                />\n                <div className=\"item-list-container d-flex flex-wrap \">\n                    {itemCardData.length\n                        ? itemCardData.map((el, index) => {\n                              return (\n                                  <ItemCard\n                                      key={el.itemId}\n                                      itemId={el.itemId}\n                                      itemimg={`${apiUri}/images/items/${el.itemImg}.png`}\n                                      itemName={el.itemName}\n                                      itemPrice={el.itemPrice}\n                                      listName={\n                                          itemHeadData.length\n                                              ? itemHeadData[0].brandName\n                                                  ? itemHeadData[0].brandName\n                                                  : itemHeadData[0]\n                                                        .itemCategoryName\n                                                  ? itemHeadData[0]\n                                                        .itemCategoryName\n                                                  : \"\"\n                                              : \"\"\n                                      }\n                                      name={name}\n                                      wish={\n                                          itemWishList.findIndex((eachWish) => {\n                                              return el.itemId === eachWish;\n                                          }) < 0\n                                              ? false\n                                              : true\n                                      }\n                                      //   itemWishList={itemWishList}\n                                      //   setitemWishList={setitemWishList}\n                                  />\n                              );\n                          })\n                        : \"\"}\n                    {/* {itemCardData[0].items.map((el, index) => {\n                    return (\n                        <ItemCard\n                            id={el.id}\n                            src={el.src}\n                            Name={el.name}\n                            Price={el.price}\n                            itemWishList={itemWishList}\n                            setitemWishList={setitemWishList}\n                        />\n                    );\n                })} */}\n                </div>\n                {itemCardData.length ? (\n                    \"\"\n                ) : (\n                    <div className=\"filter-box\">\n                        <h4>沒有找到符合的商品</h4>\n                        {/* <h4>Sorry, no items were found.</h4> */}\n                    </div>\n                )}\n            </MainContainer>\n        </>\n    );\n};\n\n//\n\nconst mapStateToProps = (store) => {\n    return { user: store.user, userToggle: store.nav };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n    return bindActionCreators({ userLogin, userLogOut }, dispatch);\n};\n\nexport default withRouter(\n    connect(mapStateToProps, mapDispatchToProps)(ItemList)\n);\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./myBreadCrumb.scss\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Link } from \"react-router-dom\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\n\nfunction MyBreadcrumb(props) {\n  const { location, history, match, itemName, itemId } = props;\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      \"& > * + *\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n  }));\n\n  const classes = useStyles();\n\n  // console.log(location);\n  // console.log(history);\n\n  return (\n    <>\n      <div className={`${classes.root} breadcrumb-wrapper`}>\n        <Breadcrumbs\n          separator={<NavigateNextIcon className=\"bread-arrow\" />}\n          aria-label=\"breadcrumb\"\n        >\n          <Link className=\"pre-state\" to=\"/\">\n            InSense\n                    </Link>\n          {!!location.state && location.state.prevPath !== \"/\" ? (\n            <Link\n              className=\"pre-state\"\n              to={location.state.prevPath}\n            >\n              {location.state.listName}\n            </Link>\n          ) : (\n              \"\"\n            )}\n          <Typography className=\"current-state\">\n            {itemName}\n          </Typography>\n        </Breadcrumbs>\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(MyBreadcrumb);\n","import React, { useState } from \"react\";\nimport \"./itemImg.scss\";\n\nconst ItemImg = (props) => {\n    const [pictureShown, setPictureShown] = useState(props.itemimg);\n\n    const newPictureShow = (e) => {\n        // console.log(e.currentTarget.dataset.picture);\n        setPictureShown(e.currentTarget.dataset.picture);\n    };\n    return (\n        <>\n            <div className=\"item-gallery-container\">\n                <div className=\"item-gallery\">\n                    <div className=\"detail-img-big\">\n                        <img src={pictureShown} />\n                    </div>\n                    <div className=\"d-flex\">\n                        <div\n                            className=\"detail-img-small\"\n                            data-picture={props.itemimg1}\n                            onClick={newPictureShow}\n                        >\n                            <img src={props.itemimg1} />\n                        </div>\n                        {props.itemimg2 ? (\n                            <div\n                                className=\"detail-img-small img-second\"\n                                data-picture={props.itemimg2}\n                                onClick={newPictureShow}\n                            >\n                                <img src={props.itemimg2} />\n                            </div>\n                        ) : (\n                            \"\"\n                        )}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default ItemImg;\n","import React, { useState } from \"react\";\nimport \"./itemAddCart.scss\";\nimport { FiMinus } from \"react-icons/fi\";\nimport { FiPlus } from \"react-icons/fi\";\nimport { addQuantity } from \"../../Redux/cart/cartAction\";\n\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\n\nimport {\n    selectCartItems,\n    selectCartTotal,\n    selectUserLogin,\n} from \"../../Redux/cart/cartSelectors\";\n\nconst ItemAddCart = (item) => {\n    const {\n        itemName,\n        itemSize,\n        itemPrice,\n        itemId,\n        itemimg,\n        addQuantity,\n    } = item;\n    const [quantity, setQuantity] = useState(1);\n    const quantityDisplay = (\n        <>\n            <div>\n                <FiMinus\n                    className=\"minus\"\n                    onClick={() => {\n                        setQuantity(quantity - 1 < 1 ? 1 : quantity - 1);\n                    }}\n                    style={{ cursor: \"pointer\" }}\n                ></FiMinus>\n            </div>\n            <p className=\"total-input\">{quantity}</p>\n            <div>\n                <FiPlus\n                    className=\"plus\"\n                    onClick={() => {\n                        setQuantity(quantity + 1);\n                    }}\n                    style={{ cursor: \"pointer\" }}\n                ></FiPlus>\n            </div>\n        </>\n    );\n    return (\n        <>\n            <div className=\"add-item-wrapper d-flex justify-content-between\">\n                <div className=\"total\">\n                    <p className=\"label\">數量</p>\n                    <div className=\"total-control d-flex align-items-center\">\n                        {quantityDisplay}\n                    </div>\n                </div>\n                <div className=\"item-add-cart\">\n                    <button\n                        variant=\"contained\"\n                        type=\"submit\"\n                        title=\"Add to Cart\"\n                        className=\"btn-cart\"\n                        onClick={() => addQuantity(item, quantity)}\n                    >\n                        加入購物車\n                    </button>\n                </div>\n            </div>\n        </>\n    );\n};\n\nconst mapStateToProps = createStructuredSelector({\n    cartItems: selectCartItems,\n    total: selectCartTotal,\n    userSelect: selectUserLogin,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    addQuantity: (item, quantity) => dispatch(addQuantity(item, quantity)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemAddCart);\n","import React from \"react\";\nimport \"./itemInfo.scss\";\nimport SavedItems from \"../SavedItems/savedItems\";\nimport ItemAddCart from \"../ItemAddCart/itemAddCart\";\n\nimport { createStructuredSelector } from \"reselect\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { addItem } from \"../../Redux/cart/cartAction\";\n\nimport {\n  selectCartItems,\n  selectCartTotal,\n  selectUserLogin,\n} from \"../../Redux/cart/cartSelectors\";\n\nconst ItemInfo = (props) => {\n  return (\n    <>\n      <div className=\"item-info-container\">\n        <div className=\"item-info\">\n          <div className=\"item-info-head d-flex\">\n            <h2 className=\"item-title\">{props.itemName}</h2>\n            <div className=\"btn-saved position-absolute\">\n              <SavedItems\n                className=\"saved-icon\"\n                itemId={props.itemId}\n                wish={props.wish}\n              // itemWishList={props.itemWishList}\n              // setitemWishList={props.setitemWishList}\n              />\n            </div>\n          </div>\n          <div className=\"size-label-container\">\n            <h3 className=\"size-label\">{props.itemSize}</h3>\n          </div>\n          <div className=\"price-wrapper\">\n            <h3 className=\"item-price\">NT$ {props.itemPrice}</h3>\n          </div>\n          <ItemAddCart\n            itemId={props.itemId}\n            itemName={props.itemName}\n            itemPrice={props.itemPrice}\n            itemimg={props.itemimg}\n          />\n          <div className=\"item-discription-container\">\n            <p className=\"item-discription\">{props.itemDiscription}</p>\n            <p className=\"item-fragance\">{props.fragranceDiscription}</p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal,\n  userSelect: selectUserLogin,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addItem: (item) => dispatch(addItem(item)),\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(ItemInfo)\n);\n","import React, { useState } from \"react\";\nimport \"./itemSuggest.scss\";\n// import { FiChevronLeft } from \"react-icons/fi\";\n// import { FiChevronRight } from \"react-icons/fi\";\nimport MainContainer from \"../mainContainer\";\nimport ItemCard from \"../ItemCard/itemCard\";\nimport \"./itemSuggest.scss\";\n\nconst ItemSuggest = () => {\n    const [itemCardData, setItemCardData] = useState([]);\n    const [itemWishList, setitemWishList] = useState([]);\n    const ItemCardInfo = [\n        {\n            itemId: \"P0006\",\n            itemName: \"BYREDO 吉普賽之水淡香精\",\n            itemPrice: \"6200\",\n            itemimg: \"/images/banner/newest1.png\",\n        },\n        {\n            itemId: \"P0058\",\n            itemName: \"diptyque 磨砂護膚潔手液\",\n            itemPrice: \"2000\",\n            itemimg: \"/images/banner/newest2.png\",\n        },\n        {\n            itemId: \"P0027\",\n            itemName: \"BYREDO 逝去之愛香氛蠟燭\",\n            itemPrice: \"2200\",\n            itemimg: \"/images/banner/newest3.png\",\n        },\n        {\n            itemId: \"P0090\",\n            itemName: \"Le Labo SANTAL 33 淡香精\",\n            itemPrice: \"5000\",\n            itemimg: \"/images/items/P0090.png\",\n        },\n    ];\n\n    return (\n        <MainContainer>\n            <div className=\"suggest-container text-center\">\n                <h1 className=\"d-flex justify-content-center align-items-center\">\n                    <span>推薦商品</span>\n                </h1>\n                <div className=\"d-flex  align-items-center justify-content-center\">\n                    {/* <FiChevronLeft className=\"icon-style\" /> */}\n                    <div className=\"d-flex\">\n                        {ItemCardInfo.map((info, index) => {\n                            return (\n                                <ItemCard\n                                    key={index}\n                                    itemId={info.itemId}\n                                    itemName={info.itemName}\n                                    itemPrice={info.itemPrice}\n                                    itemimg={info.itemimg}\n                                    itemWishList={itemWishList}\n                                    setitemWishList={setitemWishList}\n                                />\n                            );\n                        })}\n                    </div>\n                    {/* <FiChevronRight className=\"icon-style\" /> */}\n                </div>\n            </div>\n        </MainContainer>\n    );\n};\n\nexport default ItemSuggest;\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter, Link } from \"react-router-dom\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\n\nimport MyBreadcrumb from \"../../components/MyBreadCrumb/myBreadCrumb\";\nimport MainContainer from \"../../components/mainContainer\";\nimport ItemImg from \"../../components/ItemImg/itemImg\";\nimport ItemInfo from \"../../components/ItemInfo/itemInfo\";\nimport ItemSuggest from \"../../components/ItemSuggest/itemSuggest\";\nimport \"./itemDetails.scss\";\nimport { apiUri } from \"../../constants/api\";\n\n\nconst ItemDetails = (props) => {\n    //Redux\n    const { user, userLogin, userLogOut, history, location } = props;\n\n    //localstate\n    const itemId = props.match.params.itemId;\n    // console.log(itemId);\n    const [itemImgData, setItemImgData] = useState([]);\n    const [itemInfosData, setItemInfosData] = useState({});\n    const [itemWish, setItemWish] = useState(false);\n\n    //僅做擷取資料用途\n    const fetchItemData = async (itemId) => {\n        const res = await fetch(`${apiUri}/itemdetail/${itemId}`);\n        const data = await res.json();\n        console.log(\"data\", data);\n        return data;\n    };\n\n    //取得願望清單\n    const fetchWishList = async (itemId) => {\n        const res = await fetch(\n            `${apiUri}/itemdetail/wishlist/${itemId}`,\n            { credentials: \"include\" }\n        );\n        const dataWish = await res.json();\n        console.log(\"dataWish\", dataWish);\n        return dataWish;\n    };\n\n    useEffect(() => {\n        (async () => {\n            // 獲得資料data\n            const rawData = (await fetchItemData(itemId))[0];\n            console.log(rawData);\n\n            //img\n            const newArray = [rawData.itemImg];\n            if (rawData.itemImg2 && rawData.itemImg2 != \"null\") {\n                newArray.push(rawData.itemImg2);\n            }\n            //info\n            // const infoData = rawData;\n\n            setItemImgData(newArray);\n            setItemInfosData(rawData);\n        })();\n    }, []);\n\n    //登入/登出/載入該頁時，取得願望清單\n    useEffect(() => {\n        if (user.logInStatus) {\n            (async () => {\n                const wishData = await fetchWishList(itemId);\n                const logInStatus = wishData.logInStatus;\n                const userInfo = wishData.userInfo;\n\n                // //reset user\n                logInStatus ? userLogin(userInfo) : userLogOut();\n                console.log(wishData);\n                if (logInStatus) {\n                    setItemWish(wishData.itemWish);\n                }\n            })();\n        }\n        //若已轉為登出\n        if (!user.logInStatus) {\n            setItemWish(false);\n        }\n    }, [user.logInStatus, itemId]);\n\n    console.log(location);\n    console.log(history);\n    return (\n        <>\n            <div className=\"item-details-main-content\">\n                <div className=\"breadcrumb-wrapper\">\n                    <MyBreadcrumb itemName={itemInfosData.itemName} />\n                </div>\n                <div className=\"item-details-container d-flex\">\n                    {itemImgData.length ? (\n                        <ItemImg\n                            itemimg={`${apiUri}/images/items/${itemImgData[0]}.png`}\n                            itemimg1={`${apiUri}/images/items/${itemImgData[0]}.png`}\n                            itemimg2={\n                                itemImgData[1]\n                                    ? `${apiUri}/images/items/${itemImgData[1]}.png`\n                                    : false\n                            }\n                        />\n                    ) : (\n                        \"\"\n                    )}\n                    <ItemInfo\n                        itemName={itemInfosData.itemName}\n                        itemSize={itemInfosData.itemSize}\n                        itemPrice={itemInfosData.itemPrice}\n                        itemDiscription={itemInfosData.discription}\n                        fragranceDiscription={itemInfosData.fragranceDetails}\n                        itemId={itemId}\n                        wish={itemWish}\n                        itemimg={`${apiUri}/images/items/${itemImgData[0]}.png`}\n                    />\n                </div>\n                <div className=\"item-suggest-container\">\n                    <ItemSuggest></ItemSuggest>\n                </div>\n            </div>\n        </>\n    );\n};\n\nconst mapStateToProps = (store) => {\n    return { user: store.user, userToggle: store.nav };\n};\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n    return bindActionCreators({ userLogin, userLogOut }, dispatch);\n};\n\nexport default withRouter(\n    connect(mapStateToProps, mapDispatchToProps)(ItemDetails)\n);\n","import React from \"react\";\nimport \"./accountSideBar.scss\";\nimport { FiChevronRight } from \"react-icons/fi\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\n\nconst AccountSideBar = () => {\n  return (\n    <div className=\"side-bar-wrapper\">\n      <h2>我的帳戶</h2>\n      <ul className=\"accountMenu\">\n        <li className=\"d-flex align-item-center\">\n          <Link\n            to=\"/account\"\n            className=\"d-flex align-item-center account-link\"\n          >\n            <FiChevronRight className=\"icon\" />\n            <p>帳戶資訊</p>\n          </Link>\n        </li>\n        <li className=\"d-flex align-item-center\">\n          <Link\n            to=\"/account/classpage\"\n            className=\"d-flex align-item-center account-link\"\n          >\n            <FiChevronRight className=\"icon\" />\n            <p>我的課程</p>\n          </Link>\n        </li>\n        <li className=\"d-flex align-item-center\">\n          <Link\n            to=\"/account/creditcard\"\n            className=\"d-flex align-item-center account-link\"\n          >\n            <FiChevronRight className=\"icon\" />\n            <p>付款資訊</p>\n          </Link>\n        </li>\n        <li className=\"d-flex align-item-center\">\n          <Link\n            to=\"/account/orderhistory\"\n            className=\"d-flex align-item-center account-link\"\n          >\n            <FiChevronRight className=\"icon\" />\n            <p>訂單記錄</p>\n          </Link>\n        </li>\n        <li className=\"d-flex align-item-center\">\n          <Link\n            to=\"/account/wishlist\"\n            className=\"d-flex align-item-center account-link\"\n          >\n            <FiChevronRight className=\"icon\" />\n            <p>願望清單</p>\n          </Link>\n        </li>\n        <li className=\"d-flex align-item-center\">\n          <Link\n            to=\"/account/modify\"\n            className=\"d-flex align-item-center account-link\"\n          >\n            <FiChevronRight className=\"icon\" />\n            <p>會員資料更改</p>\n          </Link>\n        </li>\n        <li className=\"d-flex align-item-center\">\n          <Link to=\"/FaqAccordion\" className=\"d-flex align-item-center account-link\">\n            <FiChevronRight className=\"icon\" />\n            <p>FAQ</p>\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default AccountSideBar;\n","import React from 'react';\nimport './submitButton.scss';\n\n//把input轉成button傳值 type=\"submit\"就能傳送form 這顆是橘色的submit button\nconst SubmitButton = ({\n   children,\n   inverted,\n   ...otherProps }) => (\n      <button\n         className={`${inverted ? 'inverted' : ''} } submit-button`}\n         {...otherProps}\n      >\n         {children}\n      </button>\n   )\n\nexport default SubmitButton;","import React, { useState, useEffect } from \"react\";\n// import { connect } from \"react-redux\";\nimport \"./wishListCard.scss\";\nimport { Link } from \"react-router-dom\";\n\n//react-icon\nimport { FiX } from \"react-icons/fi\";\n\n//component\nimport SubmitButton from \"../SubmitButton/submitButton\";\nimport { connect } from \"react-redux\";\nimport { addItem } from \"../../Redux/cart/cartAction\";\nimport { apiUri } from \"../../constants/api\";\n\nconst WishListCard = (props) => {\n    const { itemId, itemimg, itemName, itemSize, itemPrice, addItem } = props;\n\n    const [deleteSuccess, setDeleteSuccess] = useState(false);\n    //cancelWish\n    const cancelWish = () => {\n        (async () => {\n            const res = await fetch(\n                `${apiUri}/users/deletewish/${itemId}`,\n                {\n                    method: \"DELETE\",\n                    credentials: \"include\",\n                }\n            );\n            const deleteWish = await res.json();\n\n            console.log(deleteWish);\n\n            if (deleteWish.success) {\n                setDeleteSuccess(true);\n            }\n        })();\n    };\n\n    return (\n        <>\n            <div\n                className={`list-card-container d-flex  ${\n                    deleteSuccess ? \"delete-success\" : \"\"\n                }`}\n            >\n                <div className=\"list-card-img\">\n                    <img\n                        // src={`${apiUri}/images/items/${itemimg}.png`}\n                        src={itemimg}\n                        alt=\"商品圖片\"\n                    />\n                </div>\n                <div className=\"list-card-info flex-grow\">\n                    <Link\n                        to={`/itemdetail/${itemId}`}\n                        className=\"item-detail-url text-center\"\n                        role=\"button\"\n                    >\n                        <div className=\"list-card-head d-flex\">\n                            <h4 className=\"list-card-title \">{itemName}</h4>\n                        </div>\n                    </Link>\n                    <div className=\"list-card-size-container\">\n                        <p className=\"list-card-size \">{itemSize}</p>\n                    </div>\n                    <div className=\"list-card-price-container\">\n                        <p>NT$ {itemPrice}</p>\n                    </div>\n                </div>\n                <div className=\"btns\">\n                    <div className=\"btn-del d-flex justify-content-end\">\n                        <FiX className=\"del-icon\" onClick={cancelWish} />\n                    </div>\n                    <div className=\"btn-add-cart\">\n                        <SubmitButton onClick={() => addItem(props)}>\n                            加入購物車\n                        </SubmitButton>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\n// const mapStateToProps = (store) => {\n//     return { user: store.user };\n// };\n\n//Redux引入函式\n//mapDispatchToProps\n// const mapDispatchToProps = (dispatch) => {\n//     return bindActionCreators({ userLogin, userLogOut }, dispatch);\n// };\nconst mapDispatchToProps = (dispatch) => ({\n    addItem: (item) => dispatch(addItem(item)),\n});\n\nexport default connect(null, mapDispatchToProps)(WishListCard);\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport \"./wishList.scss\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\n\n//引入component\nimport WishListCard from \"../WishListCard/wishListCard\";\nimport SuccessAlert from \"../SuccessAlert/successAlert\";\n\nimport { apiUri } from '../../constants/api';\n\nconst WishList = (props) => {\n  const { user, history } = props;\n  const [myWishList, setMyWishList] = useState([]);\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //取得願望清單\n  const fetchAllWishList = async (brandOrCategory, name) => {\n    const res = await fetch(`${apiUri}/users/wishlist`, {\n      credentials: \"include\",\n    });\n    const dataWish = await res.json();\n\n    // console.log(\"dataWish\", dataWish);\n    return dataWish;\n  };\n\n  useEffect(() => {\n    if (user.logInStatus) {\n      (async () => {\n        const wishList = await fetchAllWishList();\n        console.log(\"itemsWished\", wishList.itemsWished);\n\n        // reset user\n        wishList.logInStatus ? userLogin(wishList.userInfo) : userLogOut();\n\n        if (wishList.logInStatus) {\n          setMyWishList(wishList.itemsWished);\n        }\n      })();\n    } else {\n      if (user.logInStatus !== null) {\n        setMyWishList([]);\n        handleAlertOpen(\"未登入\", \"一秒鐘後跳轉首頁\", true, true, 1000);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 1500);\n      }\n    }\n  }, [user.logInStatus]);\n\n  return (\n    <>\n      <div className=\"list-container\">\n        <h2 className=\"list-title \">我的願望清單</h2>\n        <div className=\"card-group-container d-flex flex-wrap\">\n          {myWishList.length ? (\n            myWishList.map((el) => {\n              return (\n                <WishListCard\n                  key={el.itemId}\n                  itemId={el.itemId}\n                  itemimg={`${apiUri}/images/items/${el.itemImg}.png`}\n                  itemName={el.itemName}\n                  itemPrice={el.itemPrice}\n                />\n              );\n            })\n          ) : (\n              <p>沒有收藏商品</p>\n            )}\n        </div>\n      </div>\n      <SuccessAlert\n        alertName={alertName}\n        alertContext={alertContext}\n        openAlert={openAlert}\n        handleAlertClose={handleAlertClose}\n        alertLinearProgress={alertLinearProgress} //有無時間條\n        alertAutoClose={alertAutoClose} // 自行關閉\n        alertDuration={alertDuration} //時間間隔\n      />\n    </>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user, userToggle: store.nav };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, userLogOut }, dispatch);\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(WishList)\n);\n","import React from \"react\";\nimport \"./myWishList.scss\";\nimport MainContainer from \"../../components/mainContainer\";\nimport AccountSideBar from \"../../components/AccountSideBar/accountSideBar\";\nimport WishList from \"../../components/WishList/wishList\";\n\nconst MyWishList = () => {\n    return (\n        <MainContainer>\n            <div className=\"wish-list-wrapper d-flex\">\n                <AccountSideBar />\n                <WishList />\n            </div>\n        </MainContainer>\n    );\n};\nexport default MyWishList;\n","import React from 'react'\nimport './orderProductCard.scss'\nconst OrderProductCard = ({ itemName, itemId, itemSize, quantity, itemPrice, itemImg }) => {\n  return (\n    <div className='d-flex justify-content-center align-items-center order-detail-product-card'>\n      <figure>\n        <img src={itemImg} />\n      </figure>\n      <ul>\n        <li>\n          {itemName}<br />\n          {itemId}<br />\n          {itemSize}\n        </li>\n      </ul>\n      <p>{quantity}</p>\n      <p>NT$ {itemPrice}</p>\n      <p>NT$ {quantity * itemPrice}</p>\n    </div>\n  )\n}\n\nexport default OrderProductCard\n\n","import React, { useState, useEffect } from 'react'\nimport './orderDetail.scss'\nimport MainContainer from '../../components/mainContainer'\nimport OrderProductCard from '../../components/OrderProductCard/orderProductCard'\nimport { withRouter } from 'react-router-dom'\nimport { apiUri } from \"../../constants/api\";\n\nconst OrderDeatil = ({ match, history }) => {\n  const [orderDetail, setOrderDetail] = useState({})\n\n  const fetchOrderDetailData = async () => {\n    const response = await fetch(`${apiUri}/orders/orderdetail/${match.params.orderid}`, {\n      credentials: 'include'\n    })\n    const data = await response.json()\n    return data\n  }\n  useEffect(() => {\n    (async () => {\n      const data = await fetchOrderDetailData()\n      setOrderDetail(data)\n    })()\n  }, [])\n\n  const { orderId, deliveryData, orderItems, creditCardData, totalPrice, couponDiscount } = { ...orderDetail }\n  console.log(totalPrice)\n  return (\n    <MainContainer>\n      <div className=\"text-center position-relative order-payment-head\">\n        <div className=\"position-absolute order-payment-title\">訂單明細</div>\n        <div className=\"order-payment-step\">\n          <a href=\"#\" onClick={(e) => e.preventDefault()}>\n            寄送資訊{\" \"}\n          </a>{\" \"}\n          ＞\n          <a href=\"#\" onClick={(e) => e.preventDefault()} >\n            付款資訊{\" \"}\n          </a>{\" \"}\n          ＞\n          <a href=\"#\" onClick={(e) => e.preventDefault()} style={{ color: '#d94f06' }}>\n            訂單明細\n          </a>\n        </div>\n      </div>\n      <h2 className='order-title'>訂單編號：{orderId && orderId}</h2>\n      <div className='d-flex order-detail-container'>\n        <div className='order-detail-subContainer'>\n          <ul>配送地址\n            <li>{deliveryData && (deliveryData.userLastName + deliveryData.userFirstName)}<br />\n              {deliveryData && deliveryData.userPostCode}<br />\n              {deliveryData && (deliveryData.userCity + deliveryData.userDistrict)}<br />\n              {deliveryData && deliveryData.userAddress}</li>\n          </ul>\n          <ul>聯絡電話\n            <li>{deliveryData && deliveryData.userPhone}</li>\n          </ul>\n        </div>\n        <div className='order-detail-subContainer'>\n          <ul>付款方式\n            <li>\n              {creditCardData && creditCardData[0].association}<br />\n              {creditCardData && creditCardData[0].cdNumber}<br />\n            期限:{creditCardData && creditCardData[0].cdMonth}/{creditCardData && creditCardData[0].cdYear}</li>\n          </ul>\n        </div>\n        <div className='order-detail-subContainer'>\n          <ul>帳單地址\n            <li>{creditCardData && creditCardData[0].cdHolder}<br />\n              {creditCardData && creditCardData[0].billAddressPostCode}<br />\n              {creditCardData && (creditCardData[0].billAddressCity + creditCardData[0].billAddressDistrict)}<br />\n              {creditCardData && creditCardData[0].billAddressStreet}</li>\n          </ul>\n        </div>\n        <div className='order-detail-subContainer'>\n          <h2>金額</h2>\n          <div className='order-price-cotainer'>\n            <div className='d-flex justify-content-between order-price-content'>\n              <p>商品小計</p>\n              <p>$ {totalPrice ? !!couponDiscount ? (totalPrice + couponDiscount) : totalPrice : ''}</p>\n            </div>\n            <div className='d-flex justify-content-between order-price-content'>\n              <p>優惠券</p>\n              <p>$ {`${!!couponDiscount ? '-' + couponDiscount : 0}`}</p>\n            </div>\n          </div>\n          <div className='order-totalPrice-container'>\n            <div className='d-flex justify-content-between order-price-content'>\n              <p>總金額</p>\n              <p>$ {totalPrice && totalPrice}</p>\n            </div>\n            <div className='d-flex justify-content-between order-price-content'>\n              <p>刷卡金額</p>\n              <p>$ {totalPrice && totalPrice}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='d-flex justify-content-center order-detail-product-title'>\n        <p>商品照片</p>\n        <span>商品敘述</span>\n        <p>數量</p>\n        <p>單價</p>\n        <p>小計</p>\n      </div>\n      {orderItems && orderItems.map(item => <OrderProductCard key={item.itemId} itemName={item.itemName} itemId={item.itemId} itemSize={item.itemSize} quantity={item.quantity} itemPrice={item.itemPrice} itemImg={item.itemimg} />)}\n\n      <a className='go-back-btn' onClick={(e) => (e.preventDefault(), history.push(`/account/orderhistory`))} href='' role='button'>回到訂單紀錄</a>\n    </MainContainer>\n  )\n}\n\nexport default withRouter(OrderDeatil)","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\n\nexport default function ResponsiveDialog({ open, handleClose, confirmCancel, bookId }) {\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n  return (\n    <div>\n      <Dialog\n        fullScreen={fullScreen}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">{\"確定要取消預約嗎？\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            按下確定後就無法再更改囉！！！\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button id={bookId} onClick={confirmCancel} color=\"primary\" autoFocus>\n            確定\n          </Button>\n          <Button autoFocus onClick={handleClose} color=\"primary\">\n            取消\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState } from 'react'\nimport '../components/Classes/classes'\nimport CancelReservation from './CancelReservation/cancelReservation'\nimport Button from '@material-ui/core/Button'\n\nconst ClassItem = (props) => {\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <div className='d-flex class-item text-center align-items-center'>\n        <p className={props.cancelBtn ? 'cancelBtn' : 'noCancelBtn'}>{props.classInfo.classTime}</p>\n        <p className={props.cancelBtn ? 'cancelBtn' : 'noCancelBtn'}>{props.classInfo.bookTime}</p>\n        <p className={props.cancelBtn ? 'cancelBtn' : 'noCancelBtn'}>{props.classInfo.classCategoryName}</p>\n        <p className={props.cancelBtn ? 'cancelBtn' : 'noCancelBtn'}>{props.classInfo.className}</p>\n        <p className={props.cancelBtn ? 'cancelBtn' : 'noCancelBtn'}>NT$ {props.classInfo.classPrice}</p>\n        <p className={props.cancelBtn ? 'cancelBtn' : 'noCancelBtn'}>{props.classInfo.bookQty}</p>\n        <p className={props.cancelBtn ? 'cancelBtn' : 'noCancelBtn'}>{props.classInfo.bookStatus}</p>\n\n        {props.cancelBtn ? <Button className='cancelBtn' onClick={handleClickOpen} role='button' >取消</Button> : ''}\n      </div>\n      <CancelReservation open={open} bookId={props.classInfo.bookId} handleClose={handleClose} confirmCancel={(e) => (props.confirmCancel(e), handleClose())} />\n    </>\n  )\n}\n\nexport default ClassItem","import React, { useState, useEffect } from \"react\";\nimport \"./classes.scss\";\nimport ClassItem from \"../classItem\";\n\nimport { apiUri } from '../../constants/api';\n\nconst Classes = () => {\n  const [myClassList, setMyClassList] = useState([])\n  const [allClassList, setAllClassList] = useState([])\n  const [myClassSelected, setMyClassSelected] = useState(true)\n  const [allClassSelected, setAllClassSelected] = useState(false)\n  const [classes, setClasses] = useState([])\n  const [cancelBtn, setCancelBtn] = useState(true)\n  const [changeState, setChangeState] = useState(false)\n\n\n  const changeSelectHandler = (e) => {\n    switch (e.target.dataset.select) {\n      case \"myClass\":\n        setMyClassSelected(true);\n        setAllClassSelected(false);\n        setClasses(myClassList);\n        setCancelBtn(true);\n        break;\n      case \"allClass\":\n        setAllClassSelected(true);\n        setMyClassSelected(false);\n        setClasses(allClassList);\n        setCancelBtn(false);\n        break;\n      default:\n        break;\n    }\n  }\n  const fetchMyClassData = async () => {\n    const res = await fetch(`${apiUri}/users/classlist`, {\n      credentials: \"include\",\n    });\n    const data = await res.json();\n    return data;\n  };\n  const fetchAllClassDate = async () => {\n    const res = await fetch(`${apiUri}/users/allclasslist`, {\n      credentials: \"include\",\n    });\n    const data = await res.json();\n    return data;\n  };\n  const fetchCancelBook = async (e) => {\n    const info = {\n      bookId: e.currentTarget.id\n    }\n    await fetch(`${apiUri}/users/classlist`, {\n      method: \"PATCH\",\n      credentials: \"include\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(info)\n    })\n  }\n  const confirmCancel = async (e) => {\n    await fetchCancelBook(e)\n    setChangeState(!changeState)\n  }\n  useEffect(() => {\n    (async () => {\n      const classData = await fetchMyClassData()\n      const allClassData = await fetchAllClassDate()\n      setMyClassList(classData)\n      setAllClassList(allClassData)\n      setClasses(classData)\n    })()\n  }, [changeState])\n\n\n\n\n  return (\n    <>\n      <div className='class-wrapper'>\n        <div className='change-btn d-flex'>\n          <a className={`${myClassSelected ? 'btn-selected' : ''}`} onClick={(event) => changeSelectHandler(event)} role='button' data-select='myClass'>已報名</a>\n          <a className={`${allClassSelected ? 'btn-selected' : ''}`} onClick={(event) => changeSelectHandler(event)} role='button' data-select='allClass'>課程紀錄</a>\n        </div>\n        <div className='d-flex class-item text-center'>\n          <p>日期</p>\n          <p>時間</p>\n          <p>課程分類</p>\n          <p>課程名稱</p>\n          <p>課程單價</p>\n          <p>報名人數</p>\n          <p>課程狀態</p>\n          {cancelBtn ? <p></p> : ''}\n        </div>\n        {classes.map((item, index) => <ClassItem key={index} cancelBtn={cancelBtn} classInfo={item} confirmCancel={confirmCancel} />)}\n        {/* {classes.map((item, index) => <ClassItem key={index} cancelBtn={cancelBtn} classInfo={item} cancel={(e) => (fetchCancelBook(e), setChangeState(!changeState))} />)} */}\n      </div>\n    </>\n  )\n}\n\nexport default Classes;\n","import React from 'react';\nimport MainContainer from '../../components/mainContainer'\nimport AccountSideBar from '../../components/AccountSideBar/accountSideBar'\nimport Classes from '../../components/Classes/classes'\nimport './classPage.scss'\n\nconst ClassPage = () => {\n  return (\n    <MainContainer>\n      <div className='d-flex my-class-wrapper'>\n        <AccountSideBar />\n        <Classes />\n      </div>\n    </MainContainer>\n  )\n}\n\nexport default ClassPage","import React from \"react\";\nimport { FiShare2 } from \"react-icons/fi\";\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from \"redux\";\nimport { userToggleFunc } from '../../Redux/nav/navAction'\nimport \"./classCard.scss\";\n\nimport { apiUri } from \"../../constants/api\";\n\nconst ClassCard = ({ logInStatus, classImg, classTime, className, classId, remainingPeople, userToggleFunc, bookInfo }) => {\n  const selectClassId = bookInfo && bookInfo.filter(i => i.classId === classId && i.bookStatus === '預約成功')\n  const newClassArray = []\n  selectClassId.forEach(element => {\n    newClassArray.push(element.classId)\n  });\n  return (\n    <>\n      <div className={`class-card-wrapper`}>\n        {remainingPeople === 0 ? <div className='card-block'><p>人數已滿</p></div> : ''}\n        <div className={`card-img`}>\n          <img src={`${apiUri}/images/class/${classImg}.png`} />\n        </div>\n        <div className=\"card-content d-flex justify-content-between align-items-center\">\n          <p>{classTime}</p>\n          <FiShare2 className=\"share-icon\" />\n        </div>\n        <div className='d-flex justify-content-between align-items-center class-card-tile'>\n          <p className=\"card-name\">{className}</p>\n          <p className='countPeople'>剩餘 {remainingPeople}位</p>\n        </div>\n        {newClassArray.indexOf(classId) !== -1 ?\n          (<Link key={classId} to={`/classdetail/${classId}`}\n            onClick={(e) => logInStatus ? '' : (e.preventDefault(), userToggleFunc())}\n            className=\"card-btn text-center cantClick\"\n            role=\"button\"\n          >\n            已參加\n          </Link>) : (<Link key={classId} to={`/classdetail/${classId}`}\n            className=\"card-btn text-center\"\n            role=\"button\"\n          >\n            參加\n          </Link>)\n        }\n      </div>\n    </>\n  );\n};\n\n\nconst mapStateToProps = (store) => {\n  return { user: store.user, userToggle: store.nav };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userToggleFunc }, dispatch);\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ClassCard);\n","import React, { useState, useEffect } from \"react\";\nimport ClassHead from \"../../components/ClassHead/classHead\";\nimport ClassCard from \"../../components/ClassCard/classCard\";\nimport MainContainer from \"../../components/mainContainer\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\nimport \"./classList.scss\";\n\nimport { apiUri } from \"../../constants/api\";\n\n\nconst ClassList = ({ user, userLogin, userLogOut }) => {\n  const [classInfo, setClassInfo] = useState([]);\n  const [bookInfo, setBookInfo] = useState([]);\n\n  const fetchClassData = async () => {\n    const res = await fetch(`${apiUri}/class`, { credentials: 'include' })\n    const data = await res.json()\n    return data\n  }\n\n  useEffect(() => {\n    (async () => {\n      user.logInStatus ? userLogin(user.userInfo) : userLogOut();\n      const data = await fetchClassData()\n      setClassInfo(data.classInfo)\n      setBookInfo(data.bookInfo)\n    })()\n  }, [user.logInStatus])\n\n\n  return (\n    <MainContainer otherClass=\"class-list-container d-flex flex-wrap justify-content-center\">\n      <ClassHead\n        classImgDir={\"class\"}\n        classImg={\"class7\"}\n        title={\"課程體驗\"}\n        content={`InSense提供客製化香水體驗課程,`}\n        content2={\"與您一起感受香氛\"}\n      />\n      {classInfo.map((info) => (\n        <ClassCard\n          key={info.classId}\n          classImg={info.classImg}\n          classTime={info.classTime}\n          className={info.className}\n          classId={info.classId}\n          remainingPeople={info.remainingPeople}\n          logInStatus={user.logInStatus}\n          bookInfo={bookInfo}\n          userId={user.userInfo.userId}\n        />\n      ))}\n    </MainContainer>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user, userToggle: store.nav };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, userLogOut }, dispatch);\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ClassList);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter } from \"react-router-dom\";\n\nimport \"./address.scss\";\n\nimport FormInput from \"../../components/FormInput/FormInput\";\n\n//select\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\n\nimport addressJSON from \"../../constants/address.json\";\n\n//Select CSS(material UI)\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst Address = (props) => {\n  //Redux\n  const user = props.user;\n\n  //縣市區\n  const [cities, setCities] = useState([]);\n  const [address, setAddress] = useState(\"\");\n\n  //Select CSS(material UI)\n  const classes = useStyles();\n  //selected\n  const [citiesSelected, setCitiesSelected] = useState(\"\");\n  const [districtsSelected, setDistrictsSelected] = useState(\"\");\n\n  //縣市區選擇\n  const addressChange = (event) => {\n    switch (event.target.name) {\n      case \"citiesSelected\":\n        props.setCities && props.setCities(cities[event.target.value].CityName);\n        setCitiesSelected(event.target.value);\n        //選完縣市後，將地區還原\n        setDistrictsSelected(\"\");\n        props.setDistricts && props.setDistricts(\"\");\n        props.setPostCode && props.setPostCode(\"\");\n        break;\n      case \"districtsSelected\":\n        props.setDistricts &&\n          props.setDistricts(\n            cities[citiesSelected].AreaList[event.target.value].AreaName\n          );\n        props.setPostCode &&\n          props.setPostCode(\n            cities[citiesSelected].AreaList[event.target.value].ZipCode\n          );\n        setDistrictsSelected(event.target.value);\n        break;\n      case \"address\":\n        props.setAddress && props.setAddress(event.target.value);\n        setAddress(event.target.value);\n        break;\n      default:\n        break;\n    }\n    console.log(props);\n  };\n\n  //取得縣市資料\n  const getCities = async () => {\n    const obj = addressJSON\n\n    // console.log(obj);\n    return obj;\n  };\n\n  //將縣市資料寫進狀態cities中\n  useEffect(() => {\n    (async () => {\n      let cities = await getCities();\n      // console.log(\"cities\", cities);\n      setCities(cities);\n    })();\n  }, []);\n\n  //若有登入，則載入（修改資訊頁才需要）\n  //尋找陣列的key\n  useEffect(() => {\n    // console.log(\"user\", user);\n\n    //若已登入，且找到cities資訊\n    if (user.logInStatus && cities.length) {\n      const myCompleteAddress = { myCity: \"\", myPostCode: \"\", myAddress: \"\" };\n\n      // console.log(props.location.pathname);\n      if (props.location.pathname === \"/account/modify\") {\n        myCompleteAddress.myCity = user.userInfo.userCity;\n        myCompleteAddress.myPostCode = user.userInfo.userPostCode;\n        myCompleteAddress.myAddress = user.userInfo.userAddress;\n      } else {\n        //可以給地址預設值\n        myCompleteAddress.myCity = !!props.myCity ? props.myCity : \"\";\n        myCompleteAddress.myPostCode = !!props.myPostCode\n          ? props.myPostCode\n          : \"\";\n        myCompleteAddress.myAddress = !!props.myAddress ? props.myAddress : \"\";\n      }\n      const newCode = { cityCode: \"\", districtCode: \"\" };\n\n      //尋找城市key\n      cities.forEach((el, index) => {\n        if (el.CityName === myCompleteAddress.myCity) {\n          newCode.cityCode = index;\n        }\n      });\n      // console.log(cities[newCode.cityCode])\n      //尋找地區key\n      if (newCode.cityCode.toString().length) {\n        // console.log(cities[newCode.cityCode].AreaList);\n        cities[newCode.cityCode].AreaList.forEach((el, index) => {\n          if (\n            el.ZipCode.toString() === myCompleteAddress.myPostCode.toString()\n          ) {\n            newCode.districtCode = index;\n          }\n        });\n      }\n\n      console.log(\"newCode\", newCode);\n      setCitiesSelected(newCode.cityCode);\n      setDistrictsSelected(newCode.districtCode);\n      setAddress(\n        myCompleteAddress.myAddress === null ? \"\" : myCompleteAddress.myAddress\n      );\n    }\n  }, [user, cities, props.myPostCode]);\n\n  return (\n    <div className=\"address-container d-flex align-items-end\">\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"cities-label\">縣市</InputLabel>\n        <Select\n          labelId=\"cities-label\"\n          id=\"cities\"\n          name=\"citiesSelected\"\n          value={citiesSelected}\n          onChange={addressChange}\n        >\n          {cities.length\n            ? cities.map((el, index) => {\n              return (\n                <MenuItem key={el.CityName} value={index}>\n                  {el.CityName}\n                </MenuItem>\n              );\n            })\n            : \"\"}\n        </Select>\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"districts-label\">鄉市鎮區</InputLabel>\n        <Select\n          labelId=\"districts-label\"\n          id=\"districts\"\n          name=\"districtsSelected\"\n          value={districtsSelected}\n          onChange={addressChange}\n        >\n          {citiesSelected !== \"\" ? (\n            cities[citiesSelected].AreaList.map((el, index) => {\n              return (\n                <MenuItem key={index + el.ZipCode} value={index}>\n                  {el.ZipCode} {el.AreaName}\n                </MenuItem>\n              );\n            })\n          ) : (\n              <MenuItem value=\"\">未選縣市</MenuItem>\n            )}\n        </Select>\n      </FormControl>\n      <FormInput\n        type=\"text\"\n        name=\"address\"\n        value={address}\n        handleChange={addressChange}\n        label=\"地址\"\n        required\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({}, dispatch);\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(Address)\n);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport MainContainer from \"../../components/mainContainer\";\nimport FormInput from \"../../components/FormInput/FormInput\";\nimport Address from \"../../components/Address/address\";\nimport SuccessAlert from \"../../components/SuccessAlert/successAlert\";\n\n//sha256\nimport { sha256 } from 'js-sha256';\n\nimport \"./registration.scss\";\nimport { Redirect, withRouter } from \"react-router-dom\";\n\n//Redux\nimport { userLogin, checkLogin } from \"../../Redux/user/userAction\";\n\n//react-icon\nimport {\n  FiCircle,\n  FiCheckCircle,\n  FiSquare,\n  FiCheckSquare,\n} from \"react-icons/fi\";\n// import { GiSquare } from \"react-icons/gi\";\n//material UI\nimport Button from \"@material-ui/core/Button\";\n\n//datepicker\nimport \"date-fns\";\nimport Grid from \"@material-ui/core/Grid\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\n\nimport { apiUri } from \"../../constants/api\";\n\nconst Registration = (props) => {\n  //Redux\n  const { user, userLogin } = props;\n\n  //gender\n  const [gender, setGender] = useState(\"\");\n\n  //input\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmailName] = useState(\"\");\n  const [emailConfirmed, setEmailConfirmed] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirmed, setPasswordConfirmed] = useState(\"\");\n  const [cities, setCities] = useState(\"\");\n  const [districts, setDistricts] = useState(\"\");\n  const [postCode, setPostCode] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n\n  //確認\n  const [confirm, setConfirm] = useState(false);\n\n  //格式錯誤檢查\n  const [formatError, setFormatError] = useState({});\n\n  //datepicker\n  const [selectedDate, setSelectedDate] = useState(\n    new Date(\"2000-01-01T21:11:54\")\n  );\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n\n  //性別欄轉換\n  const genderChange = (e) => {\n    setGender(e.target.value);\n  };\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //文字欄\n  const handleChange = (event) => {\n    // console.log(event.target.name);\n\n    const errorObj = { ...formatError };\n\n    switch (event.target.name) {\n      case \"firstName\":\n        errorObj.firstName = !event.target.value.length ? \"未填*\" : \"\";\n        setFirstName(event.target.value);\n        break;\n      case \"lastName\":\n        errorObj.lastName = !event.target.value.length ? \"未填*\" : \"\";\n        setLastName(event.target.value);\n        break;\n      case \"email\":\n        errorObj.email = event.target.value.indexOf(\"@\") < 1 ? \"格式錯誤*\" : \"\";\n        errorObj.emailConfirmed =\n          emailConfirmed !== event.target.value ? \"信箱不相同*\" : \"\";\n        setEmailName(event.target.value);\n        break;\n      case \"emailConfirmed\":\n        errorObj.emailConfirmed =\n          event.target.value !== email ? \"信箱不相同*\" : \"\";\n        setEmailConfirmed(event.target.value);\n        break;\n      case \"password\":\n        errorObj.password = event.target.value.length < 5 ? \"格式錯誤*\" : \"\";\n        errorObj.passwordConfirmed =\n          passwordConfirmed !== event.target.value ? \"密碼不相同*\" : \"\";\n        setPassword(event.target.value);\n        break;\n      case \"passwordConfirmed\":\n        errorObj.passwordConfirmed =\n          event.target.value !== password ? \"密碼不相同*\" : \"\";\n        setPasswordConfirmed(event.target.value);\n        break;\n      default:\n        break;\n    }\n    console.log(errorObj);\n    setFormatError(errorObj);\n  };\n\n  //聲明確認\n  const confirmChange = () => {\n    setConfirm(!confirm);\n  };\n\n  const registrationSent = async () => {\n    //檢查各式錯誤\n    const errorObj = {};\n\n    if (!lastName.length) errorObj.lastName = \"未填*\";\n    if (!firstName.length) errorObj.firstName = \"未填*\";\n    if (email.indexOf(\"@\") < 1) errorObj.email = \"格式錯誤*\";\n    if (emailConfirmed !== email) errorObj.emailConfirmed = \"信箱不相同*\";\n    if (password.length < 5) errorObj.password = \"格式錯誤*\";\n    if (passwordConfirmed !== password)\n      errorObj.passwordConfirmed = \"密碼不相同*\";\n\n    // console.log(Object.keys(errorObj).length);\n    setFormatError(errorObj);\n\n    if (!confirm) {\n      console.log(\"confirm not checked\");\n      handleAlertOpen(\"請勾選確認欄\", \"請詳細檢查所有資料，並同意註冊協議\");\n    } else if (Object.keys(errorObj).length) {\n      //若格式有誤\n      console.log(\"format error\");\n      setConfirm(false);\n      handleAlertOpen(\"填寫資料有誤\", \"請詳細檢查所有資料，並同意註冊協議\");\n    } else {\n      //無誤後送出\n      const data = {\n        userAccount: email,\n        userEmail: email,\n        userPassword: sha256(password),\n        userFirstName: firstName,\n        userLastName: lastName,\n        userGender: gender,\n        userCity: cities,\n        userDistrict: districts,\n        userAddress: address,\n        userPostCode: postCode,\n        userBirthday: selectedDate.toLocaleDateString().split(\"/\").join(\"-\"),\n      };\n\n      const response = await fetch(`${apiUri}/users/registration`, {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify(data),\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n      });\n\n      const obj = await response.json();\n      console.log(obj);\n\n      //若成功註冊，則自動登入\n      if (obj.success) {\n        if (obj.logInStatus) {\n          handleAlertOpen(\"註冊成功\", \"三秒後跳轉至首頁\", true, true, 3000);\n          setTimeout(() => {\n            userLogin(obj.userInfo);\n          }, 3500);\n        }\n      } else {\n        if (obj.errorMessage === \"DUPLICATE_ACCOUNT\") {\n          console.log(\"DUPLICATE_ACCOUNT\");\n          handleAlertOpen(\"此Email已註冊過\", \"請使用別組email\");\n        }\n      }\n    }\n  };\n\n  // console.log(user.logInStatus);\n  if (user.logInStatus) {\n    return <Redirect to=\"/\" />;\n  } else if (user.logInStatus === null) {\n    console.log(\"loading\");\n    return \"\";\n  } else {\n    return (\n      <>\n        <MainContainer>\n          <div className=\"registration-container\">\n            <h2 className=\"registration-title\">註冊會員</h2>\n            <div className=\"registration-grid-container\">\n              <div className=\"registration-grid-item registration-grid-gender\">\n                <div className=\"registration-item\">\n                  <h4>性別</h4>\n                  <div className=\"registration-gender-select d-flex align-items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"gender\"\n                      id=\"registration-radio-woman\"\n                      className=\"display-none\"\n                      value=\"woman\"\n                      onChange={genderChange}\n                    ></input>\n                    <label\n                      htmlFor=\"registration-radio-woman\"\n                      className=\"d-flex align-items-center\"\n                    >\n                      {gender === \"woman\" ? (\n                        <FiCheckCircle className=\"registration-select-circle\" />\n                      ) : (\n                          <FiCircle className=\"registration-select-circle\" />\n                        )}\n                      <p>女性</p>\n                    </label>\n                    <input\n                      type=\"radio\"\n                      name=\"gender\"\n                      id=\"registration-radio-man\"\n                      className=\"display-none\"\n                      value=\"man\"\n                      onChange={genderChange}\n                    ></input>\n                    <label\n                      htmlFor=\"registration-radio-man\"\n                      className=\" d-flex align-items-center\"\n                    >\n                      {gender === \"man\" ? (\n                        <FiCheckCircle className=\"registration-select-circle\" />\n                      ) : (\n                          <FiCircle className=\"registration-select-circle\" />\n                        )}\n                      <p>男性</p>\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"registration-grid-item registration-grid-birthday\">\n                <div className=\"registration-item\">\n                  <h4>生日</h4>\n                  {/* datepicker */}\n                  <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                    <Grid container>\n                      <KeyboardDatePicker\n                        disableToolbar\n                        variant=\"inline\"\n                        format=\"MM/dd/yyyy\"\n                        margin=\"normal\"\n                        id=\"date-picker-inline\"\n                        value={selectedDate}\n                        onChange={handleDateChange}\n                        KeyboardButtonProps={{\n                          \"aria-label\": \"change date\",\n                        }}\n                      />\n                    </Grid>\n                  </MuiPickersUtilsProvider>\n                </div>\n              </div>\n              <div className=\"registration-grid-item registration-grid-last-name\">\n                <div className=\"registration-item\">\n                  <FormInput\n                    type=\"text\"\n                    name=\"lastName\"\n                    value={lastName}\n                    handleChange={handleChange}\n                    label=\"姓氏*\"\n                    maxLength={3}\n                  />\n                </div>\n                <div\n                  className={\n                    !!formatError.lastName ? \"error-message\" : \"display-none\"\n                  }\n                >\n                  <span>{formatError.lastName}</span>\n                </div>\n              </div>\n              <div className=\"registration-grid-item registration-grid-first-name\">\n                <div className=\"registration-item\">\n                  <FormInput\n                    type=\"text\"\n                    name=\"firstName\"\n                    value={firstName}\n                    handleChange={handleChange}\n                    label=\"名字*\"\n                    maxLength={7}\n                  />\n                </div>\n                <div\n                  className={\n                    !!formatError.firstName ? \"error-message\" : \"display-none\"\n                  }\n                >\n                  <span>{formatError.firstName}</span>\n                </div>\n              </div>\n              <div className=\"registration-grid-item registration-grid-email\">\n                <div className=\"registration-item\">\n                  <FormInput\n                    type=\"email\"\n                    name=\"email\"\n                    value={email}\n                    handleChange={handleChange}\n                    label=\"email*\"\n                  />\n                </div>\n                <div\n                  className={\n                    !!formatError.email ? \"error-message\" : \"display-none\"\n                  }\n                >\n                  <span>{formatError.email}</span>\n                </div>\n              </div>\n              <div className=\"registration-grid-item registration-grid-email-confirm\">\n                <div className=\"registration-item\">\n                  <FormInput\n                    type=\"email\"\n                    name=\"emailConfirmed\"\n                    value={emailConfirmed}\n                    handleChange={handleChange}\n                    label=\"確認 email*\"\n                  />\n                </div>\n                <div\n                  className={\n                    !!formatError.emailConfirmed\n                      ? \"error-message\"\n                      : \"display-none\"\n                  }\n                >\n                  <span>{formatError.emailConfirmed}</span>\n                </div>\n              </div>\n              <div className=\"registration-grid-item registration-grid-password\">\n                <div className=\"registration-item\">\n                  <FormInput\n                    type=\"password\"\n                    name=\"password\"\n                    value={password}\n                    handleChange={handleChange}\n                    label=\"密碼 (須大於五碼*)\"\n                  />\n                </div>\n                <div\n                  className={\n                    !!formatError.password ? \"error-message\" : \"display-none\"\n                  }\n                >\n                  <span>{formatError.password}</span>\n                </div>\n              </div>\n              <div className=\"registration-grid-item registration-grid-password-confirm\">\n                <div className=\"registration-item\">\n                  <FormInput\n                    type=\"password\"\n                    name=\"passwordConfirmed\"\n                    value={passwordConfirmed}\n                    handleChange={handleChange}\n                    label=\"確認密碼*\"\n                  />\n                </div>\n                <div\n                  className={\n                    !!formatError.passwordConfirmed\n                      ? \"error-message\"\n                      : \"display-none\"\n                  }\n                >\n                  <span>{formatError.passwordConfirmed}</span>\n                </div>\n              </div>\n              {/* 地址 */}\n              <div className=\"registration-grid-item registration-grid-address\">\n                <div className=\"registration-item\">\n                  <Address\n                    setCities={setCities}\n                    setDistricts={setDistricts}\n                    setAddress={setAddress}\n                    setPostCode={setPostCode}\n                  />\n                </div>\n              </div>\n            </div>\n            <div\n              className=\"d-flex registration-declaration\"\n              onClick={confirmChange}\n            >\n              {confirm ? <FiCheckSquare /> : <FiSquare />}\n              <p>\n                我確認上述資訊完整無誤，並同意上述資訊可以被 InSense\n                作為商業用途使用\n              </p>\n            </div>\n            <div className=\"\">\n              <Button\n                className=\"registration-button\"\n                variant=\"outlined\"\n                onClick={registrationSent}\n              >\n                註冊\n              </Button>\n            </div>\n          </div>\n          <SuccessAlert\n            alertName={alertName}\n            alertContext={alertContext}\n            openAlert={openAlert}\n            handleAlertClose={handleAlertClose}\n            alertLinearProgress={alertLinearProgress} //有無時間條\n            alertAutoClose={alertAutoClose} // 自行關閉\n            alertDuration={alertDuration} //時間間隔\n          />\n        </MainContainer>\n      </>\n    );\n  }\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, checkLogin }, dispatch);\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(Registration)\n);\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./passwordForgot.scss\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Button from \"@material-ui/core/Button\";\n\nimport SuccessAlert from \"../../components/SuccessAlert/successAlert\";\n\n//material ui\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\n//react\nimport { FcSurvey } from \"react-icons/fc\";\nimport { apiUri } from \"../../constants/api\";\n\nconst PasswordForgot = (props) => {\n  const { history } = props;\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      \"& > *\": {\n        margin: theme.spacing(1),\n      },\n    },\n  }));\n\n  //localstate\n  const [email, setEmail] = useState(\"\");\n  const [emailSent, setEmailSent] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const classes = useStyles();\n\n  //格式錯誤檢查\n  const [formatError, setFormatError] = useState({});\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //文字欄\n  const handleChange = (e) => {\n    // console.log(e.target.value);\n    const errorObj = { ...formatError };\n    errorObj.email = e.target.value.indexOf(\"@\") < 1 ? \"格式錯誤*\" : \"\";\n    setFormatError(errorObj);\n\n    setEmail(e.target.value);\n  };\n\n  const handlePasswordForgot = async () => {\n    // console.log(\"sent\");\n\n    const errorObj = {};\n    if (email.indexOf(\"@\") < 1) errorObj.email = \"格式錯誤*\";\n\n    console.log(\"errorObj\", errorObj);\n    setFormatError(errorObj);\n\n    if (email.indexOf(\"@\") < 1) {\n      console.log(\"wrong format\");\n      handleAlertOpen(\"格式錯誤\", \"請務必檢查填入之Email\");\n    } else {\n      const data = { userEmail: email };\n      //先開啟progress\n      setProcessing(true);\n      const responsePasswordForgot = await fetch(\n        `${apiUri}/passwordissue/passwordforgot`,\n        {\n          method: \"POST\",\n          body: JSON.stringify(data),\n          credentials: \"include\",\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        }\n      );\n      const obj = await responsePasswordForgot.json();\n      //   console.log(obj);\n      //關閉progress\n      setProcessing(false);\n      if (obj.success) {\n        setEmailSent(true);\n        // 頁面顯示發送信件成功\n      } else {\n        if (obj.message === \"NO_USER_FOUND\") {\n          console.log(\"NO_USER_FOUND\");\n          handleAlertOpen(\"未找到該帳號\", \"請務必檢查填入之Email\");\n        }\n      }\n    }\n  };\n\n  //back to hompage\n  const handleToHompage = () => {\n    history.push(\"/\");\n  };\n\n  useEffect(() => {\n    console.log(\"ok\");\n  });\n\n  return (\n    <>\n      <div className=\" position-relative password-forgot-wrapper\">\n        <div className=\"all-page\">\n          <figure>\n            <img src=\"/images/banner/password-page.jpg\" alt=\"banner\" />\n          </figure>\n        </div>\n        {/* <MainContainer> */}\n        <div className=\"rotate-container position-absolute\">\n          <div\n            className={`password-container  ${!emailSent ? \"\" : \"turn-back\"}`}\n          >\n            <div className=\"password-front\">\n              <h2 className=\"password-title\">忘記密碼</h2>\n              <h4 className=\"password-context\">\n                我們將會寄送『更改密碼連結』至您註冊的Email*\n              </h4>\n              <form className={classes.root} noValidate autoComplete=\"off\">\n                <FormControl>\n                  <InputLabel htmlFor=\"component-simple\">Email*</InputLabel>\n                  <Input\n                    type=\"email\"\n                    name=\"email\"\n                    value={email}\n                    onChange={handleChange}\n                  />\n                  <div\n                    className={\n                      !!formatError.email ? \"error-message\" : \"display-none\"\n                    }\n                  >\n                    <span>{formatError.email}</span>\n                  </div>\n                </FormControl>\n              </form>\n              <div className=\"password-button-container\">\n                <Button\n                  className=\"password-button\"\n                  variant=\"outlined\"\n                  onClick={handlePasswordForgot}\n                >\n                  送出\n                  {processing ? (\n                    <div className=\"processing position-absolute\">\n                      <CircularProgress />\n                    </div>\n                  ) : (\n                    \"\"\n                  )}\n                </Button>\n              </div>\n            </div>\n            <div className=\"password-back \">\n              <div className=\"password-back-message\">\n                <h2>要求已提交</h2>\n                <h4>『密碼更改連結』將盡快寄至您註冊之Email</h4>\n                <FcSurvey className=\"mail-icon\" />\n              </div>\n              <Button\n                className=\"password-back-button\"\n                variant=\"outlined\"\n                onClick={handleToHompage}\n              >\n                回至首頁\n              </Button>\n            </div>\n          </div>\n        </div>\n        <SuccessAlert\n          alertName={alertName}\n          alertContext={alertContext}\n          openAlert={openAlert}\n          handleAlertClose={handleAlertClose}\n          alertLinearProgress={alertLinearProgress} //有無時間條\n          alertAutoClose={alertAutoClose} // 自行關閉\n          alertDuration={alertDuration} //時間間隔\n        />\n      </div>\n    </>\n  );\n};\n\nexport default withRouter(PasswordForgot);\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./passwordForgotChange.scss\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Button from \"@material-ui/core/Button\";\n//sha256\nimport { sha256 } from \"js-sha256\";\n\n//component\nimport SuccessAlert from \"../../components/SuccessAlert/successAlert\";\n\n//react icon\nimport { AiFillUnlock } from \"react-icons/ai\";\nimport { apiUri } from \"../../constants/api\";\n\nconst PasswordForgotChange = (props) => {\n  const { match, history } = props;\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      \"& > *\": {\n        margin: theme.spacing(1),\n      },\n    },\n  }));\n\n  //localstate\n  const [verification, setVerification] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [newPasswordConfirmed, setNewPasswordConfirmed] = useState(\"\");\n  const classes = useStyles();\n\n  //格式錯誤檢查\n  const [formatError, setFormatError] = useState({});\n\n  //\n  const [passwordChanged, setPasswordChanged] = useState(false);\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //文字欄\n  const handleChange = (e) => {\n    // console.log(e.target);\n    const errorObj = { ...formatError };\n\n    switch (e.target.name) {\n      case \"verification\":\n        errorObj.verification = e.target.value.length < 8 ? \"格式錯誤*\" : \"\";\n        setVerification(e.target.value.slice(0, 8));\n        break;\n      case \"newPassword\":\n        errorObj.newPassword = e.target.value.length < 5 ? \"格式錯誤*\" : \"\";\n        errorObj.newPasswordConfirmed =\n          newPasswordConfirmed !== e.target.value ? \"密碼不相同*\" : \"\";\n        setNewPassword(e.target.value);\n        break;\n      case \"newPasswordConfirmed\":\n        errorObj.newPasswordConfirmed =\n          e.target.value !== newPassword ? \"密碼不相同*\" : \"\";\n        setNewPasswordConfirmed(e.target.value);\n        break;\n      default:\n        break;\n    }\n    setFormatError(errorObj);\n  };\n\n  //送出更改密碼要求\n  const handlePasswordForgotChange = async () => {\n    console.log(\"ok\");\n    const errorObj = {};\n    if (verification.length < 8) errorObj.verification = \"格式錯誤*\";\n    if (newPassword.length < 5) errorObj.newPassword = \"格式錯誤*\";\n    if (newPasswordConfirmed !== newPassword)\n      errorObj.newPasswordConfirmed = \"密碼不相同*\";\n\n    console.log(\"errorObj\", errorObj);\n    setFormatError(errorObj);\n\n    //若格式錯誤\n    if (Object.keys(errorObj).length) {\n      if (newPasswordConfirmed !== newPassword) {\n        handleAlertOpen(\"密碼不相同\", \"請詳細檢查輸入的資訊\");\n        // console.log(\"password not changed\");\n      } else if (errorObj.newPassword) {\n        handleAlertOpen(\"密碼格式錯誤\", \"請詳細檢查輸入的資訊\");\n      }\n    } else {\n      //若所有格式皆正確\n      const data = {\n        userId: match.params.userId,\n        newPassword: sha256(newPassword),\n        verification: verification,\n      };\n      const responsePasswordForgotChange = await fetch(\n        `${apiUri}/passwordissue/passwordforgotchange`,\n        {\n          method: \"PATCH\",\n          body: JSON.stringify(data),\n          credentials: \"include\",\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        }\n      );\n      const obj = await responsePasswordForgotChange.json();\n      console.log(obj);\n\n      if (obj.success) {\n        setPasswordChanged(true);\n      } else {\n        if (obj.message === \"VERIFICATION_INCORRECT\") {\n          const errorObj = { ...formatError };\n          errorObj.verification = \"認證碼錯誤*\";\n          setFormatError(errorObj)\n        }\n      }\n    }\n  };\n\n  //back to hompage\n  const handleToHompage = () => {\n    history.push(\"/\");\n  };\n\n  useEffect(() => {\n    console.log(match.params.userId);\n  });\n\n  return (\n    <>\n      <div className=\" position-relative password-forgot-change-wrapper\">\n        <div className=\"all-page\">\n          <figure>\n            <img src=\"/images/banner/password-page.jpg\" alt=\"banner\" />\n          </figure>\n        </div>\n        {/* <MainContainer> */}\n        <div className=\"rotate-container position-absolute\">\n          <div\n            className={`password-container  ${\n              !passwordChanged ? \"\" : \"turn-back\"\n            }`}\n          >\n            <div className=\"password-front\">\n              <h2 className=\"password-title\">更改密碼</h2>\n              <h4 className=\"password-context\">請務必記下新密碼</h4>\n              <form className={classes.root} noValidate autoComplete=\"off\">\n                <FormControl>\n                  <InputLabel htmlFor=\"component-simple\">認證碼*</InputLabel>\n                  <Input\n                    type=\"text\"\n                    name=\"verification\"\n                    value={verification}\n                    onChange={handleChange}\n                  />\n                  <div\n                    className={\n                      !!formatError.verification\n                        ? \"error-message\"\n                        : \"display-none\"\n                    }\n                  >\n                    <span>{formatError.verification}</span>\n                  </div>\n                </FormControl>\n                <FormControl>\n                  <InputLabel htmlFor=\"component-simple\">新密碼*</InputLabel>\n                  <Input\n                    type=\"text\"\n                    name=\"newPassword\"\n                    value={newPassword}\n                    onChange={handleChange}\n                  />\n                  <div\n                    className={\n                      !!formatError.newPassword\n                        ? \"error-message\"\n                        : \"display-none\"\n                    }\n                  >\n                    <span>{formatError.newPassword}</span>\n                  </div>\n                </FormControl>\n                <FormControl>\n                  <InputLabel htmlFor=\"component-simple\">\n                    確認新密碼*\n                  </InputLabel>\n                  <Input\n                    type=\"text\"\n                    name=\"newPasswordConfirmed\"\n                    value={newPasswordConfirmed}\n                    onChange={handleChange}\n                  />\n                  <div\n                    className={\n                      !!formatError.newPasswordConfirmed\n                        ? \"error-message\"\n                        : \"display-none\"\n                    }\n                  >\n                    <span>{formatError.newPasswordConfirmed}</span>\n                  </div>\n                </FormControl>\n              </form>\n              <div className=\"\">\n                <Button\n                  className=\"password-button\"\n                  variant=\"outlined\"\n                  onClick={handlePasswordForgotChange}\n                >\n                  送出密碼更改\n                </Button>\n              </div>\n            </div>\n            <div className=\"password-back \">\n              <div className=\"password-back-message\">\n                <h2>密碼更改完成</h2>\n                <h4>現在即可用新密碼登入</h4>\n                <AiFillUnlock className=\"mail-icon\" />\n              </div>\n              <Button\n                className=\"password-back-button\"\n                variant=\"outlined\"\n                onClick={handleToHompage}\n              >\n                回至首頁\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <SuccessAlert\n          alertName={alertName}\n          alertContext={alertContext}\n          openAlert={openAlert}\n          handleAlertClose={handleAlertClose}\n          alertLinearProgress={alertLinearProgress} //有無時間條\n          alertAutoClose={alertAutoClose} // 自行關閉\n          alertDuration={alertDuration} //時間間隔\n        />\n      </div>\n    </>\n  );\n};\n\nexport default withRouter(PasswordForgotChange);\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport \"./accountModify.scss\";\n\n//sha256\nimport { sha256 } from 'js-sha256';\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\n\n//component\nimport FormInput from \"../../components/FormInput/FormInput\";\nimport Address from \"../../components/Address/address\";\nimport SuccessAlert from \"../SuccessAlert/successAlert\";\n\n//react-icon\nimport {\n  FiCircle,\n  FiCheckCircle,\n  FiCheckSquare,\n  FiSquare,\n} from \"react-icons/fi\";\n\n//material UI\nimport Button from \"@material-ui/core/Button\";\n\n//datepicker\nimport \"date-fns\";\nimport Grid from \"@material-ui/core/Grid\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\n\nimport { apiUri } from \"../../constants/api\";\n\nconst AccountModify = (props) => {\n  //destructor\n  const { user, userLogin, userLogOut, history } = props;\n  //gender\n  const [gender, setGender] = useState(\"\");\n\n  //input\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [mobile, setMobile] = useState(\"\");\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [newPasswordConfirmed, setNewPasswordConfirmed] = useState(\"\");\n  const [cities, setCities] = useState(\"\");\n  const [districts, setDistricts] = useState(\"\");\n  const [postCode, setPostCode] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n\n  //確認\n  const [confirm, setConfirm] = useState(false);\n\n  //性別欄轉換\n  const genderChange = (e) => {\n    setGender(e.target.value);\n  };\n\n  //datepicker\n  const [selectedDate, setSelectedDate] = useState(\n    new Date(\"2000-01-01T21:11:54\")\n  );\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n\n  //格式錯誤檢查\n  const [formatError, setFormatError] = useState({});\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //文字欄\n  const handleChange = (event) => {\n    // console.log(event.target.name);\n    const errorObj = { ...formatError };\n    switch (event.target.name) {\n      case \"firstName\":\n        setFirstName(event.target.value);\n        break;\n      case \"lastName\":\n        setLastName(event.target.value);\n        break;\n      case \"email\":\n        setEmail(event.target.value);\n        break;\n      case \"mobile\":\n        setMobile(event.target.value);\n        break;\n      case \"oldPassword\":\n        setOldPassword(event.target.value);\n        break;\n      case \"newPassword\":\n        errorObj.newPassword = event.target.value.length < 5 ? \"格式錯誤*\" : \"\";\n        errorObj.newPasswordConfirmed =\n          newPasswordConfirmed !== event.target.value ? \"密碼不相同*\" : \"\";\n        setNewPassword(event.target.value);\n        break;\n      case \"newPasswordConfirmed\":\n        errorObj.newPasswordConfirmed =\n          event.target.value !== newPassword ? \"密碼不相同*\" : \"\";\n        setNewPasswordConfirmed(event.target.value);\n        break;\n      default:\n        break;\n    }\n    setFormatError(errorObj);\n  };\n\n  //聲明確認\n  const confirmChange = () => {\n    setConfirm(!confirm);\n  };\n\n  //送出更改要求\n  const modificationSent = async () => {\n    if (confirm) {\n      console.log(\"sent\");\n      const data = {\n        userAccount: email,\n        userEmail: email,\n        userFirstName: firstName,\n        userLastName: lastName,\n        userMobile: mobile,\n        userGender: gender,\n        userCity: cities,\n        userDistrict: districts,\n        userAddress: address,\n        userPostCode: postCode,\n        userBirthday: selectedDate.toLocaleDateString().split(\"/\").join(\"-\"),\n      };\n\n      //   console.log(data);\n      //向後端請求更新\n      const response = await fetch(`${apiUri}/users/infomodify`, {\n        method: \"PATCH\",\n        credentials: \"include\",\n        body: JSON.stringify(data),\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n      });\n\n      const obj = await response.json();\n      console.log(obj);\n\n      //順便更新會員資料\n      if (obj.logInStatus) {\n        console.log(\"back\");\n        userLogin(obj.userInfo);\n      }\n\n      // ================================== //\n      //各種更新狀態\n      if (obj.success) {\n        console.log(\"update successfully\");\n        setConfirm(false);\n        handleAlertOpen(\"更新成功\", \"已可在會員修改頁面查詢\", false);\n        //   =============== 若成功改變，要彈跳視窗 ===============   //\n      } else if (obj.message === \"NO_CHANGE\") {\n        console.log(\"NO_CHANGE\");\n        handleAlertOpen(\"無任何更新\", \"送出資料與原資料相同\", true, true, 2000);\n        //   =============== 若沒有改變，要彈跳視窗 ===============   //\n      } else if (!obj.logInStatus) {\n        console.log(\"logged out\");\n        userLogOut();\n      }\n      // ================================== //\n    } else {\n      // if confirm-box not checked\n      console.log(\"not sent\");\n      handleAlertOpen(\n        \"未勾選「確認更改」\",\n        \"請詳細檢閱資料是否正確\",\n        false,\n        false\n      );\n    }\n  };\n\n  //送出密碼更改要求\n  const passwordSent = async () => {\n    //   =============== 要先在前端檢查密碼格式 ===============   //\n    //檢查各式錯誤\n    const errorObj = {};\n    if (newPassword.length < 5) errorObj.newPassword = \"格式錯誤*\";\n    if (newPasswordConfirmed !== newPassword)\n      errorObj.newPasswordConfirmed = \"密碼不相同*\";\n\n    console.log(\"errorObj\", errorObj);\n    setFormatError(errorObj);\n\n    //若格式錯誤\n    if (Object.keys(errorObj).length) {\n      if (newPasswordConfirmed !== newPassword) {\n        handleAlertOpen(\"確認新密碼錯誤\", \"請詳細檢查輸入的資訊\");\n        // console.log(\"password not changed\");\n      } else if (errorObj.newPassword) {\n        handleAlertOpen(\"密碼格式錯誤\", \"請詳細檢查輸入的資訊\");\n      }\n    } else {\n      //若無任何格式錯誤\n      //   console.log(\"password changed\");\n      const data = {\n        oldPassword: sha256(oldPassword),\n        newPassword: sha256(newPassword),\n        newPasswordConfirmed: sha256(newPasswordConfirmed),\n      };\n      console.log(data);\n\n      //向後端請求更新\n      const response = await fetch(\n        `${apiUri}/users/changepassword`,\n        {\n          method: \"PATCH\",\n          credentials: \"include\",\n          body: JSON.stringify(data),\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        }\n      );\n\n      const obj = await response.json();\n      console.log(obj);\n      // ================================== //\n      //各種更新狀態\n      if (obj.success) {\n        // console.log(\"update successfully\");\n        handleAlertOpen(\"更新成功\", \"可在會員資料修改頁面查詢\");\n      } else {\n        if (!obj.logInStatus) {\n          // console.log(\"logged out\");\n          userLogOut();\n        } else {\n          if (obj.errorMessage === \"OLD_PASSWORD_INCORRECT\") {\n            errorObj.oldPassword = \"密碼錯誤*\";\n            setFormatError(errorObj);\n            handleAlertOpen(\"舊密碼錯誤\", \"請詳細檢查輸入的資訊\");\n          }\n        }\n      }\n      // ================================== //\n    }\n  };\n\n  useEffect(() => {\n    // console.log(\"user\", user);\n    if (user.logInStatus) {\n      setGender(user.userInfo.userGender);\n      setSelectedDate(new Date(user.userInfo.userBirthday));\n      setLastName(\n        user.userInfo.userLastName === null ? \"\" : user.userInfo.userLastName\n      );\n      setFirstName(\n        user.userInfo.userFirstName === null ? \"\" : user.userInfo.userFirstName\n      );\n      setEmail(user.userInfo.userEmail);\n      setMobile(\n        user.userInfo.userMobile === null ? \"\" : user.userInfo.userMobile\n      );\n      setCities(user.userInfo.userCity);\n      setDistricts(user.userInfo.userDistrict);\n      setPostCode(user.userInfo.userPostCode);\n      setAddress(user.userInfo.userAddress);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user.logInStatus !== null && !user.logInStatus) {\n      handleAlertOpen(\"未登入\", \"一秒鐘後跳轉首頁\", true, true, 1000);\n      setTimeout(() => {\n        history.push(\"/\");\n      }, 1500);\n    }\n  }, [user.logInStatus]);\n\n\n  return (\n    <>\n      <div className=\"account-modify-container\">\n        <h2 className=\"modify-title\">會員資料修改</h2>\n        {/* 基本資料更改 */}\n        <div className=\"modify-grid-container\">\n          <div className=\"modify-grid-item modify-grid-gender\">\n            <div className=\"modify-item\">\n              <h4>性別*</h4>\n              <div className=\"modify-gender-select d-flex align-items-center\">\n                <input\n                  type=\"radio\"\n                  name=\"gender\"\n                  id=\"modify-radio-woman\"\n                  className=\"display-none\"\n                  value=\"woman\"\n                  onChange={genderChange}\n                ></input>\n                <label\n                  htmlFor=\"modify-radio-woman\"\n                  className=\"d-flex align-items-center\"\n                >\n                  {gender === \"woman\" ? (\n                    <FiCheckCircle className=\"modify-select-circle\" />\n                  ) : (\n                    <FiCircle className=\"modify-select-circle\" />\n                  )}\n                  <p>女性</p>\n                </label>\n                <input\n                  type=\"radio\"\n                  name=\"gender\"\n                  id=\"modify-radio-man\"\n                  className=\"display-none\"\n                  value=\"man\"\n                  onChange={genderChange}\n                ></input>\n                <label\n                  htmlFor=\"modify-radio-man\"\n                  className=\" d-flex align-items-center\"\n                >\n                  {gender === \"man\" ? (\n                    <FiCheckCircle className=\"modify-select-circle\" />\n                  ) : (\n                    <FiCircle className=\"modify-select-circle\" />\n                  )}\n                  <p>男性</p>\n                </label>\n              </div>\n            </div>\n          </div>\n          <div className=\"modify-grid-item modify-grid-birthday\">\n            <div className=\"modify-item\">\n              <h4>生日</h4>\n              {/* datepicker */}\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <Grid container>\n                  <KeyboardDatePicker\n                    disableToolbar\n                    variant=\"inline\"\n                    format=\"MM/dd/yyyy\"\n                    margin=\"normal\"\n                    id=\"date-picker-inline\"\n                    value={selectedDate}\n                    onChange={handleDateChange}\n                    KeyboardButtonProps={{\n                      \"aria-label\": \"change date\",\n                    }}\n                  />\n                </Grid>\n              </MuiPickersUtilsProvider>\n            </div>\n          </div>\n          <div className=\"modify-grid-item modify-grid-last-name\">\n            <div className=\"modify-item\">\n              <FormInput\n                type=\"text\"\n                name=\"lastName\"\n                value={lastName}\n                handleChange={handleChange}\n                label=\"姓氏\"\n              />\n            </div>\n          </div>\n          <div className=\"modify-grid-item modify-grid-first-name\">\n            <div className=\"modify-item\">\n              <FormInput\n                type=\"text\"\n                name=\"firstName\"\n                value={firstName}\n                handleChange={handleChange}\n                label=\"名字\"\n              />\n            </div>\n          </div>\n          <div className=\"modify-grid-item modify-grid-email\">\n            <div className=\"modify-item\">\n              <FormInput\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                handleChange={handleChange}\n                label=\"email\"\n                disabled\n              />\n            </div>\n          </div>\n          <div className=\"modify-grid-item modify-grid-mobile\">\n            <div className=\"modify-item\">\n              <FormInput\n                type=\"text\"\n                name=\"mobile\"\n                value={mobile}\n                handleChange={handleChange}\n                label=\"手機\"\n              />\n            </div>\n          </div>\n          <div className=\"modify-grid-item modify-grid-address\">\n            <div className=\"modify-item\">\n              <Address\n                setCities={setCities}\n                setDistricts={setDistricts}\n                setAddress={setAddress}\n                setPostCode={setPostCode}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"d-flex modify-declaration\" onClick={confirmChange}>\n          {confirm ? <FiCheckSquare /> : <FiSquare />}\n          <p>確認更改</p>\n        </div>\n        <div className=\"\">\n          <Button\n            className=\"modify-button\"\n            variant=\"outlined\"\n            onClick={modificationSent}\n          >\n            會員資料更改\n          </Button>\n        </div>\n        {/* 更改密碼 */}\n        <h2 className=\"modify-title password-title\">密碼更改</h2>\n        <div className=\"password-grid-container\">\n          <div className=\"password-grid-item password-grid-old-password\">\n            <div className=\"password-item\">\n              <FormInput\n                type=\"password\"\n                name=\"oldPassword\"\n                value={oldPassword}\n                handleChange={handleChange}\n                label=\"舊密碼\"\n              />\n            </div>\n            <div\n              className={\n                !!formatError.oldPassword ? \"error-message\" : \"display-none\"\n              }\n            >\n              <span>{formatError.oldPassword}</span>\n            </div>\n          </div>\n          <div className=\"password-grid-item password-grid-new-password\">\n            <div className=\"password-item\">\n              <FormInput\n                type=\"password\"\n                name=\"newPassword\"\n                value={newPassword}\n                handleChange={handleChange}\n                label=\"新密碼 (須大於五碼*)\"\n              />\n            </div>\n            <div\n              className={\n                !!formatError.newPassword ? \"error-message\" : \"display-none\"\n              }\n            >\n              <span>{formatError.newPassword}</span>\n            </div>\n          </div>\n          <div className=\"password-grid-item password-grid-new-password-confirm\">\n            <div className=\"password-item\">\n              <FormInput\n                type=\"password\"\n                name=\"newPasswordConfirmed\"\n                value={newPasswordConfirmed}\n                handleChange={handleChange}\n                label=\"確認新密碼\"\n              />\n            </div>\n            <div\n              className={\n                !!formatError.newPasswordConfirmed\n                  ? \"error-message\"\n                  : \"display-none\"\n              }\n            >\n              <span>{formatError.newPasswordConfirmed}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"\">\n          <Button\n            className=\"modify-button\"\n            variant=\"outlined\"\n            onClick={passwordSent}\n          >\n            密碼更改\n          </Button>\n        </div>\n        <SuccessAlert\n          alertName={alertName}\n          alertContext={alertContext}\n          openAlert={openAlert}\n          handleAlertClose={handleAlertClose}\n          alertLinearProgress={alertLinearProgress} //有無時間條\n          alertAutoClose={alertAutoClose} // 自行關閉\n          alertDuration={alertDuration} //時間間隔\n        />\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, userLogOut }, dispatch);\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(AccountModify)\n);\n","import React from \"react\";\nimport \"./modify.scss\";\n\n//引入component\nimport MainContainer from \"../../components/mainContainer\";\nimport AccountSideBar from \"../../components/AccountSideBar/accountSideBar\";\nimport AccountModify from \"../../components/AccountModify/accountModify\";\n\nconst Modify = (props) => {\n  return (\n    <>\n      <MainContainer>\n        <div className=\"d-flex modify-wrapper\">\n          <AccountSideBar />\n          <AccountModify />\n        </div>\n      </MainContainer>\n    </>\n  );\n};\n\nexport default Modify;\n","import React, { useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nexport default function InquiryAlert(props) {\n  const {\n    openInquiry,\n    handleInquiryClose,\n    inquiryTitle = \"title\",\n    inquiryContext = \"context\",\n    leftButton = \"取消\",\n    rightButton = \"同意\",\n    leftButtonFunc = () => {},\n    rightButtonFunc = () => {},\n  } = props;\n  //   const [openInquiry, setOpenInquiry] = React.useState(false);\n\n  return (\n    <div>\n      <Dialog\n        open={openInquiry}\n        onClose={handleInquiryClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{inquiryTitle}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {inquiryContext}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={leftButtonFunc} color=\"primary\">\n            {leftButton}\n          </Button>\n          <Button onClick={rightButtonFunc} color=\"primary\" autoFocus>\n            {rightButton}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport \"./creditCardBlock.scss\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\n\n//material UI\nimport Button from \"@material-ui/core/Button\";\n\n//react-icon\nimport {\n  FaCcMastercard,\n  FaCcVisa,\n  FaCcJcb,\n  FaCcDiscover,\n} from \"react-icons/fa\";\n\n//component\nimport Address from \"../../components/Address/address\";\nimport InquiryAlert from \"../../components/InquiryAlert/inquiryAlert\";\nimport { apiUri } from '../../constants/api';\n\n//destructor\nconst CreditCardBlock = (props) => {\n  const {\n    history,\n    otherClass,\n    id,\n    association,\n    cdMonth,\n    cdYear,\n    billAddressCity,\n    billAddressPostCode,\n    billAddressDistrict,\n    billAddressStreet,\n    cdLastFourNumber,\n    isDefault,\n    setCreditCardList,\n    handleAlertOpen,\n    userLogin,\n    userLogOut,\n  } = props;\n\n  //localstate\n  const [inputOpen, setInputOpen] = useState(false);\n  const [cities, setCities] = useState(billAddressCity);\n  const [districts, setDistricts] = useState(billAddressDistrict);\n  const [postCode, setPostCode] = useState(billAddressPostCode);\n  const [address, setAddress] = useState(billAddressStreet);\n\n  //打開詢問delete\n  const [openInquiry, setOpenInquiry] = useState(false);\n  const [inquiryTitle, setInquiryTitle] = useState(\"title\");\n  const [inquiryContext, setInquiryContext] = useState(\"context\");\n  const [deleteSuccesful, setDeleteSuccesful] = useState(false); //讓已刪除的有動畫效果\n  const handleInquiryOpen = () => {\n    setInquiryTitle(\"確認刪除\");\n    setInquiryContext(\"將永遠刪除此付款方式\");\n    setOpenInquiry(true);\n  };\n  const handleInquiryClose = () => {\n    setOpenInquiry(false);\n  };\n\n  //變更資料\n  const handleInputOpen = () => {\n    setInputOpen(true);\n  };\n\n  //save\n  const handleSave = () => {\n    (async () => {\n      const data = {\n        id: id,\n        billAddressCity: cities,\n        billAddressPostCode: postCode,\n        billAddressDistrict: districts,\n        billAddressStreet: address,\n      };\n      // console.log(\"data\", data);\n      const res = await fetch(`${apiUri}/users/creditcardmodify`, {\n        method: \"PATCH\",\n        credentials: \"include\",\n        body: JSON.stringify(data),\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      const rawData = await res.json();\n      console.log(rawData);\n\n      //reset user\n      rawData.logInStatus ? userLogin(rawData.userInfo) : userLogOut();\n\n      if (rawData.success) {\n        if (rawData.logInStatus) {\n          // 若有改變\n          if (rawData.newCreditCardList) {\n            setCreditCardList(rawData.newCreditCardList);\n            handleAlertOpen(\n              \"更新成功\",\n              \"已可在付款資訊頁查詢\",\n              true,\n              true,\n              2500\n            );\n          }\n\n          // 若無改變\n          if (rawData.message && rawData.message === \"NO_CHANGE\") {\n            console.log(rawData.message);\n            handleAlertOpen(\n              \"無任何更新\",\n              \"可在付款資訊頁查詢\",\n              true,\n              true,\n              2500\n            );\n          }\n        }\n        //不管如何，都要關閉\n        setInputOpen(false);\n      } else {\n        if (!rawData.logInStatus) {\n          handleAlertOpen(\n            \"請先登入，方可查詢\",\n            \"二秒後跳轉至首頁\",\n            true,\n            true,\n            2000\n          );\n          //跳轉至首頁\n          setTimeout(() => {\n            history.push(\"/\");\n          }, 2300);\n        }\n      }\n    })();\n  };\n\n  //close\n  const handleInputClose = () => {\n    setInputOpen(false);\n\n    //重設\n    setCities(billAddressCity);\n    setDistricts(billAddressDistrict);\n    setPostCode(billAddressPostCode);\n    setAddress(billAddressStreet);\n  };\n\n  //changeDefault\n  const changeDefault = async () => {\n    const res = await fetch(\n      `${apiUri}/users/creditcardchangedefault/${id}`,\n      {\n        method: \"PATCH\",\n        credentials: \"include\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const rawData = await res.json();\n\n    //reset user\n    rawData.logInStatus ? userLogin(rawData.userInfo) : userLogOut();\n\n    if (rawData.success) {\n      if (rawData.logInStatus) {\n        setCreditCardList(rawData.newCreditCardList);\n      }\n    } else {\n      if (!rawData.logInStatus) {\n        handleAlertOpen(\n          \"請先登入，方可查詢\",\n          \"二秒後跳轉至首頁\",\n          true,\n          true,\n          2000\n        );\n        //跳轉至首頁\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 2300);\n      }\n    }\n\n    console.log(rawData);\n  };\n\n  //delete payment\n  const deletePayment = async () => {\n    const res = await fetch(\n      `${apiUri}/users/creditcarddelete/${id}`,\n      {\n        method: \"DELETE\",\n        credentials: \"include\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const rawData = await res.json();\n\n    //reset user\n    rawData.logInStatus ? userLogin(rawData.userInfo) : userLogOut();\n\n    if (rawData.success) {\n      if (rawData.logInStatus) {\n        // 若有改變\n        if (rawData.newCreditCardList) {\n          setDeleteSuccesful(true);\n          setTimeout(() => {\n            setCreditCardList(rawData.newCreditCardList);\n          }, 2500);\n          handleAlertOpen(\"刪除成功\", \"已可在付款資訊頁查詢\", true, true, 2500);\n          console.log(openInquiry);\n        }\n        // 若無改變\n        if (rawData.message && rawData.message === \"DELETE_FAIL\") {\n          console.log(rawData.message);\n          handleAlertOpen(\n            \"刪除失敗\",\n            \"請刷新頁面，再嘗試看看\",\n            true,\n            true,\n            2500\n          );\n        }\n      }\n      //不管如何，都要關閉\n      handleInquiryClose();\n    } else {\n      if (!rawData.logInStatus) {\n        handleAlertOpen(\n          \"請先登入，方可修改資料\",\n          \"二秒後跳轉至首頁\",\n          true,\n          true,\n          2000\n        );\n        //跳轉至首頁\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 2300);\n      }\n    }\n    console.log(rawData);\n  };\n\n  useEffect(() => {\n    setCities(billAddressCity);\n    setDistricts(billAddressDistrict);\n    setPostCode(billAddressPostCode);\n    setAddress(billAddressStreet);\n  }, [\n    billAddressCity,\n    billAddressPostCode,\n    billAddressDistrict,\n    billAddressStreet,\n  ]);\n\n  useEffect(() => {\n    console.log(\"openInquiry\", openInquiry);\n  }, [openInquiry]);\n\n  return (\n    <>\n      <div\n        className={`credit-card-block-container d-flex align-items-center ${otherClass} ${\n          deleteSuccesful ? \"deleteShrink\" : \"\"\n        }`}\n      >\n        <div className=\"block-default d-flex justify-content-center\">\n          {isDefault ? (\n            <p>預設</p>\n          ) : (\n            <Button onClick={changeDefault}>設為預設</Button>\n          )}\n        </div>\n        <div className=\"card-info\">\n          <h4 className=\"card-info-detail card-info-title\">卡片資訊</h4>\n          <div className=\"card-info-detail card-association d-flex align-items-center\">\n            {(() => {\n              switch (association) {\n                case \"MasterCard\":\n                  return [<FaCcMastercard className=\"card-association-icon\" />];\n                case \"VISA\":\n                  return <FaCcVisa className=\"card-association-icon\" />;\n                case \"JCB\":\n                  return <FaCcJcb className=\"card-association-icon\" />;\n                case \"DISCOVER\":\n                  return <FaCcDiscover className=\"card-association-icon\" />;\n                default:\n                  break;\n              }\n            })()}\n            {/* <FaCcMastercard className=\"card-association-icon\" /> */}\n            <p>{association}</p>\n          </div>\n          <div className=\"card-info-detail last-four-number\">\n            末四碼 {cdLastFourNumber}\n          </div>\n          <div className=\"card-info-detail card-expiration\">\n            期限 {cdMonth < 10 ? \"0\" + cdMonth.toString() : cdMonth}/{cdYear}\n          </div>\n        </div>\n        <div className=\"bill-address flex-grow\">\n          <h4 className=\"bill-address-detail bill-address-title\">帳單地址</h4>\n          {/* districtInput */}\n          {inputOpen ? (\n            <Address\n              myCity={cities}\n              myPostCode={postCode}\n              myAddress={address}\n              setCities={setCities}\n              setDistricts={setDistricts}\n              setPostCode={setPostCode}\n              setAddress={setAddress}\n            />\n          ) : (\n            [\n              <p className=\"bill-address-detail bill-address-district\">\n                {billAddressPostCode} {[billAddressCity, billAddressDistrict]}\n              </p>,\n              <p className=\"bill-address-detail bill-address-street\">\n                {billAddressStreet}\n              </p>,\n            ]\n          )}\n        </div>\n        <div className=\"card-buttons d-flex align-items-center\">\n          {inputOpen ? (\n            <Button className=\"card-modify-save\" onClick={handleSave}>\n              儲存變更\n            </Button>\n          ) : (\n            <Button className=\"card-modify\" onClick={handleInputOpen}>\n              變更地址\n            </Button>\n          )}\n          {inputOpen ? (\n            <Button className=\"card-modify-cancel\" onClick={handleInputClose}>\n              取消\n            </Button>\n          ) : (\n            <Button className=\"card-delete\" onClick={handleInquiryOpen}>\n              刪除\n            </Button>\n          )}\n          <InquiryAlert\n            openInquiry={openInquiry}\n            handleInquiryClose={handleInquiryClose}\n            inquiryTitle={inquiryTitle}\n            inquiryContext={inquiryContext}\n            leftButton={\"取消\"}\n            rightButton={\"確認刪除\"}\n            leftButtonFunc={handleInquiryClose}\n            rightButtonFunc={deletePayment}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, userLogOut }, dispatch);\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CreditCardBlock)\n);\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\n//scss\nimport \"./creditCardNumber.scss\";\n\nexport default function CreditCardNumber(props) {\n  // const [open, setOpen] = React.useState(false);\n  // const [cardHolder, setCardHolder] = React.useState();\n  const {\n    open,\n    cardNumberFirst,\n    setCardNumberFirst,\n    cardNumberSecond,\n    setCardNumberSecond,\n    cardNumberThird,\n    setCardNumberThird,\n    cardNumberForth,\n    setCardNumbeForth,\n    formatError = {},\n    setFormatError = () => { }\n  } = props;\n\n  // const [cardNumberFirst, setCardNumberFirst] = useState(\"\");\n  // const [cardNumberSecond, setCardNumberSecond] = useState(\"\");\n  // const [cardNumberThird, setCardNumberThird] = useState(\"\");\n  // const [cardNumberForth, setCardNumbeForth] = useState(\"\");\n\n  const [labelNumFocused, setLabelNumFocused] = useState(false);\n\n  //Ref\n  const inputNumFirst = useRef(null);\n  const inputNumSecond = useRef(null);\n  const inputNumThird = useRef(null);\n  const inputNumForth = useRef(null);\n\n  const handleCardNumChange = (event) => {\n    // console.log(event);\n\n    //先取出數字陣列\n    const inputNumList = event.target.value.match(/\\d+/g);\n    // console.log(\"inputNumList\", inputNumList);\n\n    //將陣列合併成字串\n    const insertRawNum = !!inputNumList ? inputNumList.join(\"\") : \"\";\n    // console.log(\"insertRawNum\", insertRawNum);\n\n    //取出前四個數字\n    const insertNum = !!insertRawNum.match(/\\d{1,4}/g)\n      ? insertRawNum.match(/\\d{1,4}/g)[0]\n      : \"\";\n\n    const errObj = { ...formatError }\n    if (event.target.value.length < 4) {\n      errObj.cardNumber = '請填滿4碼*'\n    } else {\n      delete errObj.cardNumber\n    }\n    setFormatError(errObj)\n\n    switch (event.target.name) {\n      case \"card-number-first\":\n        if (insertNum.length === 4) {\n          inputNumSecond.current.firstChild.focus(); //跳到下一格\n        }\n        setCardNumberFirst(insertNum);\n        break;\n      case \"card-number-second\":\n        if (insertNum.length === 4) {\n          inputNumThird.current.firstChild.focus(); //跳到下一格\n        }\n        setCardNumberSecond(insertNum);\n        break;\n      case \"card-number-third\":\n        if (insertNum.length === 4) {\n          inputNumForth.current.firstChild.focus(); //跳到下一格\n        }\n        setCardNumberThird(insertNum);\n        break;\n      case \"card-number-forth\":\n        setCardNumbeForth(insertNum);\n        break;\n      default:\n        break;\n    }\n\n  };\n\n  //跳到前一格\n  const handleDelete = (event) => {\n    // console.log(event.key);\n    // console.log(event.target.value);\n    switch (event.target.name) {\n      case \"card-number-first\":\n        // console.log(\"insertNum\", insertNum.length);\n        break;\n      case \"card-number-second\":\n        if (!event.target.value && event.key === \"Backspace\") {\n          inputNumFirst.current.firstChild.focus();\n        }\n        break;\n      case \"card-number-third\":\n        if (!event.target.value && event.key === \"Backspace\") {\n          inputNumSecond.current.firstChild.focus();\n        }\n        break;\n      case \"card-number-forth\":\n        if (!event.target.value && event.key === \"Backspace\") {\n          inputNumThird.current.firstChild.focus();\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  // useEffect(() => {\n  //   console.log(\n  //     cardNumberFirst,\n  //     \"-\",\n  //     cardNumberSecond,\n  //     \"-\",\n  //     cardNumberThird,\n  //     \"-\",\n  //     cardNumberForth\n  //   );\n  // });\n\n  //若有任何數字欄位focused\n  const cdNumFocused = () => {\n    setLabelNumFocused(true);\n    // console.log(\"focused\");\n  };\n\n  //若無任一數字欄位focused\n  const cdNumUnFocused = () => {\n    setLabelNumFocused(false);\n  };\n\n  //看看需不需要清空\n  // useEffect(() => {\n  //   setCardNumberFirst(\"\");\n  //   setCardNumberSecond(\"\");\n  //   setCardNumberThird(\"\");\n  //   setCardNumbeForth(\"\");\n  // }, [open]);\n\n  return (\n    <>\n      <div className=\"credit-card-number d-flex align-items-end\">\n        <FormControl>\n          <InputLabel\n            className={`${\n              labelNumFocused ||\n                cardNumberSecond ||\n                cardNumberThird ||\n                cardNumberForth\n                ? \"MuiInputLabel-shrink Mui-focused\"\n                : \"\"\n              } input-num-label`}\n            htmlFor=\"card-number-first\"\n          >\n            卡號\n          </InputLabel>\n          <Input\n            type=\"text\"\n            className=\"input-number\"\n            id=\"card-number-first\"\n            name=\"card-number-first\"\n            value={cardNumberFirst}\n            onChange={handleCardNumChange}\n            ref={inputNumFirst}\n          />\n        </FormControl>\n        <div className=\"input-dash\"> - </div>\n        <FormControl>\n          <Input\n            type=\"text\"\n            className=\"input-number\"\n            id=\"card-number-second\"\n            name=\"card-number-second\"\n            value={cardNumberSecond}\n            onChange={handleCardNumChange}\n            onKeyDown={handleDelete}\n            ref={inputNumSecond}\n            // color={\"secondary\"}\n            onFocus={cdNumFocused}\n            onBlur={cdNumUnFocused}\n          />\n        </FormControl>\n        <div className=\"input-dash\"> - </div>\n        <FormControl>\n          <Input\n            type=\"text\"\n            className=\"input-number\"\n            id=\"card-number-third\"\n            name=\"card-number-third\"\n            value={cardNumberThird}\n            onChange={handleCardNumChange}\n            onKeyDown={handleDelete}\n            ref={inputNumThird}\n            onFocus={cdNumFocused}\n            onBlur={cdNumUnFocused}\n          />\n        </FormControl>\n        <div className=\"input-dash\"> - </div>\n        <FormControl>\n          <Input\n            type=\"text\"\n            className=\"input-number\"\n            id=\"card-number-forth\"\n            name=\"card-number-forth\"\n            value={cardNumberForth}\n            onChange={handleCardNumChange}\n            onKeyDown={handleDelete}\n            ref={inputNumForth}\n            onFocus={cdNumFocused}\n            onBlur={cdNumUnFocused}\n          />\n        </FormControl>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect } from \"react\";\n\n//material ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\n\n//react-icon\nimport {\n  FaCcMastercard,\n  FaCcVisa,\n  FaCcJcb,\n  FaCcDiscover,\n} from \"react-icons/fa\";\n\n//scss\nimport \"./creditCardAssociation.scss\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport default function CreditCardAssociation(props) {\n  const classes = useStyles();\n  const { association, setAssociation, formatError = {},\n    setFormatError = () => { } } = props;\n\n  const handleChange = (event) => {\n    const errObj = { ...formatError }\n    if (!event.target.value) {\n      errObj.association = '未填*'\n    } else {\n      delete errObj.association\n    }\n    setFormatError(errObj)\n    setAssociation(event.target.value);\n  };\n  return (\n    <>\n      <div className=\"credit-card-association\">\n        <FormControl className={`credit-card-form ${classes.formControl}`}>\n          <InputLabel\n            id=\"input-association-label\"\n            className=\"input-association-label\"\n          >\n            發卡機構\n          </InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={association}\n            onChange={handleChange}\n          >\n            <MenuItem value={\"VISA\"}>\n              <FaCcVisa className=\"card-association-icon\" />\n              <span>VISA</span>\n            </MenuItem>\n            <MenuItem value={\"MasterCard\"}>\n              <FaCcMastercard className=\"card-association-icon\" />\n              <span>MasterCard</span>\n            </MenuItem>\n            <MenuItem value={\"JCB\"}>\n              <FaCcJcb className=\"card-association-icon\" />\n              <span>JCB</span>\n            </MenuItem>\n            <MenuItem value={\"DISCOVER\"}>\n              <FaCcDiscover className=\"card-association-icon\" />\n              <span>DISCOVER</span>\n            </MenuItem>\n          </Select>\n        </FormControl>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\n//scss\nimport \"./creditCardExpiration.scss\";\n\nexport default function CreditCardExpiration(props) {\n  // const [open, setOpen] = React.useState(false);\n  // const [cardHolder, setCardHolder] = React.useState();\n  const { open, cdMonth, cdYear, setCdMonth, setCdYear, formatError = {}, setFormatError = () => { } } = props;\n\n  //Ref\n  const inputMonth = useRef(null);\n  const inputYear = useRef(null);\n\n  const handleTimeChange = (event) => {\n    // console.log(event);\n    //先取出數字陣列\n    const inputNumList = event.target.value.match(/\\d+/g);\n    // console.log(\"inputNumList\", inputNumList);\n\n    //將陣列合併成字串\n    const insertRawNum = !!inputNumList ? inputNumList.join(\"\") : \"\";\n    // console.log(\"insertRawNum\", insertRawNum);\n\n    //取出前二個數字\n    const wholeNum = !!insertRawNum.match(/\\d{1,2}/g)\n      ? insertRawNum.match(/\\d{1,2}/g)[0]\n      : \"\";\n    // console.log(\"wholeNum\", wholeNum);\n\n    const errObj = { ...formatError }\n    if (!event.target.value.length) {\n      errObj.cdDate = '未填*'\n    } else {\n      delete errObj.cdDate\n    }\n    setFormatError(errObj)\n\n    let insertNum = wholeNum;\n    switch (event.target.name) {\n      case \"input-month\":\n        //判斷月份\n        if (Number(wholeNum.slice(0, 1)) > 1) {\n          insertNum = \"0\" + wholeNum.slice(0, 1);\n        } else {\n          if (Number(wholeNum) > 12) {\n            if (Number(wholeNum.slice(0, 1)) === 1) {\n              insertNum = \"1\";\n            }\n          }\n        }\n        if (insertNum.length === 2) {\n          inputYear.current.firstChild.focus(); //跳到下一格\n        }\n        setCdMonth(insertNum);\n        break;\n      case \"input-year\":\n        setCdYear(insertNum);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  //跳到前一格\n  const handleDelete = (event) => {\n    // console.log(event.key);\n    // console.log(event.target.value);\n    switch (event.target.name) {\n      case \"input-month\":\n        break;\n      case \"input-year\":\n        if (!event.target.value && event.key === \"Backspace\") {\n          inputMonth.current.firstChild.focus();\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <>\n      <div className=\"credit-card-expiration d-flex align-items-end\">\n        <FormControl>\n          <InputLabel className=\"input-expiration-label\" htmlFor=\"input-month\">\n            月\n          </InputLabel>\n          <Input\n            type=\"text\"\n            className=\"input-time\"\n            id=\"input-month\"\n            name=\"input-month\"\n            value={cdMonth}\n            onChange={handleTimeChange}\n            ref={inputMonth}\n          />\n        </FormControl>\n        <div className=\"input-dash\"> / </div>\n        <FormControl>\n          <InputLabel className=\"input-expiration-label\" htmlFor=\"input-year\">\n            年\n          </InputLabel>\n          <Input\n            type=\"text\"\n            className=\"input-time\"\n            id=\"input-year\"\n            name=\"input-year\"\n            value={cdYear}\n            onChange={handleTimeChange}\n            onKeyDown={handleDelete}\n            ref={inputYear}\n          />\n        </FormControl>\n        <p className=\"expiration-hint\">（有效期限）</p>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { bindActionCreators } from \"redux\";\nimport Button from \"@material-ui/core/Button\";\n// import TextField from \"@material-ui/core/TextField\";\n\n//scss\nimport \"./creditCardAdd.scss\";\n\n//Dialog\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\n\n//component\nimport Address from \"../../components/Address/address\";\nimport CreditCardNumber from \"../../components/CreditCardNumber/creditCardNumber\";\nimport CreditCardAssociation from \"../../components/CreditCardAssociation/creditCardAssociation\";\nimport CreditCardExpiration from \"../../components/CreditCardExpiration/creditCardExpiration\";\n\nimport { apiUri } from '../../constants/api';\n\nconst FormDialog = function (props) {\n  // const [open, setOpen] = React.useState(false);\n  const {\n    user,\n    open,\n    setOpen,\n    handleClose,\n    handleAlertOpen,\n    setCreditCardList,\n    setCreditCardFormState,\n    creditCardFormState,\n    history,\n  } = props;\n\n  //card association\n  const [association, setAssociation] = useState(\"\");\n\n  //信用卡號\n  const [cardNumberFirst, setCardNumberFirst] = useState(\"\");\n  const [cardNumberSecond, setCardNumberSecond] = useState(\"\");\n  const [cardNumberThird, setCardNumberThird] = useState(\"\");\n  const [cardNumberForth, setCardNumbeForth] = useState(\"\");\n\n  //持有人\n  const [cardHolder, setCardHolder] = useState(\"\");\n\n  //期限\n  const [cdMonth, setCdMonth] = useState(\"\");\n  const [cdYear, setCdYear] = useState(\"\");\n\n  //帳單地址\n  const [billCity, setBillCity] = useState(\"\");\n  const [billDistrict, setBillDistrict] = useState(\"\");\n  const [billPostCode, setBillPostCode] = useState(\"\");\n  const [billAddress, setBillAddress] = useState(\"\");\n\n  //格式錯誤陣列\n  const [errMessage, setErrMessage] = useState([]);\n\n  //card holder\n  const handleCardHolderChange = (event) => {\n    setCardHolder(event.target.value);\n  };\n\n  //新增付款方式\n  const creditCardAddSent = async () => {\n    // 先將卡號結合\n    const cardNum = [\n      cardNumberFirst,\n      cardNumberSecond,\n      cardNumberThird,\n      cardNumberForth,\n    ].join(\"-\");\n\n    if (!user.logInStatus) {\n    }\n\n    if (user.logInStatus) {\n      // console.log(\"cdAddSent\")\n      //若所有格式正確\n      if (\n        !!association.length &&\n        cardNum.length === 19 &&\n        !!cardHolder.length &&\n        cdMonth.length === 2 &&\n        cdYear.length === 2 &&\n        !!billCity &&\n        !!billPostCode &&\n        !!billAddress.length\n      ) {\n        const data = {\n          association: association,\n          cdNumber: cardNum,\n          cdHolder: cardHolder,\n          cdMonth: cdMonth,\n          cdYear: cdYear,\n          billAddressCity: billCity,\n          billAddressPostCode: billPostCode,\n          billAddressDistrict: billDistrict,\n          billAddressStreet: billAddress,\n        };\n\n        //向後端請求新增\n        const response = await fetch(\n          `${apiUri}/users/creditcardadd`,\n          {\n            method: \"POST\",\n            credentials: \"include\",\n            body: JSON.stringify(data),\n            headers: {\n              \"content-type\": \"application/json\",\n            },\n          }\n        );\n        const obj = await response.json();\n        console.log(obj);\n\n        //reset user\n        obj.logInStatus ? userLogin(obj.userInfo) : userLogOut();\n\n        if (obj.success) {\n          if (obj.logInStatus) {\n            // 若有改變\n            if (obj.newCreditCardList) {\n              setCreditCardList(obj.newCreditCardList);\n              setOpen(false);\n              //重新產生新的component，以便清空欄位\n              setCreditCardFormState(creditCardFormState + 1);\n              handleAlertOpen(\n                \"新增成功\",\n                \"新增信用卡已可在付款資訊頁面查詢\",\n                false,\n                false\n              );\n            }\n\n            // 若無增加\n            if (obj.message && obj.message === \"NOTHING_ADDED\") {\n              console.log(obj.message);\n              handleAlertOpen(\"無任何新增\", \"信用卡資訓可在付款資訊頁面查詢\", false, false);\n            }\n          }\n        } else {\n          if (!obj.success) {\n            handleAlertOpen(\"請先登入\", \"二秒後跳轉至首頁\", true, true);\n            setOpen(false);\n            setTimeout(() => {\n              history.push(\"/\");\n            }, 2000);\n          }\n        }\n      } else {\n        const newArray = [];\n\n        //有錯誤的，加在陣列\n        if (!association.length) {\n          newArray.push(\"creditCardAssociation\");\n        }\n        if (cardNum.length !== 19) {\n          newArray.push(\"creditCardNumber\");\n        }\n        if (!cardHolder.length) {\n          newArray.push(\"creditCardHolder\");\n        }\n        if (cdMonth.length < 2 || cdYear.length < 2) {\n          newArray.push(\"creditCardExpiration\");\n        }\n        if (!billCity || !billPostCode || !billAddress.length) {\n          newArray.push(\"creditCardAddress\");\n        }\n        //若有任何錯誤\n        if (newArray.length) {\n          setErrMessage(newArray);\n        }\n\n        console.log(\"not sent\");\n      }\n    } else {\n      console.log(\"not log in\");\n      setOpen(false);\n      handleAlertOpen(\"請先登入，方可查詢\", \"二秒後跳轉至首頁\");\n      setTimeout(() => {\n        history.push(\"/\");\n      }, 2000);\n    }\n    // handleClose();\n  };\n\n  useEffect(() => {\n    console.log(\n      cardNumberFirst,\n      \"-\",\n      cardNumberSecond,\n      \"-\",\n      cardNumberThird,\n      \"-\",\n      cardNumberForth\n    );\n  });\n\n  useEffect(() => {\n    // console.log(billCity, billDistrict, billPostCode, billAddress);\n  });\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"credit-card-add-dialog-title\">新增信用卡</DialogTitle>\n        <DialogContent>\n          <DialogContentText className=\"credit-card-add-dialog-content-text\">\n            請務必填妥所有資訊*\n          </DialogContentText>\n          <div className=\"credit-card-add-form d-flex flex-wrap\">\n            <div className=\"credit-card-add-block credit-card-add-association\">\n              <CreditCardAssociation\n                association={association}\n                setAssociation={setAssociation}\n              />\n              <div\n                className={`invisible-error-bar  ${\n                  errMessage.findIndex((el) => {\n                    return el === \"creditCardAssociation\";\n                  }) !== -1\n                    ? \"error-bar\"\n                    : \"\"\n                }`}\n              ></div>\n            </div>\n            <div className=\"credit-card-add-block credit-card-add-card-number\">\n              <CreditCardNumber\n                open={open} //為了再看看要不要清空\n                cardNumberFirst={cardNumberFirst}\n                cardNumberSecond={cardNumberSecond}\n                cardNumberThird={cardNumberThird}\n                cardNumberForth={cardNumberForth}\n                setCardNumberFirst={setCardNumberFirst}\n                setCardNumberSecond={setCardNumberSecond}\n                setCardNumberThird={setCardNumberThird}\n                setCardNumbeForth={setCardNumbeForth}\n              />\n              <div\n                className={`invisible-error-bar  ${\n                  errMessage.findIndex((el) => {\n                    return el === \"creditCardNumber\";\n                  }) !== -1\n                    ? \"error-bar\"\n                    : \"\"\n                }`}\n              ></div>\n            </div>\n            <div className=\"credit-card-add-block credit-card-add-card-holder\">\n              <FormControl>\n                <InputLabel htmlFor=\"card-holder\" className=\"input-card-holder\">\n                  持有人\n                </InputLabel>\n                <Input\n                  type=\"text\"\n                  id=\"card-holder\"\n                  name=\"card-holder\"\n                  value={cardHolder}\n                  onChange={handleCardHolderChange}\n                />\n              </FormControl>\n              <div\n                className={`invisible-error-bar  ${\n                  errMessage.findIndex((el) => {\n                    return el === \"creditCardHolder\";\n                  }) !== -1\n                    ? \"error-bar\"\n                    : \"\"\n                }`}\n              ></div>\n            </div>\n            <div className=\"credit-card-add-block credit-card-add-expiration\">\n              <CreditCardExpiration\n                cdMonth={cdMonth}\n                cdYear={cdYear}\n                setCdMonth={setCdMonth}\n                setCdYear={setCdYear}\n              />\n              <div\n                className={`invisible-error-bar  ${\n                  errMessage.findIndex((el) => {\n                    return el === \"creditCardExpiration\";\n                  }) !== -1\n                    ? \"error-bar\"\n                    : \"\"\n                }`}\n              ></div>\n            </div>\n            <div className=\"credit-card-add-block credit-card-add-bill-address\">\n              <Address\n                myCity={billCity}\n                myPostCode={billPostCode}\n                myAddress={billAddress}\n                setCities={setBillCity}\n                setDistricts={setBillDistrict}\n                setPostCode={setBillPostCode}\n                setAddress={setBillAddress}\n              />\n              <div\n                className={`invisible-error-bar  ${\n                  errMessage.findIndex((el) => {\n                    return el === \"creditCardAddress\";\n                  }) !== -1\n                    ? \"error-bar\"\n                    : \"\"\n                }`}\n              ></div>\n            </div>\n          </div>\n        </DialogContent>\n        <DialogActions className=\"credit-card-add-btns\">\n          <div\n            className={`incomplete-message ${\n              errMessage.length ? \"incomplete-active\" : \"\"\n            }`}\n          >\n            *有未填欄位\n          </div>\n          <Button onClick={handleClose} color=\"primary\">\n            取消\n          </Button>\n          <Button onClick={creditCardAddSent} color=\"primary\">\n            確定新增\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, userLogOut }, dispatch);\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(FormDialog)\n);\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport \"./creditCardInfo.scss\";\n\n//Redux\nimport { userLogin, userLogOut } from \"../../Redux/user/userAction\";\nimport { userToggleFunc } from \"../../Redux/nav/navAction\";\n\n//material UI\nimport Button from \"@material-ui/core/Button\";\n\n//react-icon\nimport {\n  FaCreditCard,\n  FaCcMastercard,\n  FaCcVisa,\n  FaCcJcb,\n  FaCcDiscover,\n} from \"react-icons/fa\";\n\n//component\nimport CreditCardBlock from \"../CreditCardBlock/creditCardBlock\";\nimport CreditCardAdd from \"../CreditCardAdd/creditCardAdd\";\nimport SuccessAlert from \"../SuccessAlert/successAlert\";\n\nimport { apiUri } from '../../constants/api';\n\nconst CreditCardInfo = (props) => {\n  const { user, history } = props;\n  const [creditCardList, setCreditCardList] = useState([]);\n\n  //以重整新增信用卡頁面\n  const [creditCardFormState, setCreditCardFormState] = useState(0);\n\n  //新增信用卡Dialog\n  const [open, setOpen] = useState(false);\n  const handleClickOpen = () => {\n    if (user.logInStatus) {\n      setOpen(true);\n    } else {\n      handleAlertOpen(\n        \"請先登入，方可新增\",\n        \"二秒後跳轉至首頁\",\n        true,\n        true,\n        2000\n      );\n      //跳轉至首頁\n      setTimeout(() => {\n        history.push(\"/\");\n        props.userToggleFunc()\n      }, 2300);\n    }\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //fetch credit card info\n  const fetchCreditCardInfo = async () => {\n    const res = await fetch(`${apiUri}/users/creditcardinfo`, {\n      credentials: \"include\",\n    });\n    const creditCardInfo = await res.json();\n    return creditCardInfo;\n  };\n\n  //載入credit card list\n  useEffect(() => {\n    (async () => {\n      const rawData = await fetchCreditCardInfo();\n      console.log(rawData);\n\n      //reset user\n      rawData.logInStatus ? userLogin(rawData.userInfo) : userLogOut();\n\n      if (rawData.logInStatus) {\n        setCreditCardList(rawData.creditCardList);\n      }\n    })();\n\n    //以防萬一\n    if (user.logInStatus !== null && !user.logInStatus) {\n      handleAlertOpen(\"未登入\", \"一秒鐘後跳轉首頁\", true, true, 1000);\n      setTimeout(() => {\n        history.push(\"/\");\n      }, 1500);\n    }\n  }, [user.logInStatus]);\n\n  return (\n    <>\n      <div className=\"credit-card-info-container\">\n        <h2 className=\"info-title\">已儲存付款資訊</h2>\n        {creditCardList.length ? (\n          creditCardList.map((el, index) => {\n            return (\n              <CreditCardBlock\n                otherClass=\"\"\n                key={el.id}\n                id={el.id}\n                association={el.association}\n                cdMonth={el.cdMonth}\n                cdYear={el.cdYear}\n                billAddressCity={el.billAddressCity}\n                billAddressPostCode={el.billAddressPostCode}\n                billAddressDistrict={el.billAddressDistrict}\n                billAddressStreet={el.billAddressStreet}\n                cdLastFourNumber={el.cdLastFourNumber}\n                isDefault={el.isDefault}\n                setCreditCardList={setCreditCardList}\n                handleAlertOpen={handleAlertOpen}\n              />\n            );\n          })\n        ) : (\n          <p>沒有儲存的信用卡資訊</p>\n        )}\n        <div className=\"add-credit-card d-flex align-items-end justify-content-end\">\n          <div className=\"credit-card-icons d-flex align-items-center\">\n            <FaCreditCard className=\"card-association-icon\" />\n            <FaCcMastercard className=\"card-association-icon\" />\n            <FaCcVisa className=\"card-association-icon\" />\n            <FaCcJcb className=\"card-association-icon\" />\n            <FaCcDiscover className=\"card-association-icon\" />\n          </div>\n          <div className=\"add-button\">\n            <Button onClick={handleClickOpen}>新增信用卡</Button>\n            <CreditCardAdd\n              key={creditCardFormState}\n              creditCardFormState={creditCardFormState}\n              setCreditCardFormState={setCreditCardFormState}\n              open={open}\n              handleClose={handleClose}\n              setCreditCardList={setCreditCardList}\n              setOpen={setOpen}\n              handleAlertOpen={handleAlertOpen}\n            />\n            <SuccessAlert\n              alertName={alertName}\n              alertContext={alertContext}\n              openAlert={openAlert}\n              handleAlertClose={handleAlertClose}\n              alertLinearProgress={alertLinearProgress}//有無時間條\n              alertAutoClose={alertAutoClose} // 自行關閉\n              alertDuration={alertDuration} //時間間隔\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, userLogOut, userToggleFunc }, dispatch);\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CreditCardInfo)\n);\n","import React from \"react\";\nimport \"./creditCard.scss\";\n\n//引入component\nimport MainContainer from \"../../components/mainContainer\";\nimport AccountSideBar from \"../../components/AccountSideBar/accountSideBar\";\nimport CreditCardInfo from \"../../components/CreditCardInfo/creditCardInfo\";\n\nconst Modify = (props) => {\n  return (\n    <>\n      <MainContainer>\n        <div className=\"d-flex credit-card-wrapper\">\n          <AccountSideBar />\n          <CreditCardInfo />\n        </div>\n      </MainContainer>\n    </>\n  );\n};\n\nexport default Modify;\n","import React, { useState, useEffect } from \"react\";\nimport MainContainer from \"../../components/mainContainer\";\nimport \"./orderPayMent.scss\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { Input, FormControl, InputLabel } from \"@material-ui/core\";\nimport CreditCardNumber from \"../../components/CreditCardNumber/creditCardNumber\";\nimport CreditCardExpiration from \"../../components/CreditCardExpiration/creditCardExpiration\";\nimport CreditCardAssociation from \"../../components/CreditCardAssociation/creditCardAssociation\";\nimport { clearCart, clearCouponCode } from \"../../Redux/cart/cartAction\";\nimport Address from \"../../components/Address/address\";\nimport InquiryAlert from \"../../components/InquiryAlert/inquiryAlert\";\nimport axios from \"axios\";\nimport { apiUri } from \"../../constants/api\";\n\n//radio checkbox icon\nimport { FiSquare, FiCheckSquare } from \"react-icons/fi\";\n\n//redux selector\nimport {\n  selectCartItems,\n  selectCartTotal,\n  selectUserLogin,\n  selectUserInfo,\n  selectCouponCode\n} from \"../../Redux/cart/cartSelectors\";\n\nimport Button from \"@material-ui/core/Button\";\n\nconst OrderPayMent = ({\n  history,\n  selectCartItems,\n  selectCartTotal,\n  selectUserLogin,\n  selectUserInfo,\n  selectCouponCode,\n  clearCart,\n  clearCouponCode\n}) => {\n  const UserInfo = { ...selectUserInfo };\n  console.log(selectCartTotal)\n  const orderDelivery = history.location.state;\n  const [getOrderDelivery, setGetOrderDelivery] = useState(orderDelivery);\n\n  const [saveCreditCard, setSaveCreditCard] = useState(false);\n  const [agree, setAgree] = useState(false);\n\n  //持卡人\n  const [cdHolder, setcdHolder] = useState(\"\");\n\n  //信用卡號\n  const [cardNumberFirst, setCardNumberFirst] = useState(\"\");\n  const [cardNumberSecond, setCardNumberSecond] = useState(\"\");\n  const [cardNumberThird, setCardNumberThird] = useState(\"\");\n  const [cardNumberForth, setCardNumbeForth] = useState(\"\");\n\n  //期限\n  const [cdMonth, setcdMonth] = useState(\"\");\n  const [cdYear, setcdYear] = useState(\"\");\n\n  //安全碼\n  const [safeCode, setSafeCode] = useState(\"\");\n\n  //卡別\n  const [association, setassociation] = useState('')\n\n  //地址\n  const [billCity, setBillCity] = useState(\"\");\n  const [billDistrict, setBillDistrict] = useState(\"\");\n  const [billPostCode, setBillPostCode] = useState(\"\");\n  const [billAddress, setBillAddress] = useState(\"\");\n\n  const [isDefault, setisDefault] = useState(0);\n\n  //取得信用卡資訊\n  const [getCreditCardInfo, setGetCreditCardInfo] = useState({});\n\n  //格式錯誤檢查\n  const [formatError, setFormatError] = useState({});\n\n  //控制翻牌\n  const [rotateCard, setRotateCard] = useState(false)\n\n  //打開詢問付款\n  const [openInquiry, setOpenInquiry] = useState(false);\n  const [inquiryTitle, setInquiryTitle] = useState(\"title\");\n  const [inquiryContext, setInquiryContext] = useState(\"context\");\n\n  const handleInquiryOpen = () => {\n    if (Object.keys(formatError).length || !agree) {\n      setInquiryTitle(\"資料不正確\");\n      setInquiryContext(\"確認資料欄位輸入無誤或是有無勾選\");\n      setOpenInquiry(true);\n    } else {\n      setInquiryTitle(\"確認付款\");\n      setInquiryContext(\"按下確認按鈕即送出訂單\");\n      setOpenInquiry(true);\n    }\n  }\n  const handleInquiryClose = () => {\n    setOpenInquiry(false);\n  };\n\n  const handleChange = (event) => {\n    const errObj = {}\n    if (!event.target.value.length) {\n      errObj.cdHolder = '未填*'\n    } else {\n      delete errObj.cdHolder\n    }\n    setFormatError(errObj)\n\n    switch (event.target.name) {\n      case \"cdHolder\":\n        setcdHolder(event.target.value);\n        break;\n      case \"isDefault\":\n        setisDefault(event.target.value);\n        break;\n    }\n  };\n\n  const changeSafeCode = (e) => {\n    const errObj = {}\n    //先取出數字陣列\n    const inputNumList = e.target.value.match(/\\d+/g);\n    // console.log(\"inputNumList\", inputNumList);\n\n    //將陣列合併成字串\n    const insertRawNum = !!inputNumList ? inputNumList.join(\"\") : \"\";\n    // console.log(\"insertRawNum\", insertRawNum);\n\n    //取出前四個數字\n    const insertNum = !!insertRawNum.match(/\\d{1,3}/g)\n      ? insertRawNum.match(/\\d{1,3}/g)[0]\n      : \"\";\n    if (e.target.value.length < 3) {\n      errObj.safeCode = '請填滿3碼*'\n    } else {\n      delete errObj.safeCode\n    }\n    setFormatError(errObj)\n    setSafeCode(insertNum);\n\n  };\n  const paymentdata = {\n    userId: UserInfo.userId,\n    cdHolder: cdHolder,\n    cdMonth: cdMonth,\n    cdYear: cdYear,\n    cdNumber: `${cardNumberFirst}-${cardNumberSecond}-${cardNumberThird}-${cardNumberForth}`,\n    association: association,\n    billAddressCity: billCity,\n    billAddressPostCode: billPostCode,\n    billAddressDistrict: billDistrict,\n    billAddressStreet: billAddress,\n    isDefault: isDefault,\n  };\n\n  const getSavedCreditCardInfo = async () => {\n    const res = await fetch(`${apiUri}/orders/getCreditCardInfo`, {\n      credentials: \"include\",\n    });\n    const data = await res.json();\n    return data;\n  };\n\n  const addordersToSever = async () => {\n    const res = await axios.post(`${apiUri}/orders/orderList`, {\n      paymentdata: paymentdata,\n      selectCartItems: selectCartItems,\n      selectCartTotal: selectCartTotal,\n      orderDelivery: getOrderDelivery,\n      selectCouponCode: selectCouponCode\n    });\n    const { data } = res;\n    return data;\n  };\n\n  const confirmToPay = async (e) => {\n    e.preventDefault();\n    const data = await addordersToSever();\n    clearCart();\n    clearCouponCode()\n    history.push(`/orders/orderdetail/${data.orderId}`);\n  };\n  //當saveCreditCard 改變時 從資料庫撈資料或變成空物件\n  useEffect(() => {\n    (async () => {\n      if (saveCreditCard) {\n        const data = await getSavedCreditCardInfo();\n        setGetCreditCardInfo(data);\n      } else {\n        setGetCreditCardInfo({});\n      }\n    })();\n  }, [saveCreditCard]);\n\n  useEffect(() => {\n    const input = document.querySelector('.payment-safe-code .MuiFormControl-root .MuiInputBase-root input')\n    input.addEventListener('focus', function () {\n      setRotateCard(true)\n    })\n    input.addEventListener('blur', function () {\n      setRotateCard(false)\n    })\n  }, [])\n\n  //取得預設的credit card 資料\n  useEffect(() => {\n    const { creditCardInfo } = { ...getCreditCardInfo };\n    setassociation(creditCardInfo && creditCardInfo.association);\n    setCardNumberFirst(\n      creditCardInfo ? creditCardInfo.cdNumber.split(\"-\")[0] : \"\"\n    );\n    setCardNumberSecond(\n      creditCardInfo ? creditCardInfo.cdNumber.split(\"-\")[1] : \"\"\n    );\n    setCardNumberThird(\n      creditCardInfo ? creditCardInfo.cdNumber.split(\"-\")[2] : \"\"\n    );\n    setCardNumbeForth(\n      creditCardInfo ? creditCardInfo.cdNumber.split(\"-\")[3] : \"\"\n    );\n    setcdMonth(creditCardInfo ? creditCardInfo.cdMonth : \"\");\n    setcdYear(creditCardInfo ? creditCardInfo.cdYear : \"\");\n    setcdHolder(creditCardInfo ? creditCardInfo.cdHolder : \"\");\n    setBillCity(creditCardInfo && creditCardInfo.billAddressCity);\n    setBillDistrict(creditCardInfo && creditCardInfo.billAddressDistrict);\n    setBillPostCode(creditCardInfo && creditCardInfo.billAddressPostCode);\n    setBillAddress(creditCardInfo && creditCardInfo.billAddressStreet);\n  }, [getCreditCardInfo]);\n\n  return (\n    <MainContainer>\n      <div className=\"text-center position-relative order-payment-head\">\n        <div className=\"position-absolute order-payment-title\">付款資訊</div>\n        <div className=\"order-payment-step\">\n          <a href=\"#\" onClick={(e) => e.preventDefault()}>\n            寄送資訊{\" \"}\n          </a>{\" \"}\n          ＞\n          <a href=\"#\" onClick={(e) => e.preventDefault()} style={{ color: '#d94f06' }}>\n            付款資訊{\" \"}\n          </a>{\" \"}\n          ＞\n          <a href=\"#\" onClick={(e) => e.preventDefault()}>\n            訂單明細\n          </a>\n        </div>\n      </div>\n      {/* 卡片 */}\n      <div className=\"d-flex order-payment-content\">\n        <div className={`order-payment-subcontent subcontent-left ${rotateCard ? 'rotateActive' : ''}`}>\n          <div className='credit-card-demo1'>\n            <CreditCardNumber\n              cardNumberFirst={cardNumberFirst}\n              cardNumberSecond={cardNumberSecond}\n              cardNumberThird={cardNumberThird}\n              cardNumberForth={cardNumberForth}\n              setCardNumberFirst={(e) => setCardNumberFirst(e.target.value)}\n              setCardNumberSecond={setCardNumberSecond}\n              setCardNumberThird={setCardNumberThird}\n              setCardNumbeForth={setCardNumbeForth}\n            />\n            <CreditCardExpiration\n              cdMonth={cdMonth}\n              cdYear={cdYear}\n              setCdMonth={setcdMonth}\n              setCdYear={setcdYear}\n              formatError={formatError}\n              setFormatError={setFormatError}\n            />\n          </div>\n          <div className='credit-card-demo2'>\n            <div className='black-strip'></div>\n            <FormControl>\n              <InputLabel htmlFor=\"my-input\">安全碼*</InputLabel>\n              <Input id=\"my-input\" value={safeCode} onChange={changeSafeCode} aria-describedby=\"my-helper-text\" />\n            </FormControl>\n          </div>\n\n        </div>\n        <div className=\"order-payment-subcontent subcontent-center\">\n          {/* 卡別 */}\n          <div className='position-relative'>\n            <CreditCardAssociation\n              association={association}\n              setAssociation={setassociation}\n              formatError={formatError}\n              setFormatError={setFormatError}\n            />\n            <div\n              className={\n                !!formatError.association ? \"error-message\" : \"display-none\"\n              }\n            >\n              <span>{formatError.association}</span>\n            </div>\n          </div>\n          <div className='position-relative'>\n            <CreditCardNumber\n              cardNumberFirst={cardNumberFirst}\n              cardNumberSecond={cardNumberSecond}\n              cardNumberThird={cardNumberThird}\n              cardNumberForth={cardNumberForth}\n              formatError={formatError}\n              setCardNumberFirst={setCardNumberFirst}\n              setCardNumberSecond={setCardNumberSecond}\n              setCardNumberThird={setCardNumberThird}\n              setCardNumbeForth={setCardNumbeForth}\n              setFormatError={setFormatError}\n\n            />\n            <div\n              className={\n                !!formatError.cardNumber ? \"error-message\" : \"display-none\"\n              }\n            >\n              <span>{formatError.cardNumber}</span>\n            </div>\n          </div>\n          <div className='position-relative'>\n            <div className=\"d-flex align-items-center payment-safe-code\">\n              <FormControl>\n                <InputLabel htmlFor=\"my-input\">安全碼*</InputLabel>\n                <Input\n                  id=\"my-input\"\n                  value={safeCode}\n                  onChange={changeSafeCode}\n                  aria-describedby=\"my-helper-text\"\n                />\n              </FormControl>\n              <p> (3碼) </p>\n            </div>\n            <div\n              className={\n                !!formatError.safeCode ? \"error-message\" : \"display-none\"\n              }\n            >\n              <span>{formatError.safeCode}</span>\n            </div>\n          </div>\n          <div className=\"subcontent-date position-relative\">\n            到期日期\n            <div className=\"credit-card-date\">\n              <CreditCardExpiration\n                cdMonth={cdMonth}\n                cdYear={cdYear}\n                setCdMonth={setcdMonth}\n                setCdYear={setcdYear}\n                formatError={formatError}\n                setFormatError={setFormatError}\n              />\n            </div>\n            <div\n              className={\n                !!formatError.cdDate ? \"error-message\" : \"display-none\"\n              }\n            >\n              <span>{formatError.cdDate}</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"order-payment-subcontent subcontent-right\">\n          <div className='position-relative'>\n            <FormControl>\n              <InputLabel htmlFor=\"my-input\">持有人*</InputLabel>\n              <Input\n                value={cdHolder}\n                name=\"cdHolder\"\n                onChange={handleChange}\n                id=\"my-input\"\n                aria-describedby=\"my-helper-text\"\n              />\n            </FormControl>\n            <div\n              className={\n                !!formatError.cdHolder ? \"error-message\" : \"display-none\"\n              }\n            >\n              <span>{formatError.cdHolder}</span>\n            </div>\n          </div>\n          <Address\n            myCity={billCity}\n            myPostCode={billPostCode}\n            myAddress={billAddress}\n            setCities={setBillCity}\n            setDistricts={setBillDistrict}\n            setPostCode={setBillPostCode}\n            setAddress={setBillAddress}\n          />\n          <div\n            className=\"credit-card-checkedBtn d-flex align-items-center\"\n            onClick={() => setSaveCreditCard(!saveCreditCard)}\n          >\n            {saveCreditCard ? (\n              <FiCheckSquare className=\"order-payment-square\" />\n            ) : (\n                <FiSquare className=\"order-payment-square\" />\n              )}\n            <p>使用預設已儲存的信用卡</p>\n          </div>\n          <div\n            className=\"credit-card-checkedBtn d-flex align-items-center\"\n            onClick={() => setAgree(!agree)}\n          >\n            {agree ? (\n              <FiCheckSquare className=\"order-payment-square\" />\n            ) : (\n                <FiSquare className=\"order-payment-square\" />\n              )}\n            <p>\n              我確認上述資訊完整無誤並同意上述資訊\n              <br />\n              可以被InSense作為商業用途使用\n            </p>\n          </div>\n          <Button\n            className=\"MuiButtonBase-root MuiButton-root MuiButton-outlined confirm-btn\"\n            href=\"#\"\n            onClick={handleInquiryOpen}\n          >\n            確認付款\n          </Button>\n          <InquiryAlert\n            openInquiry={openInquiry}\n            handleInquiryClose={handleInquiryClose}\n            inquiryTitle={inquiryTitle}\n            inquiryContext={inquiryContext}\n            leftButton={Object.keys(formatError).length || !agree ? '' : \"取消\"}\n            rightButton={Object.keys(formatError).length || !agree ? '取消' : \"確認\"}\n            leftButtonFunc={handleInquiryClose}\n            rightButtonFunc={Object.keys(formatError).length || !agree ? handleInquiryClose : confirmToPay}\n          />\n        </div>\n      </div>\n    </MainContainer>\n  );\n};\nconst mapStateToProps = createStructuredSelector({\n  selectCartItems: selectCartItems,\n  selectCartTotal: selectCartTotal,\n  selectUserLogin: selectUserLogin,\n  selectUserInfo: selectUserInfo,\n  selectCouponCode: selectCouponCode\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearCart: () => dispatch(clearCart()),\n  clearCouponCode: () => dispatch(clearCouponCode())\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(OrderPayMent)\n);\n","import React from \"react\";\nimport { Animate } from \"react-move\";\n\nclass AnimatedProgressProvider extends React.Component {\n  interval = undefined;\n\n  state = {\n    isAnimated: false\n  };\n\n  static defaultProps = {\n    valueStart: 0\n  };\n\n  componentDidMount() {\n    if (this.props.repeat) {\n      this.interval = window.setInterval(() => {\n        this.setState({\n          isAnimated: !this.state.isAnimated\n        });\n      }, this.props.duration * 1000);\n    } else {\n      this.setState({\n        isAnimated: !this.state.isAnimated\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <Animate\n        start={() => ({\n          value: this.props.valueStart\n        })}\n        update={() => ({\n          value: [\n            this.state.isAnimated ? this.props.valueEnd : this.props.valueStart\n          ],\n          timing: {\n            duration: this.props.duration * 1000,\n            ease: this.props.easingFunction\n          }\n        })}\n      >\n        {({ value }) => this.props.children(value)}\n      </Animate>\n    );\n  }\n}\n\nexport default AnimatedProgressProvider;\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\n// Import react-circular-progressbar module and styles\nimport {\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from \"react-circular-progressbar\";\n\n// Animation\nimport { easeQuadInOut } from \"d3-ease\";\nimport AnimatedProgressProvider from \"../AnimatedProgressProvider/animatedProgressProvider\";\n\n//css\nimport \"react-circular-progressbar/dist/styles.css\";\nimport \"./progressBoard.scss\";\n\nconst ProgressBoard = (props) => {\n  const { annualAmount } = props;\n\n  return (\n    <>\n      <div className=\"progress-container d-flex flex-direction-column align-items-center\">\n        <h1 className=\"progress-title\">您的進度</h1>\n        <h4 className=\"progress-subtitle-title\">您的購買讓我們越來越熟識</h4>\n        <div className=\"progress-circle\">\n          <div className=\"circle\">\n            <AnimatedProgressProvider\n              valueStart={0}\n              valueEnd={(annualAmount * 100) / 50000}\n              duration={3}\n              easingFunction={easeQuadInOut}\n            >\n              {(value) => {\n                return (\n                  <CircularProgressbarWithChildren\n                    value={value}\n                    strokeWidth={3}\n                    styles={buildStyles({\n                      pathTransition: \"none\",\n                      textColor: \"#555555\",\n                      pathColor: \"#f7b66c\",\n                      trailColor: \"#fff\",\n                    })}\n                  >\n                    <h3>{`${Math.round(value)}%`}</h3>\n                    {value >= 100 ? (\n                      <p className=\"text-center\">您已達標</p>\n                    ) : (\n                      <p className=\"text-center\">一步之遙</p>\n                    )}\n                    <p className=\" annual-amount d-flex align-items-end justify-content-center\">\n                      本年度您已消費\n                      <span className=\"d-flex align-items-end justify-content-end\">\n                        {\" \"}\n                        {Math.round((value * 50000) / 100)}{\" \"}\n                      </span>\n                      元\n                    </p>\n                  </CircularProgressbarWithChildren>\n                );\n              }}\n            </AnimatedProgressProvider>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default withRouter(ProgressBoard);\n","import React, { useState } from \"react\";\n\n//react-icon\nimport { RiCakeLine } from \"react-icons/ri\";\nimport { AiOutlineGift } from \"react-icons/ai\";\nimport { FaLevelUpAlt } from \"react-icons/fa\";\n\n//css\nimport \"./levelBoard.scss\";\n\nconst LevelBoard = (props) => {\n  const { level } = props;\n  const thisYear = new Date().getFullYear();\n  return (\n    <>\n      <div className=\"level-container d-flex flex-direction-column align-items-center\">\n        <h1 className=\"level-title\">您的優惠</h1>\n        <h4 className=\"level-subtitle-title\">12/31/{thisYear} 到期</h4>\n        <div className=\"level-figure d-flex align-items-center justify-content-between\">\n          <div className=\"customer new-customer\">\n            <div className=\"customer-circle\">\n              <div className={`level-circle ${!level ? \"active\" : \"\"}`}></div>\n            </div>\n            <p className=\"text-center\">新客</p>\n          </div>\n          <div className=\"horizantal-bar flex-grow\"></div>\n          <div className=\"customer senior-customer\">\n            <div className=\"customer-circle\">\n              <div className={`level-circle ${level ? \"active\" : \"\"}`}></div>\n            </div>\n            <p className=\"text-center\">香客</p>\n          </div>\n        </div>\n        <div className=\"discount-description\">\n          <div className=\"discount d-flex align-items-end justify-content-between\">\n            <FaLevelUpAlt />\n            <p>滿五萬 升香客</p>\n          </div>\n          <div className=\"discount d-flex align-items-end justify-content-between\">\n            <RiCakeLine />\n            <p>生日折價優惠券</p>\n          </div>\n          <div className=\"discount d-flex align-items-end justify-content-between\">\n            <AiOutlineGift />\n            <p>晉升香客贈好禮</p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LevelBoard;\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport { withRouter } from \"react-router-dom\";\n\n//Redux\nimport { userLogin, checkLogin, userLogOut } from \"../../Redux/user/userAction\";\n\n//scss\nimport \"./accountDashboard.scss\";\n\n//引入component\nimport MainContainer from \"../../components/mainContainer\";\nimport AccountSideBar from \"../../components/AccountSideBar/accountSideBar\";\nimport ProgressBoard from \"../../components/ProgressBoard/progressBoard\";\nimport LevelBoard from \"../../components/LevelBoard/levelBoard\";\nimport SuccessAlert from \"../../components/SuccessAlert/successAlert\";\n\nimport { apiUri } from \"../../constants/api\";\n\nconst AccountDashboard = (props) => {\n  const { user, history, userLogin, userLogOut } = props;\n  const [level, setLevel] = useState(0);\n  // const [percentage, setPercentage] = useState(0);\n  const [annualAmount, setAnnualAmount] = useState(0);\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  useEffect(() => {\n    if (user.logInStatus) {\n      (async () => {\n        const response = await fetch(`${apiUri}/users/dashboard`, {\n          credentials: \"include\",\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        });\n        const obj = await response.json();\n        // console.log(obj);\n\n        //reset user\n        obj.logInStatus ? userLogin(obj.userInfo) : userLogOut();\n\n        setLevel(obj.level);\n        // setPercentage(obj.progress);\n        setAnnualAmount(obj.totalAmount);\n      })();\n    } else {\n      if (user.logInStatus !== null) {\n        handleAlertOpen(\"未登入\", \"一秒鐘後跳轉首頁\", true, true, 1000);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 1500);\n      }\n    }\n  }, [user.logInStatus]);\n\n  return (\n    <>\n      <MainContainer>\n        <div className=\"d-flex dash-board-wrapper\">\n          <AccountSideBar />\n          <div className=\"card-container d-flex justify-content-center flex-wrap\">\n            <div className=\"level-board-container\">\n              <LevelBoard level={level} />\n            </div>\n            <div className=\"progress-board-container\">\n              <ProgressBoard\n                // percentage={percentage}\n                annualAmount={annualAmount}\n              />\n            </div>\n          </div>\n        </div>\n        <SuccessAlert\n          alertName={alertName}\n          alertContext={alertContext}\n          openAlert={openAlert}\n          handleAlertClose={handleAlertClose}\n          alertLinearProgress={alertLinearProgress} //有無時間條\n          alertAutoClose={alertAutoClose} // 自行關閉\n          alertDuration={alertDuration} //時間間隔\n        />\n      </MainContainer>\n    </>\n  );\n};\n\nconst mapStateToProps = (store) => {\n  return { user: store.user };\n};\n\n//Redux引入函式\n//mapDispatchToProps\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ userLogin, checkLogin, userLogOut }, dispatch);\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(AccountDashboard)\n);\n","import React, { useState, useEffect } from \"react\";\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport MainContainer from \"../../components/mainContainer\";\nimport FormInput from \"../../components/FormInput/FormInput\";\nimport Address from \"../../components/Address/address\";\nimport \"./orderDelivery.scss\";\nimport { withRouter } from \"react-router-dom\";\nimport InquiryAlert from \"../../components/InquiryAlert/inquiryAlert\";\nimport SuccessAlert from '../../components/SuccessAlert/successAlert'\n\nimport {\n  selectCartItems,\n  selectCartTotal,\n  selectUserInfo,\n} from \"../../Redux/cart/cartSelectors\";\n\n//react-icon\nimport {\n  FiCircle,\n  FiCheckCircle,\n  FiSquare,\n  FiCheckSquare,\n} from \"react-icons/fi\";\n// import { GiSquare } from \"react-icons/gi\";\n//material UI\nimport Button from \"@material-ui/core/Button\";\n\n//datepicker\nimport \"date-fns\";\nimport Grid from \"@material-ui/core/Grid\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\n\nconst OrderDelivery = (props) => {\n  //Redux\n  const { user, userLogin, history, selectUserInfo, location } = props;\n\n  //gender\n  const [gender, setGender] = useState(\"\");\n\n  //input\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmailName] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [cities, setCities] = useState(\"\");\n  const [districts, setDistricts] = useState(\"\");\n  const [postCode, setPostCode] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n\n  //確認\n  const [confirm, setConfirm] = useState(false);\n\n  //格式錯誤檢查\n  const [formatError, setFormatError] = useState({});\n\n  //datepicker\n  const [selectedDate, setSelectedDate] = useState(\n    new Date(\"2000-01-01T21:11:54\")\n  );\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n  };\n\n  //性別欄轉換\n  const genderChange = (e) => {\n    setGender(e.target.value);\n  };\n\n  //alert\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertName, setAlertName] = useState(\"\");\n  const [alertContext, setAlertContext] = useState(\"\");\n  const [alertLinearProgress, setAlertLinearProgress] = useState(false);\n  const [alertAutoClose, setAlertAutoClose] = useState(false);\n  const [alertDuration, setAlertDuration] = useState(\"\");\n  const handleAlertOpen = (\n    alertName = \"alertName\",\n    alertContext = \"alertContext\",\n    alertAutoClose = false,\n    linearProgress = false,\n    duration\n  ) => {\n    setAlertName(alertName);\n    setAlertContext(alertContext);\n    setAlertLinearProgress(linearProgress);\n    setAlertAutoClose(alertAutoClose);\n    setAlertDuration(duration);\n    setOpenAlert(true);\n  };\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  //文字欄\n  const handleChange = (event) => {\n\n    const errObj = { ...formatError }\n    // console.log(event.target.name);\n    switch (event.target.name) {\n      case \"firstName\":\n        errObj.firstName = !event.target.value.length ? \"未填*\" : \"\";\n        setFirstName(event.target.value);\n        break;\n      case \"lastName\":\n        errObj.lastName = !event.target.value.length ? \"未填*\" : \"\";\n        setLastName(event.target.value);\n        break;\n      case \"email\":\n        errObj.email = !event.target.value.length ? \"未填*\" : \"\";\n        setEmailName(event.target.value);\n        break;\n      case \"phone\":\n        errObj.phone = !event.target.value.length ? \"未填*\" : \"\";\n        setPhone(event.target.value);\n        break;\n\n      default:\n        break;\n    }\n    setFormatError(errObj);\n  };\n\n  //聲明確認\n  const confirmChange = () => {\n    setConfirm(!confirm);\n  };\n  //詢問是否\n  const [openInquiry, setOpenInquiry] = useState(false);\n  const [inquiryTitle, setInquiryTitle] = useState(\"title\");\n  const [inquiryContext, setInquiryContext] = useState(\"context\");\n  // const handleInquiryOpen = () => {\n  //   setInquiryTitle(\"寄送資訊\");\n  //   setInquiryContext(\"確認寄送地址正確無誤\");\n  //   setOpenInquiry(true);\n  // };\n  // const handleInquiryClose = () => {\n  //   setOpenInquiry(false);\n  // };\n\n  const registrationSent = async () => {\n\n    const UserInfo = { ...selectUserInfo };\n\n    const errorObj = {};\n    if (!lastName.length) errorObj.lastName = \"未填*\";\n    if (!firstName.length) errorObj.firstName = \"未填*\";\n    if (email.indexOf(\"@\") < 1) errorObj.email = \"格式錯誤*\";\n    if (phone.length < 10 || phone.length > 10) errorObj.phone = \"格式錯誤*\";\n\n    setFormatError(errorObj)\n\n    if (!confirm) {\n      console.log(\"confirm not checked\");\n      handleAlertOpen(\"請勾選確認欄\", \"請詳細檢查所有資料，並同意註冊協議\");\n    } else if (Object.keys(errorObj).length) {\n      //若格式有誤\n      console.log(\"format error\");\n      setConfirm(false);\n      handleAlertOpen(\"填寫資料有誤\", \"請詳細檢查所有資料，並同意註冊協議\");\n    } else {\n      const data = {\n        // 會員帳號\n        userId: UserInfo.userId,\n        userAccount: email,\n        userEmail: email,\n        userPhone: phone,\n        userFirstName: firstName,\n        userLastName: lastName,\n        userGender: gender,\n        userCity: cities,\n        userDistrict: districts,\n        userAddress: address,\n        userPostCode: postCode,\n        userBirthday: selectedDate.toLocaleDateString().split(\"/\").join(\"-\"),\n      };\n      handleAlertOpen('確認寄送地址正確無誤', '1秒後跳轉至下一頁', true, true, 1000)\n      setTimeout(() => {\n        history.push(\"/orders/orderpayment\", {\n          data: data,\n        });\n      }, 1500);\n\n    }\n  };\n\n  return (\n    <>\n      <MainContainer>\n        <div className=\"order-registration-container\">\n          <div className=\"text-center position-relative order-payment-head\">\n            <div className=\"position-absolute order-payment-title registration-title\">\n              寄送資訊\n            </div>\n            <div className=\"order-payment-step\">\n              <a\n                href=\"#\"\n                onClick={(e) => e.preventDefault()}\n                className=\"delivery-step\"\n                style={{ color: '#d94f06' }}\n              >\n                寄送資訊{\" \"}\n              </a>{\" \"}\n              ＞\n              <a href=\"#\" onClick={(e) => e.preventDefault()}>\n                付款資訊{\" \"}\n              </a>{\" \"}\n              ＞\n              <a href=\"#\" onClick={(e) => e.preventDefault()}>\n                訂單明細\n              </a>\n            </div>\n          </div>\n          <div className=\"registration-grid-container\">\n            <div className=\"registration-grid-item registration-grid-gender\">\n              <div className=\"registration-item\">\n                <h4>性別*</h4>\n                <div className=\"registration-gender-select d-flex align-items-center\">\n                  <input\n                    type=\"radio\"\n                    name=\"gender\"\n                    id=\"registration-radio-woman\"\n                    className=\"display-none\"\n                    value=\"woman\"\n                    onChange={genderChange}\n                  ></input>\n                  <label\n                    htmlFor=\"registration-radio-woman\"\n                    className=\"d-flex align-items-center\"\n                  >\n                    {gender === \"woman\" ? (\n                      <FiCheckCircle className=\"registration-select-circle\" />\n                    ) : (\n                        <FiCircle className=\"registration-select-circle\" />\n                      )}\n                    <p>女性</p>\n                  </label>\n                  <input\n                    type=\"radio\"\n                    name=\"gender\"\n                    id=\"registration-radio-man\"\n                    className=\"display-none\"\n                    value=\"man\"\n                    onChange={genderChange}\n                  ></input>\n                  <label\n                    htmlFor=\"registration-radio-man\"\n                    className=\" d-flex align-items-center\"\n                  >\n                    {gender === \"man\" ? (\n                      <FiCheckCircle className=\"registration-select-circle\" />\n                    ) : (\n                        <FiCircle className=\"registration-select-circle\" />\n                      )}\n                    <p>男性</p>\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div className=\"registration-grid-item registration-grid-birthday\">\n              <div className=\"registration-item\">\n                <h4>生日</h4>\n                {/* datepicker */}\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                  <Grid container>\n                    <KeyboardDatePicker\n                      disableToolbar\n                      variant=\"inline\"\n                      format=\"MM/dd/yyyy\"\n                      margin=\"normal\"\n                      id=\"date-picker-inline\"\n                      value={selectedDate}\n                      onChange={handleDateChange}\n                      KeyboardButtonProps={{\n                        \"aria-label\": \"change date\",\n                      }}\n                    />\n                  </Grid>\n                </MuiPickersUtilsProvider>\n              </div>\n            </div>\n            <div className=\"registration-grid-item registration-grid-last-name\">\n              <div className=\"registration-item\">\n                <FormInput\n                  type=\"text\"\n                  name=\"lastName\"\n                  value={lastName}\n                  handleChange={handleChange}\n                  label=\"姓氏\"\n                  required=\"\"\n                />\n              </div>\n              <div\n                className={\n                  !!formatError.lastName ? \"error-message\" : \"display-none\"\n                }\n              >\n                <span>{formatError.lastName}</span>\n              </div>\n            </div>\n            <div className=\"registration-grid-item registration-grid-first-name\">\n              <div className=\"registration-item\">\n                <FormInput\n                  type=\"text\"\n                  name=\"firstName\"\n                  value={firstName}\n                  handleChange={handleChange}\n                  label=\"名字\"\n                  required={props.required}\n                />\n              </div>\n              <div\n                className={\n                  !!formatError.firstName ? \"error-message\" : \"display-none\"\n                }\n              >\n                <span>{formatError.firstName}</span>\n              </div>\n            </div>\n            <div className=\"registration-grid-item registration-grid-email\">\n              <div className=\"registration-item\">\n                <FormInput\n                  type=\"email\"\n                  name=\"email\"\n                  value={email}\n                  handleChange={handleChange}\n                  label=\"email\"\n                  required\n                />\n              </div>\n              <div\n                className={\n                  !!formatError.email ? \"error-message\" : \"display-none\"\n                }\n              >\n                <span>{formatError.email}</span>\n              </div>\n            </div>\n            <div className=\"registration-grid-item registration-grid-email-confirm\">\n              <div className=\"registration-item\">\n                <FormInput\n                  type=\"tel\"\n                  name=\"phone\"\n                  value={phone}\n                  handleChange={handleChange}\n                  label=\"手機\"\n                  required\n                />\n              </div>\n              <div\n                className={\n                  !!formatError.phone ? \"error-message\" : \"display-none\"\n                }\n              >\n                <span>{formatError.phone}</span>\n              </div>\n            </div>\n\n            {/* 地址 */}\n            <div className=\"registration-grid-item registration-grid-address\">\n              <div className=\"registration-item\">\n                <Address\n                  setCities={setCities}\n                  setDistricts={setDistricts}\n                  setAddress={setAddress}\n                  setPostCode={setPostCode}\n                />\n              </div>\n            </div>\n          </div>\n          <div\n            className=\"d-flex registration-declaration\"\n            onClick={confirmChange}\n          >\n            {confirm ? <FiCheckSquare /> : <FiSquare />}\n            <p>\n              我確認上述資訊完整無誤，並同意上述資訊可以被 InSense\n              作為商業用途使用\n            </p>\n          </div>\n          <div className=\"\">\n            <Button\n              className=\"orderDelivery-button\"\n              variant=\"outlined\"\n              onClick={registrationSent}\n            >\n              下一步\n            </Button>\n            {/* <InquiryAlert\n              openInquiry={openInquiry}\n              handleInquiryClose={handleInquiryClose}\n              inquiryTitle={inquiryTitle}\n              inquiryContext={inquiryContext}\n              leftButton={\"取消\"}\n              rightButton={\"確認\"}\n              leftButtonFunc={handleInquiryClose}\n              rightButtonFunc={registrationSent}\n            /> */}\n            <SuccessAlert\n              alertName={alertName}\n              alertContext={alertContext}\n              openAlert={openAlert}\n              handleAlertClose={handleAlertClose}\n              alertLinearProgress={alertLinearProgress} //有無時間條\n              alertAutoClose={alertAutoClose} // 自行關閉\n              alertDuration={alertDuration} //時間間隔\n            />\n          </div>\n        </div>\n      </MainContainer>\n    </>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal,\n  selectUserInfo: selectUserInfo,\n});\n\nexport default withRouter(connect(mapStateToProps)(OrderDelivery));\n","import React from \"react\";\nimport \"./errorPage.scss\";\n\nconst ErrorPage = () => {\n  return (\n    <div class=\"bg-video\">\n      <video class=\"bg-video-content\" autoPlay>\n        <source\n          src={\"http://localhost:3000/images/video/chanel.mp4\"}\n          type=\"video/mp4\"\n        />\n        <source\n          src={\"http://localhost:3000/images/video/chanel.webm\"}\n          type=\"video/webm\"\n        />\n      </video>\n      <div className=\"not-found\">404</div>\n      <div className=\"not-found-text\">\n        Oops, looks like something went wrong\n      </div>\n      {/* <button>返回首頁</button>\n      <button>前往購買</button> */}\n    </div>\n  );\n};\n\nexport default ErrorPage;\n","import { CANCEL_ORDER } from '../action-types'\n\nconst cancelOrderFunc = () => {\n  return {\n    type: CANCEL_ORDER\n  }\n}\nexport { cancelOrderFunc }\n","import React, { useState, useEffect } from 'react'\nimport './orderHistoryCard.scss'\nimport { Link } from 'react-router-dom'\nimport { FiX } from \"react-icons/fi\";\nimport InquiryAlert from '../../components/InquiryAlert/inquiryAlert'\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { cancelOrderFunc } from '../../Redux/order/orderAction'\n\nimport { apiUri } from '../../constants/api';\n\nconst OrderHistoryCard = (props) => {\n  const { cancelOrderFunc, orderId, totalPrice, orderDate, orderStatus, deliveryId, itemImg, itemName, itemPrice, itemBrand } = props\n  const upperBrand = itemBrand === 'Diptyque' ? itemBrand.toLowerCase() : itemBrand\n  const newItemName = itemName.split(upperBrand)[1]\n\n  //打開詢問付款\n  const [openInquiry, setOpenInquiry] = useState(false);\n  const [inquiryTitle, setInquiryTitle] = useState(\"title\");\n  const [inquiryContext, setInquiryContext] = useState(\"context\");\n  const handleInquiryOpen = () => {\n    setInquiryTitle(\"確認取消\");\n    setInquiryContext(\"按下確認按鈕即取消訂單\");\n    setOpenInquiry(true);\n  };\n  const handleInquiryClose = () => {\n    setOpenInquiry(false);\n  };\n\n  const cancelOrder = async () => {\n    const data = {\n      orderId: orderId\n    }\n    const response = await fetch(`${apiUri}/users/orderhistory/${orderId}`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    //redux狀態改變時,讓父層rerender\n    cancelOrderFunc()\n    handleInquiryClose()\n  }\n\n  return (\n    <div className={`d-flex order-history-card-container ${orderStatus === '已取消' ? 'container-opacity' : ''}`}>\n      <div className={`order-history-orderinfo ${orderStatus === '已取消' ? 'orderinfo-cancel' : ''}`}>\n        <p className='order-id'>訂單編號：{orderId}</p>\n        <p>總金額：{totalPrice}</p>\n        <p>訂購日期：{orderDate}</p>\n        <p>訂單狀況：{orderStatus}</p>\n        {orderStatus === '已取消' ? '' : <Link to={`/orders/orderdetail/${orderId}`} className='link-to-order-detail'>訂單詳情</Link>}\n      </div>\n      <div className='order-history-deliveryinfo'>\n        <p className='delivery-id'>配送編號：{deliveryId}</p>\n        <p>配送方式：宅配</p>\n      </div>\n      <figure className='order-history-itemimg d-flex align-items-center position-relative'>\n        <img src={itemImg} />\n        <div>\n          <p>{itemBrand}</p>\n          <p>{newItemName}</p>\n          <p>NT$ {itemPrice}</p>\n        </div>\n        {orderStatus === '已取消' ? '' : <button className='cancelOrderBtn position-absolute' onClick={handleInquiryOpen}>\n          <FiX />\n        </button>}\n        <InquiryAlert\n          openInquiry={openInquiry}\n          handleInquiryClose={handleInquiryClose}\n          inquiryTitle={inquiryTitle}\n          inquiryContext={inquiryContext}\n          leftButton={\"取消\"}\n          rightButton={\"確認\"}\n          leftButtonFunc={handleInquiryClose}\n          rightButtonFunc={cancelOrder}\n        />\n      </figure>\n    </div>\n  )\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators(\n    { cancelOrderFunc },\n    dispatch\n  );\n};\n\nexport default connect(null, mapDispatchToProps)(OrderHistoryCard)","import React, { useEffect, useState } from 'react';\nimport MainContainer from '../../components/mainContainer'\nimport AccountSideBar from '../../components/AccountSideBar/accountSideBar'\nimport OrderHistoryCard from '../../components/OrderHistoryCard/orderHistoryCard'\nimport { connect } from \"react-redux\";\nimport { apiUri } from \"../../constants/api\";\n\n\nimport './orderHistory.scss'\n\nconst OrderHistory = (props) => {\n\n  //global state\n  const { user, cancelOrder } = props;\n\n  //local state\n  const [ordersHistory, setOrdersHistory] = useState([])\n\n  const fetchOrderHistory = async () => {\n    const response = await fetch(`${apiUri}/users/orderhistory`, { credentials: 'include' })\n    const data = await response.json()\n    return data\n  }\n\n  useEffect(() => {\n    (async () => {\n      const data = await fetchOrderHistory()\n      setOrdersHistory(data)\n    })()\n  }, [user.logInStatus, cancelOrder])\n\n  console.log(ordersHistory)\n  return (\n    <MainContainer>\n      <div className='d-flex order-history-container'>\n        <AccountSideBar />\n        <div>\n          {ordersHistory.orderHistory && ordersHistory.orderHistory.map(el => (\n            <OrderHistoryCard key={el.orderId} orderId={el.orderId} totalPrice={el.totalPrice} orderDate={el.created_at} orderStatus={el.orderStatus} deliveryId={el.deliveryId} itemImg={el[el.itemId].itemimg} itemName={el[el.itemId].itemName} itemPrice={el[el.itemId].itemPrice} itemBrand={el[el.itemId].itemBrand} />\n          ))}\n        </div>\n      </div>\n    </MainContainer>\n  )\n}\n\nconst mapStateToProps = (store) => {\n  return { user: store.user, cancelOrder: store.cancelOrder };\n};\n\nexport default connect(mapStateToProps)(OrderHistory)","const SHOP_DATA = [\n  {\n    id: 1,\n    title: 'Hats',\n    routeName: 'hats',\n    items: [\n      {\n        id: 1,\n        name: 'Brown Brim',\n        imageUrl: 'https://i.ibb.co/ZYW3VTp/brown-brim.png',\n        price: 25\n      },\n      {\n        id: 2,\n        name: 'Blue Beanie',\n        imageUrl: 'https://i.ibb.co/ypkgK0X/blue-beanie.png',\n        price: 18\n      },\n      {\n        id: 3,\n        name: 'Brown Cowboy',\n        imageUrl: 'https://i.ibb.co/QdJwgmp/brown-cowboy.png',\n        price: 35\n      },\n      {\n        id: 4,\n        name: 'Grey Brim',\n        imageUrl: 'https://i.ibb.co/RjBLWxB/grey-brim.png',\n        price: 25\n      },\n      {\n        id: 5,\n        name: 'Green Beanie',\n        imageUrl: 'https://i.ibb.co/YTjW3vF/green-beanie.png',\n        price: 18\n      },\n      {\n        id: 6,\n        name: 'Palm Tree Cap',\n        imageUrl: 'https://i.ibb.co/rKBDvJX/palm-tree-cap.png',\n        price: 14\n      },\n      {\n        id: 7,\n        name: 'Red Beanie',\n        imageUrl: 'https://i.ibb.co/bLB646Z/red-beanie.png',\n        price: 18\n      },\n      {\n        id: 8,\n        name: 'Wolf Cap',\n        imageUrl: 'https://i.ibb.co/1f2nWMM/wolf-cap.png',\n        price: 14\n      },\n      {\n        id: 9,\n        name: 'Blue Snapback',\n        imageUrl: 'https://i.ibb.co/X2VJP2W/blue-snapback.png',\n        price: 16\n      }\n    ]\n  },\n  {\n    id: 2,\n    title: 'Sneakers',\n    routeName: 'sneakers',\n    items: [\n      {\n        id: 10,\n        name: 'Adidas NMD',\n        imageUrl: 'https://i.ibb.co/0s3pdnc/adidas-nmd.png',\n        price: 220\n      },\n      {\n        id: 11,\n        name: 'Adidas Yeezy',\n        imageUrl: 'https://i.ibb.co/dJbG1cT/yeezy.png',\n        price: 280\n      },\n      {\n        id: 12,\n        name: 'Black Converse',\n        imageUrl: 'https://i.ibb.co/bPmVXyP/black-converse.png',\n        price: 110\n      },\n      {\n        id: 13,\n        name: 'Nike White AirForce',\n        imageUrl: 'https://i.ibb.co/1RcFPk0/white-nike-high-tops.png',\n        price: 160\n      },\n      {\n        id: 14,\n        name: 'Nike Red High Tops',\n        imageUrl: 'https://i.ibb.co/QcvzydB/nikes-red.png',\n        price: 160\n      },\n      {\n        id: 15,\n        name: 'Nike Brown High Tops',\n        imageUrl: 'https://i.ibb.co/fMTV342/nike-brown.png',\n        price: 160\n      },\n      {\n        id: 16,\n        name: 'Air Jordan Limited',\n        imageUrl: 'https://i.ibb.co/w4k6Ws9/nike-funky.png',\n        price: 190\n      },\n      {\n        id: 17,\n        name: 'Timberlands',\n        imageUrl: 'https://i.ibb.co/Mhh6wBg/timberlands.png',\n        price: 200\n      }\n    ]\n  },\n  {\n    id: 3,\n    title: 'Jackets',\n    routeName: 'jackets',\n    items: [\n      {\n        id: 18,\n        name: 'Black Jean Shearling',\n        imageUrl: 'https://i.ibb.co/XzcwL5s/black-shearling.png',\n        price: 125\n      },\n      {\n        id: 19,\n        name: 'Blue Jean Jacket',\n        imageUrl: 'https://i.ibb.co/mJS6vz0/blue-jean-jacket.png',\n        price: 90\n      },\n      {\n        id: 20,\n        name: 'Grey Jean Jacket',\n        imageUrl: 'https://i.ibb.co/N71k1ML/grey-jean-jacket.png',\n        price: 90\n      },\n      {\n        id: 21,\n        name: 'Brown Shearling',\n        imageUrl: 'https://i.ibb.co/s96FpdP/brown-shearling.png',\n        price: 165\n      },\n      {\n        id: 22,\n        name: 'Tan Trench',\n        imageUrl: 'https://i.ibb.co/M6hHc3F/brown-trench.png',\n        price: 185\n      }\n    ]\n  },\n  {\n    id: 4,\n    title: 'Womens',\n    routeName: 'womens',\n    items: [\n      {\n        id: 23,\n        name: 'Blue Tanktop',\n        imageUrl: 'https://i.ibb.co/7CQVJNm/blue-tank.png',\n        price: 25\n      },\n      {\n        id: 24,\n        name: 'Floral Blouse',\n        imageUrl: 'https://i.ibb.co/4W2DGKm/floral-blouse.png',\n        price: 20\n      },\n      {\n        id: 25,\n        name: 'Floral Dress',\n        imageUrl: 'https://i.ibb.co/KV18Ysr/floral-skirt.png',\n        price: 80\n      },\n      {\n        id: 26,\n        name: 'Red Dots Dress',\n        imageUrl: 'https://i.ibb.co/N3BN1bh/red-polka-dot-dress.png',\n        price: 80\n      },\n      {\n        id: 27,\n        name: 'Striped Sweater',\n        imageUrl: 'https://i.ibb.co/KmSkMbH/striped-sweater.png',\n        price: 45\n      },\n      {\n        id: 28,\n        name: 'Yellow Track Suit',\n        imageUrl: 'https://i.ibb.co/v1cvwNf/yellow-track-suit.png',\n        price: 135\n      },\n      {\n        id: 29,\n        name: 'White Blouse',\n        imageUrl: 'https://i.ibb.co/qBcrsJg/white-vest.png',\n        price: 20\n      }\n    ]\n  },\n  {\n    id: 5,\n    title: 'Mens',\n    routeName: 'mens',\n    items: [\n      {\n        id: 30,\n        name: 'Camo Down Vest',\n        imageUrl: 'https://i.ibb.co/xJS0T3Y/camo-vest.png',\n        price: 325\n      },\n      {\n        id: 31,\n        name: 'Floral T-shirt',\n        imageUrl: 'https://i.ibb.co/qMQ75QZ/floral-shirt.png',\n        price: 20\n      },\n      {\n        id: 32,\n        name: 'Black & White Longsleeve',\n        imageUrl: 'https://i.ibb.co/55z32tw/long-sleeve.png',\n        price: 25\n      },\n      {\n        id: 33,\n        name: 'Pink T-shirt',\n        imageUrl: 'https://i.ibb.co/RvwnBL8/pink-shirt.png',\n        price: 25\n      },\n      {\n        id: 34,\n        name: 'Jean Long Sleeve',\n        imageUrl: 'https://i.ibb.co/VpW4x5t/roll-up-jean-shirt.png',\n        price: 40\n      },\n      {\n        id: 35,\n        name: 'Burgundy T-shirt',\n        imageUrl: 'https://i.ibb.co/mh3VM1f/polka-dot-shirt.png',\n        price: 25\n      }\n    ]\n  }\n];\n\nexport default SHOP_DATA;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport SubmitButton from '../SubmitButton/submitButton';\nimport { addItem } from '../../Redux/cart/cartAction';\nimport './collectionItem.scss';\n\nconst CollectionItem = ({ item, addItem }) => {\n  const { name, price, imageUrl } = item;\n  \n  return (\n    <div className='collection-item'>\n      <div\n        className='image'\n        style={{\n          backgroundImage: `url(${imageUrl})`\n        }}\n      />\n      <div className='collection-footer'>\n        <span className='name'>{name}</span>\n        <span className='price'>{price}</span>\n      </div>\n      <SubmitButton inverted>\n        加入購物車\n      </SubmitButton>\n      <SubmitButton onClick={() => addItem(item)} inverted>\n        Add to cart\n      </SubmitButton>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  addItem: item => dispatch(addItem(item))\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(CollectionItem);\n","import React from 'react';\n\nimport CollectionItem from '../CollectionItem/collectionItem';\n\nimport './collectionPreview.scss';\n\nconst CollectionPreview = ({ title, items }) => (\n  <div className='collection-preview'>\n    <h1 className='title'>{title.toUpperCase()}</h1>\n    <div className='preview'>\n      {items\n        .filter((item, idx) => idx < 4)\n        .map(item => (\n          <CollectionItem key={item.id} item={item} />\n        ))}\n    </div>\n  </div>\n);\n\nexport default CollectionPreview;\n","import React from 'react';\n\nimport SHOP_DATA from './shop.data.js';\n\nimport CollectionPreview from '../../components/CollectionPreview/collectionPreview';\n\nclass ShopPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collections: SHOP_DATA\n    };\n  }\n\n  render() {\n    const { collections } = this.state;\n    return (\n      <div className='shop-page'>\n        {collections.map(({ id, ...otherCollectionProps }) => (\n          <CollectionPreview key={id} {...otherCollectionProps} />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ShopPage;\n","import React, { useState, useEffect } from \"react\";\nimport \"./FaqAccordionTitle.scss\";\nimport { FiChevronUp } from \"react-icons/fi\";\n\nconst FaqAccordionTitle = (props) => {\n  const [titleDropDownToggle, setTitleDropDownToggle] = useState(false);\n  const [arrowIconActive, setArrowIconActive] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const [contentDropDownToggle, setContentDropDownToggle] = useState(\"\");\n  const [aaa, setAaa] = useState(true);\n  const clickTitle = (e) => {\n    props.onClick(e);\n  };\n\n  return (\n    <>\n      <div className=\"wrapper\">\n        <button\n          id={props.titleId}\n          onClick={(e) => (\n            setArrowIconActive(!arrowIconActive), clickTitle(e)\n          )}\n          \n          className={`accordion-header\n\n\n         ${!props.titleId  ? \"display-none\" :\" \"}\n          \n          `}\n        >\n          {props.title}\n          \n          <FiChevronUp\n            \n            className={`arrow-icon-position arrow-icon\n            ${!props.titleId  ? \"display-none\" :\" \"}\n            \n             ${ \n              arrowIconActive ? \"arrow-icon-active\" : \"\"\n            }`}\n          />\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default FaqAccordionTitle;\n","import React, { useState, useEffect } from \"react\";\nimport \"./FaqAccordionSubtitle.scss\";\n\n\nconst FaqAccordionSubtitle = (props) => {\n  const { test } = props;\n  const [titleDropDownToggle, setTitleDropDownToggle] = useState(false);\n  const [contentDropDownToggle, setContentDropDownToggle] = useState(true);\n  const [plusMinusCollapsed, setPlusMinusCollapsed] = useState(true);\n  \n\n  useEffect(() => {\n    setTitleDropDownToggle(!titleDropDownToggle);\n    props.allClose.forEach((el) => {\n\n      // 問題\n      if (el) {\n        setContentDropDownToggle(false);\n      } else {\n        setContentDropDownToggle(true);}\n    \n    });\n\n    \n  }, [props.active]);\n\n  useEffect(() => {\n    contentDropDownToggle\n      ? setPlusMinusCollapsed(true)\n      : setPlusMinusCollapsed(false);\n  }, [contentDropDownToggle]);\n\n  console.log(props.titleId,\"4444\")\n  return (\n    <>\n      <div className={`content-title-position  `}>\n        <div className={`displayNone`}>\n          <div\n            onClick={() => (\n              setContentDropDownToggle(!contentDropDownToggle),\n              setPlusMinusCollapsed(!plusMinusCollapsed)\n            )}\n            className={`content-title-position content-hidden\n             ${titleDropDownToggle ? \"\" : \"active1\"} `}\n                      \n          >\n            <span\n              className={`plus-minus-toggle  content-title  ${\n                plusMinusCollapsed ? \"collapsed\" : \"\"\n              } \n            `}\n            >\n              {props.subtitle}\n            </span>\n          </div>\n        </div>\n\n        <div\n          className={`content-position content content-hidden ${\n            contentDropDownToggle ? \"\" : \"active2\"\n          }`}\n        >\n          <p>{props.subtitleContent} </p>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default FaqAccordionSubtitle;\n","import React from 'react'\nimport './FaqAccordionHead.scss'\n\nconst FaqAccordionHead = ({ classImgDir, classImg, title, content, content2 }) => {\n  return (\n    <>\n      <div className=\"class-head flex-wrap align-items-center\">\n        <div className=\"headLeft\">\n          <img className=\"object-fit-cover\" src={`images/faq/aaa.png`} />\n        </div>\n        <div className=\"headRight\">\n          <p className=\"headTitle\">InSense FAQ</p>\n          <p className=\"headContent\">週一至週日</p>\n          <p className=\"headContent\">上午9:00 ~ 下午6:00</p>\n        </div>\n      </div>\n      <div className=\"serch\">\n      </div>\n\n      <div className=\"faq-header\">\n      <p >\n      常見問題\n      </p>\n      </div>\n    </>\n  );\n};\n\nexport default FaqAccordionHead;\n","import React, { useState, useEffect } from \"react\";\nimport \"./FaqAccordion.scss\";\nimport FaqAccordionTitle from \"../../components/FaqAccordionTitle/FaqAccordionTitle\";\nimport FaqAccordionSubtitle from \"../../components/FaqAccordionSubtitle/FaqAccordionSubtitle\";\nimport FaqAccordionHead from \"../../components/FaqAccordionHead/FaqAccordionHead\"\nimport MainContainer from '../../components/mainContainer'\n\nimport { apiUri } from \"../../constants/api\";\n\nconst FaqAccordion = (props) => {\n  const [titleDropDownToggle, setTitleDropDownToggle] = useState({});\n  const [title, setTitle] = useState([]);\n  const [value, setValue] = useState(\"\");\n  const [subtitle, setSubtitle] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [allClose, setAllClose] = useState([]);\n\n\n\n\n\n  const titleAccordion = (e) => {\n\n\n    //重設state\n    const newObj = { ...titleDropDownToggle }\n    newObj[e.target.id] = !titleDropDownToggle[e.target.id]\n\n    setTitleDropDownToggle(newObj)\n    setAllClose(Object.values(titleDropDownToggle))\n    // console.log(Object.values(titleDropDownToggle))\n\n  };\n\n  const subtitleAccordion = (e) => {\n\n\n  }\n\n  async function getData() {\n    const request = new Request(`${apiUri}/faq`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"appliaction/json\",\n      }),\n    });\n    const res = await fetch(request);\n    const data = await res.json();\n    // 設定資料\n    return data;\n  }\n\n  useEffect(() => {\n    (async () => {\n      const data = await getData();\n      setTitle(data[0]);\n\n      //initially false\n      const newObj = {};\n      data[0].forEach((el) => {\n        const titleId = el.titleId;\n        newObj[titleId] = false;\n      });\n      setTitleDropDownToggle(newObj);\n      setSubtitle(data[1]);\n    })();\n  }, []);\n\n\n  useEffect(() => {\n    if (props.titleId === \" \") {\n      setTitleDropDownToggle(\"\")\n    }\n\n  }, [props.titleId])\n\n  return (\n    <>\n      <MainContainer>\n        <FaqAccordionHead />\n        <div className=\"faq-wrapper\">\n          {title.map((el, item) => [\n            <FaqAccordionTitle\n              onClick={(e) => titleAccordion(e)}\n              key={item}\n              value={el.id}\n              id={el.id}\n              titleId={el.titleId}\n              title={el.title}\n            />,\n            subtitle\n              .filter((subData, item) => subData.titleId === el.titleId)\n              .map(\n                (props, index) => (\n\n                  (\n                    <FaqAccordionSubtitle\n                      onClickSub={(e) => subtitleAccordion(e)}\n                      key={index}\n                      allClose={allClose}\n                      subtitle={props.subtitle}\n                      data-title={props.faqTitle}\n                      subtitleContent={props.subtitleContent}\n                      active={titleDropDownToggle[props.titleId]}\n                      value={props.id}\n                      id={props.id}\n                      titleId={props.titleId}\n                    />\n                  )\n                )\n              ),\n          ])}\n        </div>\n        <div className=\"white-space\"></div>\n\n        <div className=\"bottom d-flex\">\n          <div className=\"email\">\n            <p className=\"text\">與我們聯繫</p>\n            <a className=\"button\" href=\"mailto:insenseofficial2020@gmail.com\">\n              <p >\n                通過電子郵件\n              </p>\n            </a>\n          </div>\n\n          <div className=\"tel \">\n            <p className=\"text\">透過電話\n            </p>\n\n            <p className=\"tel-number\">\n              0800-067-157\n            </p>\n\n          </div>\n        </div>\n      </MainContainer>\n    </>\n\n  );\n};\n\nexport default FaqAccordion;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  clearItemFromCart,\n  addItem,\n  removeItem,\n} from \"../../Redux/cart/cartAction\";\n\nimport \"./checkoutItem.scss\";\n\nconst CheckoutItem = ({ cartItem, clearItem, addItem, removeItem }) => {\n  const { itemName, itemimg, itemPrice, quantity } = cartItem;\n  return (\n    <div className=\"checkout-item\">\n      <div className=\"image-container\">\n        <img src={itemimg} alt=\"item\" />\n      </div>\n      <span className=\"name\">{itemName}</span>\n      <span className=\"quantity\">\n        <div className=\"arrow\" onClick={() => removeItem(cartItem)}>\n          &#10094;\n        </div>\n        <span className=\"value\">{quantity}</span>\n        <div className=\"arrow\" onClick={() => addItem(cartItem)}>\n          &#10095;\n        </div>\n      </span>\n      <span className=\"price\">NT$ {itemPrice}</span>\n      <span className=\"subtotal\">\n        NT$ {+itemPrice * +quantity}\n        <span className=\"remove-button\" onClick={() => clearItem(cartItem)}>\n          &#10005;\n        </span>\n      </span>\n    </div>\n  );\n};\n\n// export default CheckoutItem;\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearItem: (item) => dispatch(clearItemFromCart(item)),\n  addItem: (item) => dispatch(addItem(item)),\n  removeItem: (item) => dispatch(removeItem(item)),\n});\n\nexport default connect(null, mapDispatchToProps)(CheckoutItem);\n","import React, { useState, useEffect } from \"react\";\nimport { createStructuredSelector } from \"reselect\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport {\n  selectCartItems,\n  selectCartTotal,\n  selectUserLogin,\n  selectCouponCode\n} from \"../../Redux/cart/cartSelectors\";\n\nimport { userToggleFunc } from \"../../Redux/nav/navAction\";\nimport { bindActionCreators } from \"redux\";\nimport { toggleCartHidden, addCouponCode } from \"../../Redux/cart/cartAction\";\n\nimport CheckoutItem from \"../../components/CheckoutItem/checkoutItem\";\n\nimport \"./checkout.scss\";\nimport Button from \"@material-ui/core/Button\";\nimport SubmitButton from \"../../components/SubmitButton/submitButton\"\n\nimport { apiUri } from \"../../constants/api\";\n\nconst CheckoutPage = ({\n  cartItems,\n  total,\n  handleChange,\n  history,\n  user,\n  userToggleFunc,\n  userSelect,\n  clearCart,\n  addCouponCode\n}) => {\n  const [codeValue, setCodeValue] = useState();\n  const [Data, setData] = useState([]);\n  const [DisCountValue, setDiscountValue] = useState(0);\n  const [Disabled, setDisabled] = useState(false)\n\n  async function getData() {\n    const request = new Request(`${apiUri}/coupon`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"appliaction/json\",\n      }),\n    });\n    const res = await fetch(request);\n    const data = await res.json();\n\n    return data;\n  }\n\n  useEffect(() => {\n    (async () => {\n      const data = await getData();\n      setData(data);\n    })();\n  }, [codeValue]);\n\n\n  useEffect(() => {\n    const currentData = Data.filter((el) => (el.couponCode === codeValue))\n    if (currentData.length > 0) {\n      currentData.forEach((element) => setDiscountValue(element.couponDiscount));\n      setDisabled(true)\n      addCouponCode(codeValue)\n    }\n  }, [Data]);\n\n  return (\n    <div className=\"checkout-page\">\n      <div className=\"title\">購物車</div>\n      <div className=\"checkout-header\">\n        <div className=\"header-block product-img\">\n          <span>商品</span>\n        </div>\n        <div className=\"header-block\">\n          <span>商品名稱</span>\n        </div>\n        <div className=\"header-block product-qty\">\n          <span>數量</span>\n        </div>\n        <div className=\"header-block product-price\">\n          <span>價格</span>\n        </div>\n        <div className=\"header-block product-subtotal\">\n          <span>小計</span>\n        </div>\n      </div>\n      {cartItems.map((cartItem) => (\n        <CheckoutItem key={cartItem.itemId} cartItem={cartItem} />\n      ))}\n\n      {/* 優惠卷欄位 */}\n      <div className=\"coupon d-flex\">\n        <p className=\"text-coupon-code\">優惠碼</p>\n        <input\n          className=\"code-input\"\n          type=\"text\"\n          name=\"coupon\"\n          value={codeValue}\n          label=\"折扣碼\"\n          onChange={(e) => setCodeValue(e.target.value)}\n          disabled={Disabled}\n        />\n      </div>\n      <div className=\"sum\">小計： ${total}</div>\n      <div className=\"discount\">折扣: ${DisCountValue} </div>\n      <div className=\"total\">總計: NT${total - DisCountValue}</div>\n\n      <Button\n        className=\"checkout-button\"\n        variant=\"outlined\"\n        inverted={true}\n        onClick={(e) => {\n          if (!userSelect) {\n            console.log(userSelect);\n            e.preventDefault();\n            e.stopPropagation();\n            userToggleFunc();\n          } else {\n            history.push(\"/orders/orderDelivery\");\n          }\n        }}\n      >\n        確認訂單\n        </Button>\n    </div>\n  );\n}\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({ toggleCartHidden, userToggleFunc, addCouponCode }, dispatch);\n};\n\nconst mapStateToProps = createStructuredSelector({\n  cartItems: selectCartItems,\n  total: selectCartTotal,\n  userSelect: selectUserLogin,\n  couponCode: selectCouponCode\n});\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CheckoutPage)\n);\n","import React, { useState, useEffect } from \"react\";\nimport \"./MyCoupon.scss\";\nimport FormInput from \"../FormInput/FormInput\";\nimport { apiUri } from '../../constants/api';\n\nconst MyCoupon = (props) => {\n  const [couponCode, setCouponCode] = useState();\n  const [couponDiscount, setCouponDiscount] = useState();\n  const [codeValue, setCodeValue] = useState();\n  const [Data, setData] = useState([]);\n  const [DisCountValue, setDiscountValue] = useState(0);\n\n  async function getData() {\n    const request = new Request(`${apiUri}/coupon`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"appliaction/json\",\n      }),\n    });\n    const res = await fetch(request);\n    const data = await res.json();\n\n    return data;\n  }\n  useEffect(() => {\n    (async () => {\n\n      const data = await getData();\n      setData(data);\n      \n    })();\n  }, [codeValue]);\n\n  useEffect(() => {\n    Data.filter(\n      (el) => (el.couponCode.toString() === codeValue)).forEach((element) => setDiscountValue(element.couponDiscount));\n  }, [couponCode, codeValue,DisCountValue, Data]);\n\n  return (\n    <>\n      <div className=\"container d-flex\">\n        <p className=\"text-coupon-code\">優惠碼</p>\n        <input\n          className=\"code-input\"\n          onChange={(e) => setCodeValue(e.target.value)}\n        ></input>\n      </div>\n\n      <div className=\"container d-flex\">\n        <p>折扣</p>\n        <p>-NT${DisCountValue}</p>\n        <p></p>\n      </div>\n    </>\n  );\n};\n\nexport default MyCoupon;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n//persistor to store data in local storage\n// import { PersistGate } from \"redux-persist/integration/react\";\n// import { persistor } from \"./Redux/store\";\nimport \"normalize.css\";\n\n//模板\nimport Nav from \"./components/Nav/nav\";\nimport Footer from \"./components/Footer/footer\";\nimport MainContent from \"./components/mainContent\";\n\n//內頁\nimport IndexPage from \"./pages/indexPage\";\nimport ClassDetail from \"./pages/classDetail\";\nimport ItemList from \"./pages/ItemList/itemList\";\nimport ItemDetails from \"./pages/ItemDetails/itemDetails\";\nimport MyWishList from \"./pages/MyWishList/myWishList\";\nimport OrderDetail from \"./pages/OrderDetail/orderDetail\";\nimport ClassPage from \"./pages/ClassPage/classPage\";\nimport ClassList from \"./pages/ClassList/classList\";\nimport Registration from \"./pages/Registration/registration\";\nimport PasswordForgot from \"./pages/PasswordForgot/passwordForgot\";\nimport PasswordForgotChange from \"./pages/PasswordForgotChange/passwordForgotChange\";\nimport Modify from \"./pages/Modify/modify\";\nimport CreditCard from \"./pages/CreditCard/creditCard\";\nimport OrderPayMent from \"./pages/OrderPayMent/orderPayMent\";\nimport AccountDashboard from \"./pages/AccountDashboard/accountDashboard\";\n\nimport OrderDelivery from \"./pages/OrderDelivery/orderDelivery\";\nimport ErrorPage from \"./pages/ErrorPage/errorPage\";\nimport OrderHistory from './pages/OrderHistory/orderHistory'\nimport ShopPage from \"./pages/shop/shop.component\";\nimport FaqAccordion from \"./pages/FaqAccordion/FaqAccordion\";\nimport CheckoutPage from \"./pages/Checkout/chechout\";\nimport MyCoupon from \"./components/MyCoupon/MyCoupon\";\n\nfunction App() {\n  return (\n    <Router>\n      {/* <PersistGate persistor={persistor}> */}\n      <>\n        <Nav />\n        <MainContent>\n          <Switch>\n            <Route path=\"/classlist\">\n              <ClassList />\n            </Route>\n            <Route path=\"/FaqAccordion\">\n              <FaqAccordion />\n            </Route>\n            <Route path=\"/itemlist\">\n              <Route path=\"/itemlist/:brandOrCategory/:Name\">\n                <ItemList />\n              </Route>\n            </Route>\n            <Route path=\"/itemdetail/:itemId?\">\n              <ItemDetails />\n            </Route>\n            <Route path=\"/errorPage\">\n              <ErrorPage />\n            </Route>\n            <Route path=\"/orders\">\n              <Route path=\"/orders/checkout\">\n                <CheckoutPage />\n              </Route>\n              <Route path=\"/orders/orderDelivery\">\n                <OrderDelivery />\n              </Route>\n              <Route path=\"/orders/orderpayment\">\n                <OrderPayMent />\n              </Route>\n              <Route path=\"/orders/orderdetail/:orderid\">\n                <OrderDetail />\n              </Route>\n            </Route>\n            <Route path=\"/classdetail/:classid\">\n              <ClassDetail />\n            </Route>\n            <Route path=\"/Shop\">\n              <ShopPage />\n            </Route>\n            <Route path=\"/account\">\n              <Route path=\"/account\" exact>\n                <AccountDashboard />\n              </Route>\n              <Route path=\"/account/classpage\">\n                <ClassPage />\n              </Route>\n              <Route path=\"/account/creditcard\">\n                <CreditCard />\n              </Route>\n              <Route path=\"/account/wishlist\">\n                <MyWishList />\n              </Route>\n              <Route path=\"/account/passwordforgot\">\n                <PasswordForgot />\n              </Route>\n              <Route path=\"/account/passwordforgotchange/:userId\">\n                <PasswordForgotChange />\n              </Route>\n              <Route path=\"/account/registration\">\n                <Registration />\n              </Route>\n              <Route path=\"/account/modify\">\n                <Modify />\n              </Route>\n              <Route path=\"/account/orderhistory\">\n                <OrderHistory />\n              </Route>\n              <Route path=\"/account/MyCoupon\">\n                <MyCoupon />\n              </Route>\n            </Route>\n            <Route path=\"/\">\n              <IndexPage />\n            </Route>\n\n            \n          </Switch>\n        </MainContent>\n        <Footer />\n      </>\n      {/* </PersistGate> */}\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\n\n//import store\nimport { store } from \"./Redux/store\";\nimport App from \"./App\";\n// import App from \"./Test\";\n\n// import Modal from \"react-modal\";\n\nimport * as serviceWorker from \"./serviceWorker\";\n\n// Modal.setAppElement(\"#yourAppElement\");\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}